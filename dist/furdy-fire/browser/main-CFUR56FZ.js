var QA=Object.defineProperty,YA=Object.defineProperties;var JA=Object.getOwnPropertyDescriptors;var Fa=Object.getOwnPropertySymbols;var Xv=Object.prototype.hasOwnProperty,e_=Object.prototype.propertyIsEnumerable;var Zv=(t,e,n)=>e in t?QA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D=(t,e)=>{for(var n in e||={})Xv.call(e,n)&&Zv(t,n,e[n]);if(Fa)for(var n of Fa(e))e_.call(e,n)&&Zv(t,n,e[n]);return t},ie=(t,e)=>YA(t,JA(e));var t_=(t,e)=>{var n={};for(var r in t)Xv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Fa)for(var r of Fa(t))e.indexOf(r)<0&&e_.call(t,r)&&(n[r]=t[r]);return n};var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var n_=null;var Ld=1,r_=Symbol("SIGNAL");function Z(t){let e=n_;return n_=t,e}var i_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ZA(t){if(!(jd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ld)){if(!t.producerMustRecompute(t)&&!Vd(t)){t.dirty=!1,t.lastCleanEpoch=Ld;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ld}}function s_(t){return t&&(t.nextProducerIndex=0),Z(t)}function o_(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(jd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ud(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vd(t){La(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ZA(n),r!==n.version))return!0}return!1}function a_(t){if(La(t),jd(t))for(let e=0;e<t.producerNode.length;e++)Ud(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ud(t,e){if(XA(t),La(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Ud(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];La(i),i.producerIndexOfThis[r]=e}}function jd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function La(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function XA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function eS(){throw new Error}var tS=eS;function c_(t){tS=t}function O(t){return typeof t=="function"}function hi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Va=hi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function mr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(s){e=s instanceof Va?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{u_(s)}catch(o){e=e??[],o instanceof Va?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Va(e)}}add(e){var n;if(e&&e!==this)if(this.closed)u_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&mr(n,e)}remove(e){let{_finalizers:n}=this;n&&mr(n,e),e instanceof t&&e._removeParent(this)}};_e.EMPTY=(()=>{let t=new _e;return t.closed=!0,t})();var Bd=_e.EMPTY;function Ua(t){return t instanceof _e||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function u_(t){O(t)?t():t.unsubscribe()}var Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fi={setTimeout(t,e,...n){let{delegate:r}=fi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=fi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ja(t){fi.setTimeout(()=>{let{onUnhandledError:e}=Mt;if(e)e(t);else throw t})}function ks(){}var l_=$d("C",void 0,void 0);function d_(t){return $d("E",void 0,t)}function h_(t){return $d("N",t,void 0)}function $d(t,e,n){return{kind:t,value:e,error:n}}var yr=null;function pi(t){if(Mt.useDeprecatedSynchronousErrorHandling){let e=!yr;if(e&&(yr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=yr;if(yr=null,n)throw r}}else t()}function f_(t){Mt.useDeprecatedSynchronousErrorHandling&&yr&&(yr.errorThrown=!0,yr.error=t)}var vr=class extends _e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ua(e)&&e.add(this)):this.destination=iS}static create(e,n,r){return new gi(e,n,r)}next(e){this.isStopped?qd(h_(e),this):this._next(e)}error(e){this.isStopped?qd(d_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qd(l_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nS=Function.prototype.bind;function Hd(t,e){return nS.call(t,e)}var zd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ba(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ba(r)}else Ba(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ba(n)}}},gi=class extends vr{constructor(e,n,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Mt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hd(e.next,s),error:e.error&&Hd(e.error,s),complete:e.complete&&Hd(e.complete,s)}):i=e}this.destination=new zd(i)}};function Ba(t){Mt.useDeprecatedSynchronousErrorHandling?f_(t):ja(t)}function rS(t){throw t}function qd(t,e){let{onStoppedNotification:n}=Mt;n&&fi.setTimeout(()=>n(t,e))}var iS={closed:!0,next:ks,error:rS,complete:ks};var mi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function nt(t){return t}function $a(...t){return Gd(t)}function Gd(t){return t.length===0?nt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=oS(n)?n:new gi(n,r,i);return pi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=p_(r),new r((i,s)=>{let o=new gi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[mi](){return this}pipe(...n){return Gd(n)(this)}toPromise(n){return n=p_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function p_(t){var e;return(e=t??Mt.Promise)!==null&&e!==void 0?e:Promise}function sS(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function oS(t){return t&&t instanceof vr||sS(t)&&Ua(t)}function Wd(t){return O(t?.lift)}function Y(t){return e=>{if(Wd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,r,i){return new Kd(t,e,n,r,i)}var Kd=class extends vr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function yi(){return Y((t,e)=>{let n=null;t._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var vi=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Wd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _e;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_e.EMPTY)}return e}refCount(){return yi()(this)}};var g_=hi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ha(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new g_}next(n){pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Bd:(this.currentObservers=null,s.push(n),new _e(()=>{this.currentObservers=null,mr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new Ha(e,n),t})(),Ha=class extends We{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Bd}};var xe=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Qd={now(){return(Qd.delegate||Date).now()},delegate:void 0};var qa=class extends _e{constructor(e,n){super()}schedule(e,n=0){return this}};var Fs={setInterval(t,e,...n){let{delegate:r}=Fs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Fs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var _i=class extends qa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Fs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Fs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,mr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var wi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};wi.now=Qd.now;var Ii=class extends wi{constructor(e,n=wi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Yd=new Ii(_i);var za=class extends _i{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ga=class extends Ii{};var Jd=new Ga(za);var rt=new G(t=>t.complete());function m_(t){return t&&O(t.schedule)}function y_(t){return t[t.length-1]}function Wa(t){return O(y_(t))?t.pop():void 0}function Vn(t){return m_(y_(t))?t.pop():void 0}function Zd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function __(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function v_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _r(t){return this instanceof _r?(this.v=t,this):new _r(t)}function w_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,v){s.push([h,f,g,v])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof _r?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function I_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof v_=="function"?v_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ka=t=>t&&typeof t.length=="number"&&typeof t!="function";function Qa(t){return O(t?.then)}function Ya(t){return O(t[mi])}function Ja(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function Za(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xa=aS();function ec(t){return O(t?.[Xa])}function tc(t){return w_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield _r(n.read());if(i)return yield _r(void 0);yield yield _r(r)}}finally{n.releaseLock()}})}function nc(t){return O(t?.getReader)}function Ie(t){if(t instanceof G)return t;if(t!=null){if(Ya(t))return cS(t);if(Ka(t))return uS(t);if(Qa(t))return lS(t);if(Ja(t))return E_(t);if(ec(t))return dS(t);if(nc(t))return hS(t)}throw Za(t)}function cS(t){return new G(e=>{let n=t[mi]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uS(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lS(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ja)})}function dS(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function E_(t){return new G(e=>{fS(t,e).catch(n=>e.error(n))})}function hS(t){return E_(tc(t))}function fS(t,e){var n,r,i,s;return __(this,void 0,void 0,function*(){try{for(n=I_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Xe(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Un(t,e=0){return Y((n,r)=>{n.subscribe(W(r,i=>Xe(r,t,()=>r.next(i),e),()=>Xe(r,t,()=>r.complete(),e),i=>Xe(r,t,()=>r.error(i),e)))})}function jn(t,e=0){return Y((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function D_(t,e){return Ie(t).pipe(jn(e),Un(e))}function T_(t,e){return Ie(t).pipe(jn(e),Un(e))}function C_(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function b_(t,e){return new G(n=>{let r;return Xe(n,e,()=>{r=t[Xa](),Xe(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function rc(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{Xe(n,e,()=>{let r=t[Symbol.asyncIterator]();Xe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function A_(t,e){return rc(tc(t),e)}function S_(t,e){if(t!=null){if(Ya(t))return D_(t,e);if(Ka(t))return C_(t,e);if(Qa(t))return T_(t,e);if(Ja(t))return rc(t,e);if(ec(t))return b_(t,e);if(nc(t))return A_(t,e)}throw Za(t)}function he(t,e){return e?S_(t,e):Ie(t)}function P(...t){let e=Vn(t);return he(t,e)}function Ei(t,e){let n=O(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function Xd(t){return!!t&&(t instanceof G||O(t.lift)&&O(t.subscribe))}var _n=hi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function U(t,e){return Y((n,r)=>{let i=0;n.subscribe(W(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:pS}=Array;function gS(t,e){return pS(e)?t(...e):t(e)}function ic(t){return U(e=>gS(t,e))}var{isArray:mS}=Array,{getPrototypeOf:yS,prototype:vS,keys:_S}=Object;function sc(t){if(t.length===1){let e=t[0];if(mS(e))return{args:e,keys:null};if(wS(e)){let n=_S(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function wS(t){return t&&typeof t=="object"&&yS(t)===vS}function oc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ac(...t){let e=Vn(t),n=Wa(t),{args:r,keys:i}=sc(t);if(r.length===0)return he([],e);let s=new G(IS(r,e,i?o=>oc(i,o):nt));return n?s.pipe(ic(n)):s}function IS(t,e,n=nt){return r=>{R_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)R_(e,()=>{let u=he(t[c],e),l=!1;u.subscribe(W(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function R_(t,e,n){t?Xe(n,t,e):e()}function M_(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=v=>u<r?g(v):c.push(v),g=v=>{s&&e.next(v),u++;let _=!1;Ie(n(v,l++)).subscribe(W(e,T=>{i?.(T),s?f(T):e.next(T)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;c.length&&u<r;){let T=c.shift();o?Xe(e,o,()=>g(T)):g(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(W(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Te(t,e,n=1/0){return O(e)?Te((r,i)=>U((s,o)=>e(r,s,i,o))(Ie(t(r,i))),n):(typeof e=="number"&&(n=e),Y((r,i)=>M_(r,i,t,n)))}function eh(t=1/0){return Te(nt,t)}function N_(){return eh(1)}function Di(...t){return N_()(he(t,Vn(t)))}function cc(t){return new G(e=>{Ie(t()).subscribe(e)})}function th(...t){let e=Wa(t),{args:n,keys:r}=sc(t),i=new G(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;Ie(n[l]).subscribe(W(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?oc(r,a):a),s.complete())}))}});return e?i.pipe(ic(e)):i}function it(t,e){return Y((n,r)=>{let i=0;n.subscribe(W(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Bn(t){return Y((e,n)=>{let r=null,i=!1,s;r=e.subscribe(W(n,void 0,void 0,o=>{s=Ie(t(o,Bn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function x_(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(W(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function wr(t,e){return O(e)?Te(t,e,1):Te(t,1)}function $n(t){return Y((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wn(t){return t<=0?()=>rt:Y((e,n)=>{let r=0;e.subscribe(W(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function nh(t){return U(()=>t)}function uc(t=ES){return Y((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ES(){return new _n}function Ti(t){return Y((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Nt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,s)=>t(i,s,r)):nt,wn(1),n?$n(e):uc(()=>new _n))}function Ci(t){return t<=0?()=>rt:Y((e,n)=>{let r=[];e.subscribe(W(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function rh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,s)=>t(i,s,r)):nt,Ci(1),n?$n(e):uc(()=>new _n))}function lc(t,e){return Y(x_(t,e,arguments.length>=2,!0))}function dc(...t){let e=Vn(t);return Y((n,r)=>{(e?Di(t,n,e):Di(t,n)).subscribe(r)})}function vt(t,e){return Y((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(W(r,c=>{i?.unsubscribe();let u=0,l=s++;Ie(t(c,l)).subscribe(i=W(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ih(t){return Y((e,n)=>{Ie(t).subscribe(W(n,()=>n.complete(),ks)),!n.closed&&e.subscribe(n)})}function we(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?Y((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(W(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):nt}var DS="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(Gc(e,n)),this.code=e}};function Gc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Js(t){return{toString:t}.toString()}var hc="__parameters__";function TS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function mw(t,e,n){return Js(()=>{let r=TS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(hc)?c[hc]:Object.defineProperty(c,hc,{value:[]})[hc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ls=globalThis;function oe(t){for(let e in t)if(t[e]===oe)return e;throw Error("Could not find renamed property on target object.")}function CS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Qe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Qe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function P_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var bS=oe({__forward_ref__:oe});function Wn(t){return t.__forward_ref__=Wn,t.toString=function(){return Qe(this())},t}function Ke(t){return yw(t)?t():t}function yw(t){return typeof t=="function"&&t.hasOwnProperty(bS)&&t.__forward_ref__===Wn}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wc(t){return O_(t,_w)||O_(t,ww)}function vw(t){return Wc(t)!==null}function O_(t,e){return t.hasOwnProperty(e)?t[e]:null}function AS(t){let e=t&&(t[_w]||t[ww]);return e||null}function k_(t){return t&&(t.hasOwnProperty(F_)||t.hasOwnProperty(SS))?t[F_]:null}var _w=oe({\u0275prov:oe}),F_=oe({\u0275inj:oe}),ww=oe({ngInjectableDef:oe}),SS=oe({ngInjectorDef:oe}),S=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Iw(t){return t&&!!t.\u0275providers}var RS=oe({\u0275cmp:oe}),MS=oe({\u0275dir:oe}),NS=oe({\u0275pipe:oe}),xS=oe({\u0275mod:oe}),Dc=oe({\u0275fac:oe}),Vs=oe({__NG_ELEMENT_ID__:oe}),L_=oe({__NG_ENV_ID__:oe});function Tc(t){return typeof t=="string"?t:t==null?"":String(t)}function PS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Tc(t)}function OS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,t)}function hf(t,e){throw new b(-201,!1)}var H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(H||{}),Eh;function Ew(){return Eh}function et(t){let e=Eh;return Eh=t,e}function Dw(t,e,n){let r=Wc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&H.Optional)return null;if(e!==void 0)return e;hf(t,"Injector")}var kS={},Us=kS,Dh="__NG_DI_FLAG__",Cc="ngTempTokenPath",FS="ngTokenPath",LS=/\n/gm,VS="\u0275",V_="__source",Ri;function US(){return Ri}function Hn(t){let e=Ri;return Ri=t,e}function jS(t,e=H.Default){if(Ri===void 0)throw new b(-203,!1);return Ri===null?Dw(t,void 0,e):Ri.get(t,e&H.Optional?null:void 0,e)}function z(t,e=H.Default){return(Ew()||jS)(Ke(t),e)}function w(t,e=H.Default){return z(t,Kc(e))}function Kc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Th(t){let e=[];for(let n=0;n<t.length;n++){let r=Ke(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){let a=r[o],c=BS(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(z(i,s))}else e.push(z(r))}return e}function Tw(t,e){return t[Dh]=e,t.prototype[Dh]=e,t}function BS(t){return t[Dh]}function $S(t,e,n,r){let i=t[Cc];throw e[V_]&&i.unshift(e[V_]),t.message=HS(`
`+t.message,i,n,r),t[FS]=i,t[Cc]=null,t}function HS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==VS?t.slice(2):t;let i=Qe(e);if(Array.isArray(e))i=e.map(Qe).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Qe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(LS,`
  `)}`}var Vt=Tw(mw("Optional"),8);var Cw=Tw(mw("SkipSelf"),4);function Er(t,e){let n=t.hasOwnProperty(Dc);return n?t[Dc]:null}function ff(t,e){t.forEach(n=>Array.isArray(n)?ff(n,e):e(n))}function bw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function zS(t,e,n){let r=Zs(t,e);return r>=0?t[r|1]=n:(r=~r,qS(t,r,e,n)),r}function sh(t,e){let n=Zs(t,e);if(n>=0)return t[n|1]}function Zs(t,e){return GS(t,e,1)}function GS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ni={},st=[],Dr=new S(""),Aw=new S("",-1),Sw=new S(""),Ac=class{get(e,n=Us){if(n===Us){let r=new Error(`NullInjectorError: No provider for ${Qe(e)}!`);throw r.name="NullInjectorError",r}return n}},Rw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Rw||{}),Jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jt||{}),tt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(tt||{});function WS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ch(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];QS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function KS(t){return t===3||t===4||t===6}function QS(t){return t.charCodeAt(0)===64}function js(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?U_(t,n,i,null,e[++r]):U_(t,n,i,null,null))}}return t}function U_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Mw="ng-template";function YS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&WS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(pf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function pf(t){return t.type===4&&t.value!==Mw}function JS(t,e,n){let r=t.type===4&&!n?Mw:t.value;return e===r}function ZS(t,e,n){let r=4,i=t.attrs,s=i!==null?tR(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!xt(r)&&!xt(c))return!1;if(o&&xt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!JS(t,c,n)||c===""&&e.length===1){if(xt(r))return!1;o=!0}}else if(r&8){if(i===null||!YS(t,i,c,n)){if(xt(r))return!1;o=!0}}else{let u=e[++a],l=XS(c,i,pf(t),n);if(l===-1){if(xt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(xt(r))return!1;o=!0}}}}return xt(r)||o}function xt(t){return(t&1)===0}function XS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return nR(e,t)}function eR(t,e,n=!1){for(let r=0;r<e.length;r++)if(ZS(t,e[r],n))return!0;return!1}function tR(t){for(let e=0;e<t.length;e++){let n=t[e];if(KS(n))return e}return t.length}function nR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function j_(t,e){return t?":not("+e.trim()+")":e}function rR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!xt(o)&&(e+=j_(s,i),i=""),r=o,s=s||!xt(r);n++}return i!==""&&(e+=j_(s,i)),e}function iR(t){return t.map(rR).join(",")}function sR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!xt(i))break;i=s}r++}return{attrs:e,classes:n}}function Qc(t){return Js(()=>{let e=Fw(t),n=ie(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Rw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jt.Emulated,styles:t.styles||st,_:null,schemas:t.schemas||null,tView:null,id:""});Lw(n);let r=t.dependencies;return n.directiveDefs=$_(r,!1),n.pipeDefs=$_(r,!0),n.id=cR(n),n})}function oR(t){return Tr(t)||xw(t)}function aR(t){return t!==null}function Ut(t){return Js(()=>({type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function B_(t,e){if(t==null)return Ni;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=tt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==tt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ce(t){return Js(()=>{let e=Fw(t);return Lw(e),e})}function Nw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Tr(t){return t[RS]||null}function xw(t){return t[MS]||null}function Pw(t){return t[NS]||null}function Ow(t){let e=Tr(t)||xw(t)||Pw(t);return e!==null?e.standalone:!1}function kw(t,e){let n=t[xS]||null;if(!n&&e===!0)throw new Error(`Type ${Qe(t)} does not have '\u0275mod' property.`);return n}function Fw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ni,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||st,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:B_(t.inputs,e),outputs:B_(t.outputs),debugInfo:null}}function Lw(t){t.features?.forEach(e=>e(t))}function $_(t,e){if(!t)return null;let n=e?Pw:oR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(aR)}function cR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Nr(t){return{\u0275providers:t}}function Yc(...t){return{\u0275providers:Vw(!0,t),\u0275fromNgModule:!0}}function Vw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return ff(e,o=>{let a=o;bh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Uw(i,s),n}function Uw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];gf(i,s=>{e(s,r)})}}function bh(t,e,n,r){if(t=Ke(t),!t)return!1;let i=null,s=k_(t),o=!s&&Tr(t);if(!s&&!o){let c=t.ngModule;if(s=k_(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)bh(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{ff(s.imports,l=>{bh(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Uw(u,e)}if(!a){let u=Er(i)||(()=>new i);e({provide:i,useFactory:u,deps:st},i),e({provide:Sw,useValue:i,multi:!0},i),e({provide:Dr,useValue:()=>z(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;gf(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function gf(t,e){for(let n of t)Iw(n)&&(n=n.\u0275providers),Array.isArray(n)?gf(n,e):e(n)}var uR=oe({provide:String,useValue:oe});function jw(t){return t!==null&&typeof t=="object"&&uR in t}function lR(t){return!!(t&&t.useExisting)}function dR(t){return!!(t&&t.useFactory)}function xi(t){return typeof t=="function"}function hR(t){return!!t.useClass}var Jc=new S(""),vc={},fR={},oh;function mf(){return oh===void 0&&(oh=new Ac),oh}var _t=class{},Bs=class extends _t{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sh(e,o=>this.processProvider(o)),this.records.set(Aw,bi(void 0,this)),i.has("environment")&&this.records.set(_t,bi(void 0,this));let s=this.records.get(Jc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Sw,st,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Hn(this),r=et(void 0),i;try{return e()}finally{Hn(n),et(r)}}get(e,n=Us,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(L_))return e[L_](this);r=Kc(r);let i,s=Hn(this),o=et(void 0);try{if(!(r&H.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=vR(e)&&Wc(e);u&&this.injectableDefInScope(u)?c=bi(Ah(e),vc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&H.Self?mf():this.parent;return n=r&H.Optional&&n===Us?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Cc]=a[Cc]||[]).unshift(Qe(e)),s)throw a;return $S(a,e,"R3InjectorError",this.source)}else throw a}finally{et(o),Hn(s)}}resolveInjectorInitializers(){let e=Z(null),n=Hn(this),r=et(void 0),i;try{let s=this.get(Dr,st,H.Self);for(let o of s)o()}finally{Hn(n),et(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Qe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=Ke(e);let n=xi(e)?e:Ke(e&&e.provide),r=gR(e);if(!xi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=bi(void 0,vc,!0),i.factory=()=>Th(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===vc&&(n.value=fR,n.value=n.factory()),typeof n.value=="object"&&n.value&&yR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ke(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ah(t){let e=Wc(t),n=e!==null?e.factory:Er(t);if(n!==null)return n;if(t instanceof S)throw new b(204,!1);if(t instanceof Function)return pR(t);throw new b(204,!1)}function pR(t){if(t.length>0)throw new b(204,!1);let n=AS(t);return n!==null?()=>n.factory(t):()=>new t}function gR(t){if(jw(t))return bi(void 0,t.useValue);{let e=Bw(t);return bi(e,vc)}}function Bw(t,e,n){let r;if(xi(t)){let i=Ke(t);return Er(i)||Ah(i)}else if(jw(t))r=()=>Ke(t.useValue);else if(dR(t))r=()=>t.useFactory(...Th(t.deps||[]));else if(lR(t))r=()=>z(Ke(t.useExisting));else{let i=Ke(t&&(t.useClass||t.provide));if(mR(t))r=()=>new i(...Th(t.deps));else return Er(i)||Ah(i)}return r}function bi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mR(t){return!!t.deps}function yR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function vR(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function Sh(t,e){for(let n of t)Array.isArray(n)?Sh(n,e):n&&Iw(n)?Sh(n.\u0275providers,e):e(n)}function Kn(t,e){t instanceof Bs&&t.assertNotDestroyed();let n,r=Hn(t),i=et(void 0);try{return e()}finally{Hn(r),et(i)}}function _R(){return Ew()!==void 0||US()!=null}function wR(t){return typeof t=="function"}var at=0,q=1,M=2,Pe=3,Pt=4,jt=5,Ot=6,$s=7,kt=8,Pi=9,Zt=10,pe=11,Hs=12,H_=13,Vi=14,wt=15,Zc=16,Ai=17,Oi=18,Xc=19,$w=20,qn=21,ah=22,Cr=23,je=25,Hw=1,qs=6,En=7,Sc=8,Rc=9,ot=10,yf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(yf||{});function In(t){return Array.isArray(t)&&typeof t[Hw]=="object"}function Xt(t){return Array.isArray(t)&&t[Hw]===!0}function qw(t){return(t.flags&4)!==0}function Xs(t){return t.componentOffset>-1}function vf(t){return(t.flags&1)===1}function zn(t){return!!t.template}function zw(t){return(t[M]&512)!==0}var Rh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Gw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ui(){return Ww}function Ww(t){return t.type.prototype.ngOnChanges&&(t.setInput=ER),IR}Ui.ngInherit=!0;function IR(){let t=Qw(this),e=t?.current;if(e){let n=t.previous;if(n===Ni)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ER(t,e,n,r,i){let s=this.declaredInputs[r],o=Qw(t)||DR(t,{previous:Ni,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Rh(u&&u.currentValue,n,c===Ni),Gw(t,e,i,n)}var Kw="__ngSimpleChanges__";function Qw(t){return t[Kw]||null}function DR(t,e){return t[Kw]=e}var q_=null;var Qt=function(t,e,n){q_?.(t,e,n)},Yw="svg",TR="math",CR=!1;function bR(){return CR}function Ft(t){for(;Array.isArray(t);)t=t[at];return t}function Jw(t,e){return Ft(e[t])}function It(t,e){return Ft(e[t.index])}function Zw(t,e){return t.data[e]}function Xw(t,e){return t[e]}function Qn(t,e){let n=e[t];return In(n)?n:n[at]}function _f(t){return(t[M]&128)===128}function AR(t){return Xt(t[Pe])}function Mc(t,e){return e==null?null:t[e]}function eI(t){t[Ai]=0}function SR(t){t[M]&1024||(t[M]|=1024,_f(t)&&zs(t))}function RR(t,e){for(;t>0;)e=e[Vi],t--;return e}function wf(t){return!!(t[M]&9216||t[Cr]?.dirty)}function Mh(t){t[Zt].changeDetectionScheduler?.notify(1),wf(t)?zs(t):t[M]&64&&(bR()?(t[M]|=1024,zs(t)):t[Zt].changeDetectionScheduler?.notify())}function zs(t){t[Zt].changeDetectionScheduler?.notify();let e=Gs(t);for(;e!==null&&!(e[M]&8192||(e[M]|=8192,!_f(e)));)e=Gs(e)}function tI(t,e){if((t[M]&256)===256)throw new b(911,!1);t[qn]===null&&(t[qn]=[]),t[qn].push(e)}function MR(t,e){if(t[qn]===null)return;let n=t[qn].indexOf(e);n!==-1&&t[qn].splice(n,1)}function Gs(t){let e=t[Pe];return Xt(e)?e[Pe]:e}var F={lFrame:dI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function NR(){return F.lFrame.elementDepthCount}function xR(){F.lFrame.elementDepthCount++}function PR(){F.lFrame.elementDepthCount--}function nI(){return F.bindingsEnabled}function eo(){return F.skipHydrationRootTNode!==null}function OR(t){return F.skipHydrationRootTNode===t}function kR(t){F.skipHydrationRootTNode=t}function FR(){F.skipHydrationRootTNode=null}function le(){return F.lFrame.lView}function Bt(){return F.lFrame.tView}function bn(t){return F.lFrame.contextLView=t,t[kt]}function An(t){return F.lFrame.contextLView=null,t}function Et(){let t=rI();for(;t!==null&&t.type===64;)t=t.parent;return t}function rI(){return F.lFrame.currentTNode}function LR(){let t=F.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function to(t,e){let n=F.lFrame;n.currentTNode=t,n.isParent=e}function iI(){return F.lFrame.isParent}function VR(){F.lFrame.isParent=!1}function UR(){return F.lFrame.contextLView}function sI(){let t=F.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function jR(){return F.lFrame.bindingIndex}function BR(t){return F.lFrame.bindingIndex=t}function oI(){return F.lFrame.bindingIndex++}function aI(t){let e=F.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function $R(){return F.lFrame.inI18n}function HR(t,e){let n=F.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nh(e)}function qR(){return F.lFrame.currentDirectiveIndex}function Nh(t){F.lFrame.currentDirectiveIndex=t}function zR(t){let e=F.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function cI(t){F.lFrame.currentQueryIndex=t}function GR(t){let e=t[q];return e.type===2?e.declTNode:e.type===1?t[jt]:null}function uI(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&H.Host);)if(i=GR(s),i===null||(s=s[Vi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=F.lFrame=lI();return r.currentTNode=e,r.lView=t,!0}function If(t){let e=lI(),n=t[q];F.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lI(){let t=F.lFrame,e=t===null?null:t.child;return e===null?dI(t):e}function dI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function hI(){let t=F.lFrame;return F.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var fI=hI;function Ef(){let t=hI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function WR(t){return(F.lFrame.contextLView=RR(t,F.lFrame.contextLView))[kt]}function xr(){return F.lFrame.selectedIndex}function br(t){F.lFrame.selectedIndex=t}function KR(){let t=F.lFrame;return Zw(t.tView,t.selectedIndex)}function eu(){F.lFrame.currentNamespace=Yw}function Df(){QR()}function QR(){F.lFrame.currentNamespace=null}function pI(){return F.lFrame.currentNamespace}var gI=!0;function Tf(){return gI}function en(t){gI=t}function YR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Ww(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Cf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function _c(t,e,n){mI(t,e,3,n)}function wc(t,e,n,r){(t[M]&3)===n&&mI(t,e,n,r)}function ch(t,e){let n=t[M];(n&3)===e&&(n&=16383,n+=1,t[M]=n)}function mI(t,e,n,r){let i=r!==void 0?t[Ai]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ai]+=65536),(a<s||s==-1)&&(JR(t,n,e,c),t[Ai]=(t[Ai]&4294901760)+c+2),c++}function z_(t,e){Qt(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),Qt(5,t,e)}}function JR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[M]>>14<t[Ai]>>16&&(t[M]&3)===e&&(t[M]+=16384,z_(a,s)):z_(a,s)}var Mi=-1,Ar=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ZR(t){return t instanceof Ar}function XR(t){return(t.flags&8)!==0}function eM(t){return(t.flags&16)!==0}function yI(t){return t!==Mi}function Nc(t){return t&32767}function tM(t){return t>>16}function xc(t,e){let n=tM(t),r=e;for(;n>0;)r=r[Vi],n--;return r}var xh=!0;function Pc(t){let e=xh;return xh=t,e}var nM=256,vI=nM-1,_I=5,rM=0,Yt={};function iM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vs)&&(r=n[Vs]),r==null&&(r=n[Vs]=rM++);let i=r&vI,s=1<<i;e.data[t+(i>>_I)]|=s}function Oc(t,e){let n=wI(t,e);if(n!==-1)return n;let r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,uh(r.data,t),uh(e,null),uh(r.blueprint,null));let i=bf(t,e),s=t.injectorIndex;if(yI(i)){let o=Nc(i),a=xc(i,e),c=a[q].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function uh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function bf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=CI(i),r===null)return Mi;if(n++,i=i[Vi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Mi}function Ph(t,e,n){iM(t,e,n)}function II(t,e,n){if(n&H.Optional||t!==void 0)return t;hf(e,"NodeInjector")}function EI(t,e,n,r){if(n&H.Optional&&r===void 0&&(r=null),!(n&(H.Self|H.Host))){let i=t[Pi],s=et(void 0);try{return i?i.get(e,r,n&H.Optional):Dw(e,r,n&H.Optional)}finally{et(s)}}return II(r,e,n)}function DI(t,e,n,r=H.Default,i){if(t!==null){if(e[M]&2048&&!(r&H.Self)){let o=uM(t,e,n,r,Yt);if(o!==Yt)return o}let s=TI(t,e,n,r,Yt);if(s!==Yt)return s}return EI(e,n,r,i)}function TI(t,e,n,r,i){let s=aM(n);if(typeof s=="function"){if(!uI(e,t,r))return r&H.Host?II(i,n,r):EI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&H.Optional))hf(n);else return o}finally{fI()}}else if(typeof s=="number"){let o=null,a=wI(t,e),c=Mi,u=r&H.Host?e[wt][jt]:null;for((a===-1||r&H.SkipSelf)&&(c=a===-1?bf(t,e):e[a+8],c===Mi||!W_(r,!1)?a=-1:(o=e[q],a=Nc(c),e=xc(c,e)));a!==-1;){let l=e[q];if(G_(s,a,l.data)){let d=sM(a,e,n,o,r,u);if(d!==Yt)return d}c=e[a+8],c!==Mi&&W_(r,e[q].data[a+8]===u)&&G_(s,a,e)?(o=l,a=Nc(c),e=xc(c,e)):a=-1}}return i}function sM(t,e,n,r,i,s){let o=e[q],a=o.data[t+8],c=r==null?Xs(a)&&xh:r!=o&&(a.type&3)!==0,u=i&H.Host&&s===a,l=oM(a,o,n,c,u);return l!==null?ki(e,o,l,a):Yt}function oM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&zn(f)&&f.type===n)return c}return null}function ki(t,e,n,r){let i=t[n],s=e.data;if(ZR(i)){let o=i;o.resolving&&OS(PS(s[n]));let a=Pc(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?et(o.injectImpl):null,l=uI(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&YR(n,s[n],e)}finally{u!==null&&et(u),Pc(a),o.resolving=!1,fI()}}return i}function aM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vs)?t[Vs]:void 0;return typeof e=="number"?e>=0?e&vI:cM:e}function G_(t,e,n){let r=1<<t;return!!(n[e+(t>>_I)]&r)}function W_(t,e){return!(t&H.Self)&&!(t&H.Host&&e)}var Ir=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return DI(this._tNode,this._lView,e,Kc(r),n)}};function cM(){return new Ir(Et(),le())}function Pr(t){return Js(()=>{let e=t.prototype.constructor,n=e[Dc]||Oh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Dc]||Oh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Oh(t){return yw(t)?()=>{let e=Oh(Ke(t));return e&&e()}:Er(t)}function uM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[M]&2048&&!(o[M]&512);){let a=TI(s,o,n,r|H.Self,Yt);if(a!==Yt)return a;let c=s.parent;if(!c){let u=o[$w];if(u){let l=u.get(n,Yt,r);if(l!==Yt)return l}c=CI(o),o=o[Vi]}s=c}return i}function CI(t){let e=t[q],n=e.type;return n===2?e.declTNode:n===1?t[jt]:null}function K_(t,e=null,n=null,r){let i=bI(t,e,n,r);return i.resolveInjectorInitializers(),i}function bI(t,e=null,n=null,r,i=new Set){let s=[n||st,Yc(t)];return r=r||(typeof t=="object"?void 0:Qe(t)),new Bs(s,e||mf(),r||null,i)}var Dt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return K_({name:""},i,r,"");{let s=r.name??"";return K_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Us,e.NULL=new Ac,e.\u0275prov=N({token:e,providedIn:"any",factory:()=>z(Aw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var lM="ngOriginalError";function lh(t){return t[lM]}var Dn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&lh(e);for(;n&&lh(n);)n=lh(n);return n||null}},AI=new S("",{providedIn:"root",factory:()=>w(Dn).handleError.bind(void 0)}),SI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),kh=class extends SI{constructor(e){super(),this._lView=e}onDestroy(e){return tI(this._lView,e),()=>MR(this._lView,e)}};function dM(){return new kh(le())}function hM(){return tu(Et(),le())}function tu(t,e){return new tn(It(t,e))}var tn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=hM;let t=e;return t})();var Fh=class extends We{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,_R()&&(this.destroyRef=w(SI,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=dh(s),i&&(i=dh(i)),o&&(o=dh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof _e&&e.add(a),a}};function dh(t){return e=>{setTimeout(t,void 0,e)}}var Ue=Fh;var fM="ngSkipHydration",pM="ngskiphydration";function RI(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===pM)return!0}return!1}function MI(t){return t.hasAttribute(fM)}function kc(t){return(t.flags&128)===128}function gM(t){if(kc(t))return!0;let e=t.parent;for(;e;){if(kc(t)||RI(e))return!0;e=e.parent}return!1}var NI=new Map,mM=0;function yM(){return mM++}function vM(t){NI.set(t[Xc],t)}function _M(t){NI.delete(t[Xc])}var Q_="__ngContext__";function Sr(t,e){In(e)?(t[Q_]=e[Xc],vM(e)):t[Q_]=e}function xI(t){return OI(t[Hs])}function PI(t){return OI(t[Pt])}function OI(t){for(;t!==null&&!Xt(t);)t=t[Pt];return t}var Lh;function kI(t){Lh=t}function nu(){if(Lh!==void 0)return Lh;if(typeof document<"u")return document;throw new b(210,!1)}var ru=new S("",{providedIn:"root",factory:()=>wM}),wM="ng",Af=new S(""),Tt=new S("",{providedIn:"platform",factory:()=>"unknown"});var Sf=new S("",{providedIn:"root",factory:()=>nu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function IM(){let t=new Or;return w(Tt)==="browser"&&(t.store=EM(nu(),w(ru))),t}var Or=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=N({token:e,providedIn:"root",factory:IM});let t=e;return t})();function EM(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var FI="h",LI="b",Vh=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Vh||{}),DM="e",TM="t",Rf="c",VI="x",Fc="r",CM="i",bM="n",AM="d",SM="__nghData__",UI=SM,hh="ngh",RM="nghm",jI=()=>null;function MM(t,e,n=!1){let r=t.getAttribute(hh);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,c={};if(r!==""){let l=e.get(Or,null,{optional:!0});l!==null&&(c=l.get(UI,[])[Number(r)])}let u={data:c,firstChild:t.firstChild??null};return n&&(u.firstChild=t,iu(u,0,t.nextSibling)),a?t.setAttribute(hh,a):t.removeAttribute(hh),u}function NM(){jI=MM}function Mf(t,e,n=!1){return jI(t,e,n)}function xM(t){let e=t._lView;return e[q].type===2?null:(zw(e)&&(e=e[je]),e)}function PM(t){return t.textContent?.replace(/\s/gm,"")}function OM(t){let e=nu(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=PM(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function iu(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Uh(t,e){return t.segmentHeads?.[e]??null}function kM(t,e){let n=t.data,r=n[DM]?.[e]??null;return r===null&&n[Rf]?.[e]&&(r=Nf(t,e)),r}function BI(t,e){return t.data[Rf]?.[e]??null}function Nf(t,e){let n=BI(t,e)??[],r=0;for(let i of n)r+=i[Fc]*(i[VI]??1);return r}function su(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[AM];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var fc=new S(""),$I=!1,HI=new S("",{providedIn:"root",factory:()=>$I}),FM=new S("");var jh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${DS})`}};function xf(t){return t instanceof jh?t.changingThisBreaksApplicationSecurity:t}var LM=/^>|^->|<!--|-->|--!>|<!-$/g,VM=/(<|>)/g,UM="\u200B$1\u200B";function jM(t){return t.replace(LM,e=>e.replace(VM,UM))}function BM(t){return t.ownerDocument.body}function qI(t){return t instanceof Function?t():t}function pc(t){return(t??w(Dt)).get(Tt)==="browser"}var Tn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tn||{}),$M;function Pf(t,e){return $M(t,e)}function Si(t,e,n,r,i){if(r!=null){let s,o=!1;Xt(r)?s=r:In(r)&&(o=!0,r=r[at]);let a=Ft(r);t===0&&n!==null?i==null?KI(e,n,a):Lc(e,n,a,i||null,!0):t===1&&n!==null?Lc(e,n,a,i||null,!0):t===2?Vf(e,a,o):t===3&&e.destroyNode(a),s!=null&&sN(e,t,s,n,i)}}function Of(t,e){return t.createText(e)}function HM(t,e,n){t.setValue(e,n)}function kf(t,e){return t.createComment(jM(e))}function ou(t,e,n){return t.createElement(e,n)}function qM(t,e){zI(t,e),e[at]=null,e[jt]=null}function zM(t,e,n,r,i,s){r[at]=i,r[jt]=e,au(t,r,n,1,i,s)}function zI(t,e){e[Zt].changeDetectionScheduler?.notify(1),au(t,e,e[pe],2,null,null)}function GM(t){let e=t[Hs];if(!e)return fh(t[q],t);for(;e;){let n=null;if(In(e))n=e[Hs];else{let r=e[ot];r&&(n=r)}if(!n){for(;e&&!e[Pt]&&e!==t;)In(e)&&fh(e[q],e),e=e[Pe];e===null&&(e=t),In(e)&&fh(e[q],e),n=e&&e[Pt]}e=n}}function WM(t,e,n,r){let i=ot+r,s=n.length;r>0&&(n[i-1][Pt]=e),r<s-ot?(e[Pt]=n[i],bw(n,ot+r,e)):(n.push(e),e[Pt]=null),e[Pe]=n;let o=e[Zc];o!==null&&n!==o&&KM(o,e);let a=e[Oi];a!==null&&a.insertView(t),Mh(e),e[M]|=128}function KM(t,e){let n=t[Rc],i=e[Pe][Pe][wt];e[wt]!==i&&(t[M]|=yf.HasTransplantedViews),n===null?t[Rc]=[e]:n.push(e)}function GI(t,e){let n=t[Rc],r=n.indexOf(e);n.splice(r,1)}function Bh(t,e){if(t.length<=ot)return;let n=ot+e,r=t[n];if(r){let i=r[Zc];i!==null&&i!==t&&GI(i,r),e>0&&(t[n-1][Pt]=r[Pt]);let s=bc(t,ot+e);qM(r[q],r);let o=s[Oi];o!==null&&o.detachView(s[q]),r[Pe]=null,r[Pt]=null,r[M]&=-129}return r}function WI(t,e){if(!(e[M]&256)){let n=e[pe];n.destroyNode&&au(t,e,n,3,null,null),GM(e)}}function fh(t,e){if(e[M]&256)return;let n=Z(null);try{e[M]&=-129,e[M]|=256,e[Cr]&&a_(e[Cr]),YM(t,e),QM(t,e),e[q].type===1&&e[pe].destroy();let r=e[Zc];if(r!==null&&Xt(e[Pe])){r!==e[Pe]&&GI(r,e);let i=e[Oi];i!==null&&i.detachView(t)}_M(e)}finally{Z(n)}}function QM(t,e){let n=t.cleanup,r=e[$s];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[$s]=null);let i=e[qn];if(i!==null){e[qn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function YM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ar)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Qt(4,a,c);try{c.call(a)}finally{Qt(5,a,c)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function JM(t,e,n){return ZM(t,e.parent,n)}function ZM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[at];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Jt.None||s===Jt.Emulated)return null}return It(r,n)}}function Lc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function KI(t,e,n){t.appendChild(e,n)}function Y_(t,e,n,r,i){r!==null?Lc(t,e,n,r,i):KI(t,e,n)}function XM(t,e,n,r){t.removeChild(e,n,r)}function Ff(t,e){return t.parentNode(e)}function eN(t,e){return t.nextSibling(e)}function tN(t,e,n){return rN(t,e,n)}function nN(t,e,n){return t.type&40?It(t,n):null}var rN=nN,J_;function Lf(t,e,n,r){let i=JM(t,r,e),s=e[pe],o=r.parent||e[jt],a=tN(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Y_(s,i,n[c],a,!1);else Y_(s,i,n,a,!1);J_!==void 0&&J_(s,r,e,n,i)}function Ic(t,e){if(e!==null){let n=e.type;if(n&3)return It(e,t);if(n&4)return $h(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ic(t,r);{let i=t[e.index];return Xt(i)?$h(-1,i):Ft(i)}}else{if(n&32)return Pf(e,t)()||Ft(t[e.index]);{let r=QI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gs(t[wt]);return Ic(i,r)}else return Ic(t,e.next)}}}return null}function QI(t,e){if(e!==null){let r=t[wt][jt],i=e.projection;return r.projection[i]}return null}function $h(t,e){let n=ot+t+1;if(n<e.length){let r=e[n],i=r[q].firstChild;if(i!==null)return Ic(r,i)}return e[En]}function Vf(t,e,n){let r=Ff(t,e);r&&XM(t,r,e,n)}function YI(t){t.textContent=""}function Uf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Sr(Ft(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Uf(t,e,n.child,r,i,s,!1),Si(e,t,i,a,s);else if(c&32){let u=Pf(n,r),l;for(;l=u();)Si(e,t,i,l,s);Si(e,t,i,a,s)}else c&16?iN(t,e,r,n,i,s):Si(e,t,i,a,s);n=o?n.projectionNext:n.next}}function au(t,e,n,r,i,s){Uf(n,r,t.firstChild,e,i,s,!1)}function iN(t,e,n,r,i,s){let o=n[wt],c=o[jt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Si(e,t,i,l,s)}else{let u=c,l=o[Pe];kc(r)&&(u.flags|=128),Uf(t,e,u,l,i,s,!0)}}function sN(t,e,n,r,i){let s=n[En],o=Ft(n);s!==o&&Si(e,t,r,s,i);for(let a=ot;a<n.length;a++){let c=n[a];au(c[q],c,t,e,r,s)}}function oN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Tn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Tn.Important),t.setStyle(n,r,i,s))}}function aN(t,e,n){t.setAttribute(e,"style",n)}function JI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ZI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ch(t,e,r),i!==null&&JI(t,e,i),s!==null&&aN(t,e,s)}var Sn={};function ct(t=1){XI(Bt(),le(),xr()+t,!1)}function XI(t,e,n,r){if(!r)if((e[M]&3)===3){let s=t.preOrderCheckHooks;s!==null&&_c(e,s,n)}else{let s=t.preOrderHooks;s!==null&&wc(e,s,0,n)}br(n)}function j(t,e=H.Default){let n=le();if(n===null)return z(t,e);let r=Et();return DI(r,n,Ke(t),e)}function eE(t,e,n,r,i,s){let o=Z(null);try{let a=null;i&tt.SignalBased&&(a=e[r][r_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&tt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):Gw(e,a,r,s)}finally{Z(o)}}function cN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)br(~i);else{let s=i,o=n[++r],a=n[++r];HR(o,s);let c=e[s];a(2,c)}}}finally{br(-1)}}function cu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[at]=i,d[M]=r|4|128|8|64,(u!==null||t&&t[M]&2048)&&(d[M]|=2048),eI(d),d[Pe]=d[Vi]=t,d[kt]=n,d[Zt]=o||t&&t[Zt],d[pe]=a||t&&t[pe],d[Pi]=c||t&&t[Pi]||null,d[jt]=s,d[Xc]=yM(),d[Ot]=l,d[$w]=u,d[wt]=e.type==2?t[wt]:d,d}function uu(t,e,n,r,i){let s=t.data[e];if(s===null)s=uN(t,e,n,r,i),$R()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=LR();s.injectorIndex=o===null?-1:o.injectorIndex}return to(s,!0),s}function uN(t,e,n,r,i){let s=rI(),o=iI(),a=o?s:s&&s.parent,c=t.data[e]=gN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function tE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function nE(t,e,n,r,i){let s=xr(),o=r&2;try{br(-1),o&&e.length>je&&XI(t,e,je,!1),Qt(o?2:0,i),n(r,i)}finally{br(s),Qt(o?3:1,i)}}function rE(t,e,n){if(qw(e)){let r=Z(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{Z(r)}}}function iE(t,e,n){nI()&&(EN(t,e,n,It(n,e)),(n.flags&64)===64&&lE(t,e,n))}function sE(t,e,n=It){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function oE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=jf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function jf(t,e,n,r,i,s,o,a,c,u,l){let d=je+r,h=d+i,f=lN(d,h),g=typeof u=="function"?u():u;return f[q]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function lN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Sn);return n}function dN(t,e,n,r){let s=r.get(HI,$I)||n===Jt.ShadowDom,o=t.selectRootElement(e,s);return hN(o),o}function hN(t){aE(t)}var aE=()=>null;function fN(t){MI(t)?YI(t):OM(t)}function pN(){aE=fN}function gN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return eo()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Z_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=tt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?X_(r,n,u,a,c):X_(r,n,u,a)}return r}function X_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function mN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=Z_(0,d.inputs,l,c,f),u=Z_(1,d.outputs,l,u,g);let v=c!==null&&o!==null&&!pf(e)?NN(c,l,o):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function yN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function vN(t,e,n,r,i,s,o,a){let c=It(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Bf(t,n,l,r,i),Xs(e)&&_N(n,e.index)):e.type&3?(r=yN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function _N(t,e){let n=Qn(e,t);n[M]&16||(n[M]|=64)}function cE(t,e,n,r){if(nI()){let i=r===null?null:{"":-1},s=TN(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&uE(t,e,n,o,i,a),i&&CN(n,r,i)}n.mergedAttrs=js(n.mergedAttrs,n.attrs)}function uE(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Ph(Oc(n,e),t,r[u].type);AN(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=tE(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=js(n.mergedAttrs,l.hostAttrs),SN(t,n,e,c,l),bN(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}mN(t,n,s)}function wN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;IN(o)!=a&&o.push(a),o.push(n,r,s)}}function IN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function EN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Xs(n)&&RN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Oc(n,e),Sr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=ki(e,t,a,n);if(Sr(u,e),o!==null&&MN(e,a-i,u,c,n,o),zn(c)){let l=Qn(n.index,e);l[kt]=ki(e,t,a,n)}}}function lE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=qR();try{br(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Nh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&DN(c,u)}}finally{br(-1),Nh(o)}}function DN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function TN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(eR(e,o.selectors,!1))if(r||(r=[]),zn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Hh(t,e,c)}else r.unshift(o),Hh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Hh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function CN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new b(-301,!1);r.push(e[i],s)}}}function bN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zn(e)&&(n[""]=t)}}function AN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function SN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Er(i.type,!0)),o=new Ar(s,zn(i),j);t.blueprint[r]=o,n[r]=o,wN(t,e,r,tE(t,n,i.hostVars,Sn),i)}function RN(t,e,n){let r=It(e,t),i=oE(n),s=t[Zt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=lu(t,cu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function MN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];eE(r,n,c,u,l,d)}}function NN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function dE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function hE(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];cI(s),a.contentQueries(2,e[o],o)}}}finally{Z(r)}}}function lu(t,e){return t[Hs]?t[H_][Pt]=e:t[Hs]=e,t[H_]=e,e}function qh(t,e,n){cI(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function xN(t){return t[$s]||(t[$s]=[])}function PN(t){return t.cleanup||(t.cleanup=[])}function fE(t,e){let n=t[Pi],r=n?n.get(Dn,null):null;r&&r.handleError(e)}function Bf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];eE(l,u,r,a,c,i)}}function pE(t,e,n){let r=Jw(e,t);HM(t[pe],r,n)}function ON(t,e){let n=Qn(e,t),r=n[q];kN(r,n);let i=n[at];i!==null&&n[Ot]===null&&(n[Ot]=Mf(i,n[Pi])),$f(r,n,n[kt])}function kN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function $f(t,e,n){If(e);try{let r=t.viewQuery;r!==null&&qh(1,r,n);let i=t.template;i!==null&&nE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Oi]?.finishViewCreation(t),t.staticContentQueries&&hE(t,e),t.staticViewQueries&&qh(2,t.viewQuery,n);let s=t.components;s!==null&&FN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[M]&=-5,Ef()}}function FN(t,e){for(let n=0;n<e.length;n++)ON(t,e[n])}function LN(t,e,n,r){let i=Z(null);try{let s=e.tView,a=t[M]&4096?4096:16,c=cu(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Zc]=u;let l=t[Oi];return l!==null&&(c[Oi]=l.createEmbeddedView(s)),$f(s,c,n),c}finally{Z(i)}}function ew(t,e){return!e||e.firstChild===null||kc(t)}function VN(t,e,n,r=!0){let i=e[q];if(WM(i,e,t,n),r){let o=$h(n,t),a=e[pe],c=Ff(a,t[En]);c!==null&&zM(i,t[jt],a,e,c,o)}let s=e[Ot];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Vc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Ft(s)),Xt(s)&&UN(s,r);let o=n.type;if(o&8)Vc(t,e,n.child,r);else if(o&32){let a=Pf(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=QI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Gs(e[wt]);Vc(c[q],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function UN(t,e){for(let n=ot;n<t.length;n++){let r=t[n],i=r[q].firstChild;i!==null&&Vc(r[q],r,i,e)}t[En]!==t[at]&&e.push(t[En])}var gE=[];function jN(t){return t[Cr]??BN(t)}function BN(t){let e=gE.pop()??Object.create(HN);return e.lView=t,e}function $N(t){t.lView[Cr]!==t&&(t.lView=null,gE.push(t))}var HN=ie(D({},i_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zs(t.lView)},consumerOnSignalRead(){this.lView[Cr]=this}}),mE=100;function yE(t,e=!0,n=0){let r=t[Zt],i=r.rendererFactory,s=!1;s||i.begin?.();try{qN(t,n)}catch(o){throw e&&fE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function qN(t,e){zh(t,e);let n=0;for(;wf(t);){if(n===mE)throw new b(103,!1);n++,zh(t,1)}}function zN(t,e,n,r){let i=e[M];if((i&256)===256)return;let s=!1;!s&&e[Zt].inlineEffectRunner?.flush(),If(e);let o=null,a=null;!s&&GN(t)&&(a=jN(e),o=s_(a));try{eI(e),BR(t.bindingStartIndex),n!==null&&nE(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&_c(e,d,null)}else{let d=t.preOrderHooks;d!==null&&wc(e,d,0,null),ch(e,0)}if(WN(e),vE(e,0),t.contentQueries!==null&&hE(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&_c(e,d)}else{let d=t.contentHooks;d!==null&&wc(e,d,1),ch(e,1)}cN(t,e);let u=t.components;u!==null&&wE(e,u,0);let l=t.viewQuery;if(l!==null&&qh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&_c(e,d)}else{let d=t.viewHooks;d!==null&&wc(e,d,2),ch(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ah]){for(let d of e[ah])d();e[ah]=null}s||(e[M]&=-73)}catch(c){throw zs(e),c}finally{a!==null&&(o_(a,o),$N(a)),Ef()}}function GN(t){return t.type!==2}function vE(t,e){for(let n=xI(t);n!==null;n=PI(n))for(let r=ot;r<n.length;r++){let i=n[r];_E(i,e)}}function WN(t){for(let e=xI(t);e!==null;e=PI(e)){if(!(e[M]&yf.HasTransplantedViews))continue;let n=e[Rc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Pe];SR(i)}}}function KN(t,e,n){let r=Qn(e,t);_E(r,n)}function _E(t,e){_f(t)&&zh(t,e)}function zh(t,e){let r=t[q],i=t[M],s=t[Cr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Vd(s)),s&&(s.dirty=!1),t[M]&=-9217,o)zN(r,t,r.template,t[kt]);else if(i&8192){vE(t,1);let a=r.components;a!==null&&wE(t,a,1)}}function wE(t,e,n){for(let r=0;r<e.length;r++)KN(t,e[r],n)}function Hf(t){for(t[Zt].changeDetectionScheduler?.notify();t;){t[M]|=64;let e=Gs(t);if(zw(t)&&!e)return t;t=e}return null}var Rr=class{get rootNodes(){let e=this._lView,n=e[q];return Vc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(e){this._lView[kt]=e}get destroyed(){return(this._lView[M]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pe];if(Xt(e)){let n=e[Sc],r=n?n.indexOf(this):-1;r>-1&&(Bh(e,r),bc(n,r))}this._attachedToViewContainer=!1}WI(this._lView[q],this._lView)}onDestroy(e){tI(this._lView,e)}markForCheck(){Hf(this._cdRefInjectingView||this._lView)}detach(){this._lView[M]&=-129}reattach(){Mh(this._lView),this._lView[M]|=128}detectChanges(){this._lView[M]|=1024,yE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,zI(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e,Mh(this._lView)}},du=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JN;let t=e;return t})(),QN=du,YN=class extends QN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=LN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Rr(i)}};function JN(){return ZN(Et(),le())}function ZN(t,e){return t.type&4?new YN(e,t,tu(t,e)):null}function IE(t){let e=t[qs]??[],r=t[Pe][pe];for(let i of e)XN(i,r);t[qs]=st}function XN(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Fc];for(;n<i;){let s=r.nextSibling;Vf(e,r,!1),r=s,n++}}}function EE(t){IE(t);for(let e=ot;e<t.length;e++)Uc(t[e])}function ex(t){let e=t[Ot]?.i18nNodes;if(e){let n=t[pe];for(let r of e.values())Vf(n,r,!1);t[Ot].i18nNodes=void 0}}function Uc(t){ex(t);let e=t[q];for(let n=je;n<e.bindingStartIndex;n++)if(Xt(t[n])){let r=t[n];EE(r)}else In(t[n])&&Uc(t[n])}function tx(t){let e=t._views;for(let n of e){let r=xM(n);if(r!==null&&r[at]!==null)if(In(r))Uc(r);else{let i=r[at];Uc(i),EE(r)}}}var nx=new RegExp(`^(\\d+)*(${LI}|${FI})*(.*)`);function rx(t){let e=t.match(nx),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,u,l]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(u,d)}return[o,...a]}function ix(t){return!t.prev&&t.parent?.type===8}function ph(t){return t.index-je}function sx(t,e){let n=t.i18nNodes;if(n){let r=n.get(e);return r&&n.delete(e),r}return null}function hu(t,e,n,r){let i=ph(r),s=sx(t,i);if(!s){let o=t.data[bM];if(o?.[i])s=ax(o[i],n);else if(e.firstChild===r)s=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(ix(r)){let u=ph(r.parent);s=Uh(t,u)}else{let u=It(c,n);if(a)s=u.firstChild;else{let l=ph(c),d=Uh(t,l);if(c.type===2&&d){let f=Nf(t,l)+1;s=fu(f,d)}else s=u.nextSibling}}}}return s}function fu(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function ox(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Vh.FirstChild:n=n.firstChild;break;case Vh.NextSibling:n=n.nextSibling;break}}return n}function ax(t,e){let[n,...r]=rx(t),i;if(n===FI)i=e[wt][at];else if(n===LI)i=BM(e[wt][at]);else{let s=Number(n);i=Ft(e[s+je])}return ox(i,r)}function cx(t,e){let n=[];for(let r of e)for(let i=0;i<(r[VI]??1);i++){let s={data:r,firstChild:null};r[Fc]>0&&(s.firstChild=t,t=fu(r[Fc],t)),n.push(s)}return[t,n]}var DE=()=>null;function ux(t,e){let n=t[qs];return!e||n===null||n.length===0?null:n[0].data[CM]===e?n.shift():(IE(t),null)}function lx(){DE=ux}function tw(t,e){return DE(t,e)}var Gh=class{},Wh=class{},jc=class{};function dx(t){let e=Error(`No component factory found for ${Qe(t)}.`);return e[hx]=t,e}var hx="ngComponent";var Kh=class{resolveComponentFactory(e){throw dx(e)}},pu=(()=>{let e=class e{};e.NULL=new Kh;let t=e;return t})(),Ws=class{},Rn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>fx();let t=e;return t})();function fx(){let t=le(),e=Et(),n=Qn(e.index,t);return(In(n)?n:t)[pe]}var px=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),gh={};var nw=new Set;function no(t){nw.has(t)||(nw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function rw(...t){}function gx(){let t=typeof Ls.requestAnimationFrame=="function",e=Ls[t?"requestAnimationFrame":"setTimeout"],n=Ls[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var se=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=gx().nativeRequestAnimationFrame,vx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,mx,rw,rw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},mx={};function qf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ls,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qh(t),t.isCheckStableRunning=!0,qf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qh(t))}function vx(t){let e=()=>{yx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(_x(a))return n.invokeTask(i,s,o,a);try{return iw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),sw(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return iw(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),sw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Qh(t),qf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Qh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function iw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sw(t){t._nesting--,qf(t)}function _x(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var TE=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Yh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=P_(i,a);else if(s==2){let c=a,u=e[++o];r=P_(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Bc=class extends pu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Tr(e);return new Ks(n,this.ngModule)}};function ow(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function wx(t){let e=t.toLowerCase();return e==="svg"?Yw:e==="math"?TR:null}var Jh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Kc(r);let i=this.injector.get(e,gh,r);return i!==gh||n===gh?i:this.parentInjector.get(e,n,r)}},Ks=class extends jc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=ow(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ow(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=iR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Z(null);try{i=i||this.ngModule;let o=i instanceof _t?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Jh(e,o):e,c=a.get(Ws,null);if(c===null)throw new b(407,!1);let u=a.get(px,null),l=a.get(TE,null),d=a.get(Gh,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=r?dN(f,r,this.componentDef.encapsulation,a):ou(f,g,wx(g)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let T=null;v!==null&&(T=Mf(v,a,!0));let B=jf(0,null,null,1,0,null,null,null,null,null,null),$=cu(null,B,null,_,null,null,h,f,a,null,T);If($);let ce,Ne;try{let te=this.componentDef,Ve,Kt=null;te.findHostDirectiveDefs?(Ve=[],Kt=new Map,te.findHostDirectiveDefs(te,Ve,Kt),Ve.push(te)):Ve=[te];let gr=Ix($,v),di=Ex(gr,v,te,Ve,$,h,f);Ne=Zw(B,je),v&&Cx(f,te,v,r),n!==void 0&&bx(Ne,this.ngContentSelectors,n),ce=Tx(di,te,Ve,Kt,$,[Ax]),$f(B,$,null)}finally{Ef()}return new Zh(this.componentType,ce,tu(Ne,$),$,Ne)}finally{Z(s)}}},Zh=class extends Wh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Rr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Bf(s[q],s,i,e,n),this.previousInputValues.set(e,n);let o=Qn(this._tNode.index,s);Hf(o)}}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ix(t,e){let n=t[q],r=je;return t[r]=e,uu(n,r,2,"#host",null)}function Ex(t,e,n,r,i,s,o){let a=i[q];Dx(r,t,e,o);let c=null;e!==null&&(c=Mf(e,i[Pi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=cu(i,oE(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Hh(a,t,r.length-1),lu(i,d),i[t.index]=d}function Dx(t,e,n,r){for(let i of t)e.mergedAttrs=js(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Yh(e,e.mergedAttrs,!0),n!==null&&ZI(r,n,e))}function Tx(t,e,n,r,i,s){let o=Et(),a=i[q],c=It(o,i);uE(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=ki(i,a,d,o);Sr(h,i)}lE(a,i,o),c&&Sr(c,i);let u=ki(i,a,o.directiveStart+o.componentOffset,o);if(t[kt]=i[kt]=u,s!==null)for(let l of s)l(u,e);return rE(a,o,i),u}function Cx(t,e,n,r){if(r)Ch(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=sR(e.selectors[0]);i&&Ch(t,n,i),s&&s.length>0&&JI(t,n,s.join(" "))}}function bx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Ax(){let t=Et();Cf(le()[q],t)}var ji=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Sx;let t=e;return t})();function Sx(){let t=Et();return Mx(t,le())}var Rx=ji,CE=class extends Rx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return tu(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){let e=bf(this._hostTNode,this._hostLView);if(yI(e)){let n=xc(e,this._hostLView),r=Nc(e),i=n[q].data[r+8];return new Ir(i,n)}else return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=aw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=tw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ew(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!wR(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new Ks(Tr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?u:this.parentInjector).get(_t,null);v&&(s=v)}let l=Tr(c.componentType??{}),d=tw(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,ew(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(AR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Pe],u=new CE(c,c[jt],c[Pe]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return VN(o,i,s,r),e.attachToViewContainerRef(),bw(mh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=aw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Bh(this._lContainer,n);r&&(bc(mh(this._lContainer),n),WI(r[q],r))}detach(e){let n=this._adjustIndex(e,-1),r=Bh(this._lContainer,n);return r&&bc(mh(this._lContainer),n)!=null?new Rr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function aw(t){return t[Sc]}function mh(t){return t[Sc]||(t[Sc]=[])}function Mx(t,e){let n,r=e[t.index];return Xt(r)?n=r:(n=dE(r,e,null,t),e[t.index]=n,lu(e,n)),bE(n,e,t,r),new CE(n,t,e)}function Nx(t,e){let n=t[pe],r=n.createComment(""),i=It(e,t),s=Ff(n,i);return Lc(n,s,r,eN(n,i),!1),r}var bE=AE,zf=()=>!1;function xx(t,e,n){return zf(t,e,n)}function AE(t,e,n,r){if(t[En])return;let i;n.type&8?i=Ft(r):i=Nx(e,n),t[En]=i}function Px(t,e,n){if(t[En]&&t[qs])return!0;let r=n[Ot],i=e.index-je;if(!r||gM(e)||su(r,i))return!1;let o=Uh(r,i),a=r.data[Rf]?.[i],[c,u]=cx(o,a);return t[En]=c,t[qs]=u,!0}function Ox(t,e,n,r){zf(t,n,e)||AE(t,e,n,r)}function kx(){bE=Ox,zf=Px}function Fx(t){return Object.getPrototypeOf(t.prototype).constructor}function nn(t){let e=Fx(t.type),n=!0,r=[t];for(;e;){let i;if(zn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=gc(t.inputs),o.inputTransforms=gc(t.inputTransforms),o.declaredInputs=gc(t.declaredInputs),o.outputs=gc(t.outputs);let a=i.hostBindings;a&&Bx(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Ux(t,c),u&&jx(t,u),Lx(t,i),CS(t.outputs,i.outputs),zn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===nn&&(n=!1)}}e=Object.getPrototypeOf(e)}Vx(r)}function Lx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Vx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=js(i.hostAttrs,n=js(n,i.hostAttrs))}}function gc(t){return t===Ni?{}:t===st?[]:t}function Ux(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function jx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Bx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Gn=class{},Qs=class{};var Xh=class extends Gn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bc(this);let i=kw(e);this._bootstrapComponents=qI(i.bootstrap),this._r3Injector=bI(e,n,[{provide:Gn,useValue:this},{provide:pu,useValue:this.componentFactoryResolver},...r],Qe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ef=class extends Qs{constructor(e){super(),this.moduleType=e}create(e){return new Xh(this.moduleType,e,[])}};var $c=class extends Gn{constructor(e){super(),this.componentFactoryResolver=new Bc(this),this.instance=null;let n=new Bs([...e.providers,{provide:Gn,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],e.parent||mf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gf(t,e,n=null){return new $c({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ro=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SE(t){return Hx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function $x(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Hx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function qx(t,e,n){return t[e]=n}function Fi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function zx(t,e,n,r){let i=Fi(t,e,n);return Fi(t,e+1,r)||i}function io(t){return(t.flags&32)===32}function Gx(t,e,n,r,i,s,o,a,c){let u=e.consts,l=uu(e,t,4,o||null,Mc(u,a));cE(e,n,l,Mc(u,c)),Cf(e,l);let d=l.tView=jf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Bi(t,e,n,r,i,s,o,a){let c=le(),u=Bt(),l=t+je,d=u.firstCreatePass?Gx(l,u,c,e,n,r,i,s,o):u.data[l];to(d,!1);let h=RE(u,c,d,t);Tf()&&Lf(u,c,h,d),Sr(h,c);let f=dE(h,c,h,d);return c[l]=f,lu(c,f),xx(f,d,c),vf(d)&&iE(u,c,d),o!=null&&sE(c,d,a),Bi}var RE=ME;function ME(t,e,n,r){return en(!0),e[pe].createComment("")}function Wx(t,e,n,r){let i=e[Ot],s=!i||eo()||io(n)||su(i,r);if(en(s),s)return ME(t,e,n,r);let o=i.data[TM]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=hu(i,t,e,n);iu(i,r,a);let c=Nf(i,r);return fu(c,a)}function Kx(){RE=Wx}function Qx(t,e,n,r){return Fi(t,oI(),n)?e+Tc(n)+r:Sn}function Yx(t,e,n,r,i,s){let o=jR(),a=zx(t,o,n,i);return aI(2),a?e+Tc(n)+r+Tc(i)+s:Sn}function mc(t,e){return t<<17|e<<2}function Mr(t){return t>>17&32767}function Jx(t){return(t&2)==2}function Zx(t,e){return t&131071|e<<17}function tf(t){return t|2}function Li(t){return(t&131068)>>2}function yh(t,e){return t&-131069|e<<2}function Xx(t){return(t&1)===1}function nf(t){return t|1}function eP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Mr(o),c=Li(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Zs(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Mr(t[a+1]);t[r+1]=mc(h,a),h!==0&&(t[h+1]=yh(t[h+1],r)),t[a+1]=Zx(t[a+1],r)}else t[r+1]=mc(a,0),a!==0&&(t[a+1]=yh(t[a+1],r)),a=r;else t[r+1]=mc(c,0),a===0?a=r:t[c+1]=yh(t[c+1],r),c=r;u&&(t[r+1]=tf(t[r+1])),cw(t,l,r,!0),cw(t,l,r,!1),tP(e,l,t,r,s),o=mc(a,c),s?e.classBindings=o:e.styleBindings=o}function tP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Zs(s,e)>=0&&(n[r+1]=nf(n[r+1]))}function cw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Mr(i):Li(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];nP(c,e)&&(a=!0,t[o+1]=r?nf(u):tf(u)),o=r?Mr(u):Li(u)}a&&(t[n+1]=r?tf(i):nf(i))}function nP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Zs(t,e)>=0:!1}function $t(t,e,n){let r=le(),i=oI();if(Fi(r,i,e)){let s=Bt(),o=KR();vN(s,o,r,t,e,r[pe],n,!1)}return $t}function uw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Bf(t,n,s[o],o,r)}function $i(t,e){return rP(t,e,null,!0),$i}function rP(t,e,n,r){let i=le(),s=Bt(),o=aI(2);if(s.firstUpdatePass&&sP(s,t,o,r),e!==Sn&&Fi(i,o,e)){let a=s.data[xr()];lP(s,a,i,i[pe],t,i[o+1]=dP(e,n),r,o)}}function iP(t,e){return e>=t.expandoStartIndex}function sP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[xr()],o=iP(t,n);hP(s,r)&&e===null&&!o&&(e=!1),e=oP(i,s,e,r),eP(i,s,e,n,o,r)}}function oP(t,e,n,r){let i=zR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=vh(null,t,e,n,r),n=Ys(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=vh(i,t,e,n,r),s===null){let c=aP(t,e,r);c!==void 0&&Array.isArray(c)&&(c=vh(null,t,e,c[1],r),c=Ys(c,e.attrs,r),cP(t,e,r,c))}else s=uP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function aP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Li(r)!==0)return t[Mr(r)]}function cP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Mr(i)]=r}function uP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ys(r,o,n)}return Ys(r,e.attrs,n)}function vh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ys(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ys(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),zS(t,o,n?!0:e[++s]))}return t===void 0?null:t}function lP(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=Xx(u)?lw(c,e,n,i,Li(u),o):void 0;if(!Hc(l)){Hc(s)||Jx(u)&&(s=lw(c,null,n,i,a,o));let d=Jw(xr(),n);oN(r,o,d,i,s)}}function lw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Sn&&(h=d?st:void 0);let f=d?sh(h,r):l===r?h:void 0;if(u&&!Hc(f)&&(f=sh(c,r)),Hc(f)&&(a=f,o))return a;let g=t[i+1];i=o?Mr(g):Li(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=sh(c,r))}return a}function Hc(t){return t!==void 0}function dP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Qe(xf(t)))),t}function hP(t,e){return(t.flags&(e?8:16))!==0}function fP(t,e,n,r,i,s){let o=e.consts,a=Mc(o,i),c=uu(e,t,2,r,a);return cE(e,n,c,Mc(o,s)),c.attrs!==null&&Yh(c,c.attrs,!1),c.mergedAttrs!==null&&Yh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ae(t,e,n,r){let i=le(),s=Bt(),o=je+t,a=i[pe],c=s.firstCreatePass?fP(o,s,i,e,n,r):s.data[o],u=NE(s,i,c,a,e,t);i[o]=u;let l=vf(c);return to(c,!0),ZI(a,u,c),!io(c)&&Tf()&&Lf(s,i,u,c),NR()===0&&Sr(u,i),xR(),l&&(iE(s,i,c),rE(s,c,i)),r!==null&&sE(i,c),ae}function fe(){let t=Et();iI()?VR():(t=t.parent,to(t,!1));let e=t;OR(e)&&FR(),PR();let n=Bt();return n.firstCreatePass&&(Cf(n,t),qw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&XR(e)&&uw(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&eM(e)&&uw(n,e,le(),e.stylesWithoutHost,!1),fe}function ut(t,e,n,r){return ae(t,e,n,r),fe(),ut}var NE=(t,e,n,r,i,s)=>(en(!0),ou(r,i,pI()));function pP(t,e,n,r,i,s){let o=e[Ot],a=!o||eo()||io(n)||su(o,s);if(en(a),a)return ou(r,i,pI());let c=hu(o,t,e,n);return BI(o,s)&&iu(o,s,c.nextSibling),o&&(RI(n)||MI(c))&&Xs(n)&&(kR(n),YI(c)),c}function gP(){NE=pP}var mP=(t,e,n,r)=>(en(!0),kf(e[pe],""));function yP(t,e,n,r){let i,s=e[Ot],o=!s||eo()||io(n);if(en(o),o)return kf(e[pe],"");let a=hu(s,t,e,n),c=kM(s,r);return iu(s,r,a),i=fu(c,a),i}function vP(){mP=yP}function gu(){return le()}var qc="en-US";var _P=qc;function wP(t){typeof t=="string"&&(_P=t.toLowerCase().replace(/_/g,"-"))}function xE(t,e,n){let r=t[pe];switch(n){case Node.COMMENT_NODE:return kf(r,e);case Node.TEXT_NODE:return Of(r,e);case Node.ELEMENT_NODE:return ou(r,e,null)}}var IP=(t,e,n,r)=>(en(!0),xE(t,n,r));function EP(t,e,n,r){return en(!0),xE(t,n,r)}function DP(){IP=EP}function Be(t,e,n,r){let i=le(),s=Bt(),o=Et();return CP(s,i,i[pe],o,t,e,r),Be}function TP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[$s],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function CP(t,e,n,r,i,s,o){let a=vf(r),u=t.firstCreatePass&&PN(t),l=e[kt],d=xN(e),h=!0;if(r.type&3||o){let v=It(r,e),_=o?o(v):v,T=d.length,B=o?ce=>o(Ft(ce[r.index])):r.index,$=null;if(!o&&a&&($=TP(t,e,i,r.index)),$!==null){let ce=$.__ngLastListenerFn__||$;ce.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,h=!1}else{s=hw(r,e,l,s,!1);let ce=n.listen(_,i,s);d.push(s,ce),u&&u.push(i,B,T,T+1)}}else s=hw(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let v=g.length;if(v)for(let _=0;_<v;_+=2){let T=g[_],B=g[_+1],Ne=e[T][B].subscribe(s),te=d.length;d.push(s,Ne),u&&u.push(i,r.index,te,-(te+1))}}}function dw(t,e,n,r){let i=Z(null);try{return Qt(6,e,n),n(r)!==!1}catch(s){return fE(t,s),!1}finally{Qt(7,e,n),Z(i)}}function hw(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Qn(t.index,e):e;Hf(a);let c=dw(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=dw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Ht(t=1){return WR(t)}function bP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Mn(t){let e=UR();return Xw(e,je+t)}function lt(t,e=""){let n=le(),r=Bt(),i=t+je,s=r.firstCreatePass?uu(r,i,1,e,null):r.data[i],o=PE(r,n,s,e,t);n[i]=o,Tf()&&Lf(r,n,o,s),to(s,!1)}var PE=(t,e,n,r,i)=>(en(!0),Of(e[pe],r));function AP(t,e,n,r,i){let s=e[Ot],o=!s||eo()||io(n)||su(s,i);return en(o),o?Of(e[pe],r):hu(s,t,e,n)}function SP(){PE=AP}function Wf(t){return OE("",t,""),Wf}function OE(t,e,n){let r=le(),i=Qx(r,t,e,n);return i!==Sn&&pE(r,xr(),i),OE}function Kf(t,e,n,r,i){let s=le(),o=Yx(s,t,e,n,r,i);return o!==Sn&&pE(s,xr(),o),Kf}function RP(t,e,n){let r=Bt();if(r.firstCreatePass){let i=zn(t);rf(n,r.data,r.blueprint,i,!0),rf(e,r.data,r.blueprint,i,!1)}}function rf(t,e,n,r,i){if(t=Ke(t),Array.isArray(t))for(let s=0;s<t.length;s++)rf(t[s],e,n,r,i);else{let s=Bt(),o=le(),a=Et(),c=xi(t)?t:Ke(t.provide),u=Bw(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(xi(t)||!t.multi){let f=new Ar(u,i,j),g=wh(c,e,i?l:l+h,d);g===-1?(Ph(Oc(a,o),s,c),_h(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=wh(c,e,l+h,d),g=wh(c,e,l,l+h),v=f>=0&&n[f],_=g>=0&&n[g];if(i&&!_||!i&&!v){Ph(Oc(a,o),s,c);let T=xP(i?NP:MP,n.length,i,r,u);!i&&_&&(n[g].providerFactory=T),_h(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else{let T=kE(n[i?g:f],u,!i&&r);_h(s,t,f>-1?f:g,T)}!i&&r&&_&&n[g].componentProviders++}}}function _h(t,e,n,r){let i=xi(e),s=hR(e);if(i||s){let c=(s?Ke(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function kE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function MP(t,e,n,r){return sf(this.multi,[])}function NP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ki(n,n[q],this.providerFactory.index,r);s=a.slice(0,o),sf(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],sf(i,s);return s}function sf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function xP(t,e,n,r,i){let s=new Ar(t,n,j);return s.multi=[],s.index=e,s.componentProviders=0,kE(s,i,r&&!n),s}function Hi(t,e=[]){return n=>{n.providersResolver=(r,i)=>RP(r,i?i(t):t,e)}}var PP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Vw(!1,r.type),s=i.length>0?Gf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(z(_t))});let t=e;return t})();function mu(t){no("NgStandalone"),t.getStandaloneInjector=e=>e.get(PP).getOrCreateStandaloneInjector(t)}function so(t,e,n,r){return FE(le(),sI(),t,e,n,r)}function OP(t,e){let n=t[e];return n===Sn?void 0:n}function FE(t,e,n,r,i,s){let o=e+n;return Fi(t,o,i)?qx(t,o+1,s?r.call(s,i):r(i)):OP(t,o+1)}function LE(t,e){let n=Bt(),r,i=t+je;n.firstCreatePass?(r=kP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Er(r.type,!0)),o,a=et(j);try{let c=Pc(!1),u=s();return Pc(c),bP(n,le(),i,u),u}finally{et(a)}}function kP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function VE(t,e,n){let r=t+je,i=le(),s=Xw(i,r);return FP(i,r)?FE(i,sI(),e,s.transform,n,s):s.transform(n)}function FP(t,e){return t[q].data[e].pure}var Cn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},UE=new Cn("17.3.5"),yu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var jE=new S("");function Yn(t){return!!t&&typeof t.then=="function"}function Qf(t){return!!t&&typeof t.subscribe=="function"}var BE=new S(""),$E=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=w(BE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Yn(o))r.push(o);else if(Qf(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qi=new S("");function LP(){c_(()=>{throw new b(600,!1)})}function VP(t){return t.isBoundToModule}function UP(t,e,n){try{let r=n();return Yn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Jn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(AI),this.afterRenderEffectManager=w(TE),this.externalTestViews=new Set,this.beforeRender=new We,this.afterTick=new We,this.componentTypes=[],this.components=[],this.isStable=w(ro).hasPendingTasks.pipe(U(r=>!r)),this._injector=w(_t)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof jc;if(!this._injector.get($E).done){let f=!s&&Ow(r),g=!1;throw new b(405,g)}let a;s?a=r:a=this._injector.get(pu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=VP(a)?void 0:this._injector.get(Gn),u=i||a.selector,l=a.create(Dt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(jE,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ih(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new b(101,!1);let i=Z(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,Z(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===mE)throw new b(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)jP(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>of(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>of(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ih(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(qi,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ih(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new b(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ih(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var yc;function Yf(t){yc??=new WeakMap;let e=yc.get(t);if(e)return e;let n=t.isStable.pipe(Nt(r=>r)).toPromise().then(()=>{});return yc.set(t,n),t.onDestroy(()=>yc?.delete(t)),n}function jP(t,e,n){!e&&!of(t)||BP(t,n,e)}function of(t){return wf(t)}function BP(t,e,n){let r;n?(r=0,t[M]|=1024):t[M]&64?r=0:r=1,yE(t,e,r)}var af=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Jf=(()=>{let e=class e{compileModuleSync(r){return new ef(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=kw(r),o=qI(s.declarations).reduce((a,c)=>{let u=Tr(c);return u&&a.push(new Ks(u)),a},[]);return new af(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $P=(()=>{let e=class e{constructor(){this.zone=w(se),this.applicationRef=w(Jn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HP(t){return[{provide:se,useFactory:t},{provide:Dr,multi:!0,useFactory:()=>{let e=w($P,{optional:!0});return()=>e.initialize()}},{provide:Dr,multi:!0,useFactory:()=>{let e=w(WP);return()=>{e.initialize()}}},{provide:AI,useFactory:qP}]}function qP(){let t=w(se),e=w(Dn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function zP(t){let e=HP(()=>new se(GP(t)));return Nr([[],e])}function GP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var WP=(()=>{let e=class e{constructor(){this.subscription=new _e,this.initialized=!1,this.zone=w(se),this.pendingTasks=w(ro)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KP(){return typeof $localize<"u"&&$localize.locale||qc}var Zf=new S("",{providedIn:"root",factory:()=>w(Zf,H.Optional|H.SkipSelf)||KP()});var HE=new S("");var Ec=null;function QP(t=[],e){return Dt.create({name:e,providers:[{provide:Jc,useValue:"platform"},{provide:HE,useValue:new Set([()=>Ec=null])},...t]})}function YP(t=[]){if(Ec)return Ec;let e=QP(t);return Ec=e,LP(),JP(e),e}function JP(t){t.get(Af,null)?.forEach(n=>n())}var Zn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZP;let t=e;return t})();function ZP(t){return XP(Et(),le(),(t&16)===16)}function XP(t,e,n){if(Xs(t)&&!n){let r=Qn(t.index,e);return new Rr(r,r)}else if(t.type&47){let r=e[wt];return new Rr(r,e)}return null}var cf=class{constructor(){}supports(e){return SE(e)}create(e){return new uf(e)}},eO=(t,e)=>e,uf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||eO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<fw(r,i,s)?n:r,a=fw(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!SE(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,$x(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new lf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new zc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new zc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},lf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},df=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},zc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new df,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function pw(){return new Xf([new cf])}var Xf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||pw()),deps:[[e,new Cw,new Vt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new b(901,!1)}};e.\u0275prov=N({token:e,providedIn:"root",factory:pw});let t=e;return t})();function qE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=YP(r),s=[zP(),...n||[]],a=new $c({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(se);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Dn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(HE);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),UP(u,c,()=>{let f=a.get($E);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(Zf,qc);wP(g||qc);let v=a.get(Jn);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}var gw=!1,tO=!1;function nO(){gw||(gw=!0,NM(),gP(),SP(),vP(),Kx(),kx(),lx(),pN(),DP())}function rO(t,e){return Yf(t)}function zE(){return Nr([{provide:fc,useFactory:()=>{let t=!0;return pc()&&(t=!!w(Or,{optional:!0})?.get(UI,null)),t&&no("NgHydration"),t}},{provide:Dr,useValue:()=>{tO=!!w(FM,{optional:!0}),pc()&&w(fc)&&(iO(),nO())},multi:!0},{provide:HI,useFactory:()=>pc()&&w(fc)},{provide:qi,useFactory:()=>{if(pc()&&w(fc)){let t=w(Jn),e=w(Dt);return()=>{rO(t,e).then(()=>{tx(t)})}}return()=>{}},multi:!0}])}function iO(){let t=nu(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===RM){e=n;break}if(!e)throw new b(-507,!1)}function vu(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ep(t){let e=Z(null);try{return t()}finally{Z(e)}}var JE=null;function Nn(){return JE}function ZE(t){JE??=t}var _u=class{};var dt=new S(""),XE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(aO),providedIn:"platform"});let t=e;return t})();var aO=(()=>{let e=class e extends XE{constructor(){super(),this._doc=w(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nn().getBaseHref(this._doc)}onPopState(r){let i=Nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function eD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function GE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function kr(t){return t&&t[0]!=="?"?"?"+t:t}var Iu=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(tD),providedIn:"root"});let t=e;return t})(),cO=new S(""),tD=(()=>{let e=class e extends Iu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return eD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+kr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+kr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+kr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(z(XE),z(cO,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oo=(()=>{let e=class e{constructor(r){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=dO(GE(WE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+kr(i))}normalize(r){return e.stripTrailingSlash(lO(this._basePath,WE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=kr,e.joinWithSlash=eD,e.stripTrailingSlash=GE,e.\u0275fac=function(i){return new(i||e)(z(Iu))},e.\u0275prov=N({token:e,factory:()=>uO(),providedIn:"root"});let t=e;return t})();function uO(){return new oo(z(Iu))}function lO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function WE(t){return t.replace(/\/index.html$/,"")}function dO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function op(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var tp=/\s+/,KE=[],nD=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=KE,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(tp):KE}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(tp):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(tp).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(j(tn),j(Rn))},e.\u0275dir=Ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[tt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var np=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},rD=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new np(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),QE(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);QE(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(j(ji),j(du),j(Xf))},e.\u0275dir=Ce({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function QE(t,e){t.context.$implicit=e.item}var iD=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new rp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){YE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){YE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(j(ji),j(du))},e.\u0275dir=Ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),rp=class{constructor(){this.$implicit=null,this.ngIf=null}};function YE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Qe(e)}'.`)}function hO(t,e){return new b(2100,!1)}var ip=class{createSubscription(e,n){return ep(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){ep(()=>e.unsubscribe())}},sp=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},fO=new sp,pO=new ip,sD=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Yn(r))return fO;if(Qf(r))return pO;throw hO(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(j(Zn,16))},e.\u0275pipe=Nw({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var ap=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ut({type:e}),e.\u0275inj=Lt({});let t=e;return t})(),oD="browser",gO="server";function ao(t){return t===gO}var wu=class{};var Du=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var pD=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(pD||{}),cp=class{constructor(e,n=gD.Ok,r="OK"){this.headers=e.headers||new Du,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Tu=class t extends cp{constructor(e={}){super(e),this.type=pD.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var gD=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(gD||{});var vO=new S("");var aD="b",cD="h",uD="s",lD="st",dD="u",hD="rt",Eu=new S(""),_O=["GET","HEAD"];function wO(t,e){let d=w(Eu),{isCacheActive:n}=d,r=t_(d,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!_O.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=w(Or),a=EO(t),c=o.get(a,null),u=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(u=i.includeHeaders),c){let{[aD]:h,[hD]:f,[cD]:g,[uD]:v,[lD]:_,[dD]:T}=c,B=h;switch(f){case"arraybuffer":B=new TextEncoder().encode(h).buffer;break;case"blob":B=new Blob([h]);break}let $=new Du(g);return P(new Tu({body:B,headers:$,status:v,statusText:_,url:T}))}let l=ao(w(Tt));return e(t).pipe(we(h=>{h instanceof Tu&&l&&o.set(a,{[aD]:h.body,[cD]:IO(h.headers,u),[uD]:h.status,[lD]:h.statusText,[dD]:h.url||"",[hD]:t.responseType})}))}function IO(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function fD(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function EO(t){let{params:e,method:n,responseType:r,url:i}=t,s=fD(e),o=t.serializeBody();o instanceof URLSearchParams?o=fD(o):typeof o!="string"&&(o="");let a=[n,r,i,o,s].join("|"),c=DO(a);return c}function DO(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function mD(t){return[{provide:Eu,useFactory:()=>(no("NgHttpTransferCache"),D({isCacheActive:!0},t))},{provide:vO,useValue:wO,multi:!0,deps:[Or,Eu]},{provide:qi,multi:!0,useFactory:()=>{let e=w(Jn),n=w(Eu);return()=>{Yf(e).then(()=>{n.isCacheActive=!1})}}}]}var dp=class extends _u{constructor(){super(...arguments),this.supportsDOMEvents=!0}},hp=class t extends dp{static makeCurrent(){ZE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=TO();return n==null?null:CO(n)}resetBaseElement(){co=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return op(document.cookie,e)}},co=null;function TO(){return co=co||document.querySelector("base"),co?co.getAttribute("href"):null}function CO(t){return new URL(t,document.baseURI).pathname}var bO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),fp=new S(""),wD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new b(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(z(fp),z(se))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Cu=class{constructor(e){this._doc=e}},up="ng-app-id",ID=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ao(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${up}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(up),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(up,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(z(dt),z(ru),z(Sf,8),z(Tt))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),lp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mp=/%COMP%/g,ED="%COMP%",AO=`_nghost-${ED}`,SO=`_ngcontent-${ED}`,RO=!0,MO=new S("",{providedIn:"root",factory:()=>RO});function NO(t){return SO.replace(mp,t)}function xO(t){return AO.replace(mp,t)}function DD(t,e){return e.map(n=>n.replace(mp,t))}var yD=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ao(c),this.defaultRenderer=new uo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Jt.ShadowDom&&(i=ie(D({},i),{encapsulation:Jt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof bu?s.applyToHost(r):s instanceof lo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Jt.Emulated:o=new bu(u,l,i,this.appId,d,a,c,h);break;case Jt.ShadowDom:return new pp(u,l,r,i,a,c,this.nonce,h);default:o=new lo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(z(wD),z(ID),z(ru),z(MO),z(dt),z(Tt),z(se),z(Sf))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),uo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(lp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=lp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=lp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Nn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function vD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var pp=class extends uo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=DD(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},lo=class extends uo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?DD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bu=class extends lo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=NO(u),this.hostAttr=xO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},PO=(()=>{let e=class e extends Cu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(z(dt))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),_D=["alt","control","meta","shift"],OO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},FO=(()=>{let e=class e extends Cu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),_D.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=OO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),_D.forEach(a=>{if(a!==s){let c=kO[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(z(dt))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function TD(t,e){return qE(D({rootComponent:t},LO(e)))}function LO(t){return{appProviders:[...$O,...t?.providers??[]],platformProviders:BO}}function VO(){hp.makeCurrent()}function UO(){return new Dn}function jO(){return kI(document),document}var BO=[{provide:Tt,useValue:oD},{provide:Af,useValue:VO,multi:!0},{provide:dt,useFactory:jO,deps:[]}];var $O=[{provide:Jc,useValue:"root"},{provide:Dn,useFactory:UO,deps:[]},{provide:fp,useClass:PO,multi:!0,deps:[dt,se,Tt]},{provide:fp,useClass:FO,multi:!0,deps:[dt]},yD,ID,wD,{provide:Ws,useExisting:yD},{provide:wu,useClass:bO,deps:[]},[]];var CD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(z(dt))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gp=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(gp||{});function bD(...t){let e=[],n=new Set,r=n.has(gp.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return Nr([[],zE(),n.has(gp.NoHttpTransferCache)||r?[]:mD({}),e])}var V="primary",bo=Symbol("RouteTitle"),Ip=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qi(t){return new Ip(t)}function zO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function GO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rn(t[n],e[n]))return!1;return!0}function rn(t,e){let n=t?Ep(t):void 0,r=e?Ep(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xD(t[i],e[i]))return!1;return!0}function Ep(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function PD(t){return t.length>0?t[t.length-1]:null}function nr(t){return Xd(t)?t:Yn(t)?he(Promise.resolve(t)):P(t)}var WO={exact:kD,subset:FD},OD={exact:KO,subset:QO,ignored:()=>!0};function AD(t,e,n){return WO[n.paths](t.root,e.root,n.matrixParams)&&OD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function KO(t,e){return rn(t,e)}function kD(t,e,n){if(!Lr(t.segments,e.segments)||!Ru(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kD(t.children[r],e.children[r],n))return!1;return!0}function QO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xD(t[n],e[n]))}function FD(t,e,n){return LD(t,e,e.segments,n)}function LD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Lr(i,n)||e.hasChildren()||!Ru(i,n,r))}else if(t.segments.length===n.length){if(!Lr(t.segments,n)||!Ru(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!FD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Lr(t.segments,i)||!Ru(t.segments,i,r)||!t.children[V]?!1:LD(t.children[V],e,s,r)}}function Ru(t,e,n){return e.every((r,i)=>OD[n](t[i].parameters,r.parameters))}var er=class{constructor(e=new ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qi(this.queryParams),this._queryParamMap}toString(){return ZO.serialize(this)}},ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mu(this)}},Fr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Qi(this.parameters),this._parameterMap}toString(){return UD(this)}};function YO(t,e){return Lr(t,e)&&t.every((n,r)=>rn(n.parameters,e[r].parameters))}function Lr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function JO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===V&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==V&&(n=n.concat(e(i,r)))}),n}var Kp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>new xu,providedIn:"root"});let t=e;return t})(),xu=class{parse(e){let n=new Tp(e);return new er(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ho(e.root,!0)}`,r=tk(e.queryParams),i=typeof e.fragment=="string"?`#${XO(e.fragment)}`:"";return`${n}${r}${i}`}},ZO=new xu;function Mu(t){return t.segments.map(e=>UD(e)).join("/")}function ho(t,e){if(!t.hasChildren())return Mu(t);if(e){let n=t.children[V]?ho(t.children[V],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==V&&r.push(`${i}:${ho(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=JO(t,(r,i)=>i===V?[ho(t.children[V],!1)]:[`${i}:${ho(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[V]!=null?`${Mu(t)}/${n[0]}`:`${Mu(t)}/(${n.join("//")})`}}function VD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Au(t){return VD(t).replace(/%3B/gi,";")}function XO(t){return encodeURI(t)}function Dp(t){return VD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nu(t){return decodeURIComponent(t)}function SD(t){return Nu(t.replace(/\+/g,"%20"))}function UD(t){return`${Dp(t.path)}${ek(t.parameters)}`}function ek(t){return Object.entries(t).map(([e,n])=>`;${Dp(e)}=${Dp(n)}`).join("")}function tk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Au(n)}=${Au(i)}`).join("&"):`${Au(n)}=${Au(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var nk=/^[^\/()?;#]+/;function yp(t){let e=t.match(nk);return e?e[0]:""}var rk=/^[^\/()?;=#]+/;function ik(t){let e=t.match(rk);return e?e[0]:""}var sk=/^[^=?&#]+/;function ok(t){let e=t.match(sk);return e?e[0]:""}var ak=/^[^&#]+/;function ck(t){let e=t.match(ak);return e?e[0]:""}var Tp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[V]=new ne(e,n)),r}parseSegment(){let e=yp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new Fr(Nu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ik(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=yp(this.remaining);i&&(r=i,this.capture(r))}e[Nu(n)]=Nu(r)}parseQueryParam(e){let n=ok(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=ck(this.remaining);o&&(r=o,this.capture(r))}let i=SD(n),s=SD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=yp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=V);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[V]:new ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function jD(t){return t.segments.length>0?new ne([],{[V]:t}):t}function BD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=BD(i);if(r===V&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ne(t.segments,e);return uk(n)}function uk(t){if(t.numberOfChildren===1&&t.children[V]){let e=t.children[V];return new ne(t.segments.concat(e.segments),e.children)}return t}function Yi(t){return t instanceof er}function lk(t,e,n=null,r=null){let i=$D(t);return HD(i,e,n,r)}function $D(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ne(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=jD(r);return e??i}function HD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return vp(i,i,i,n,r);let s=dk(e);if(s.toRoot())return vp(i,i,new ne([],{}),n,r);let o=hk(s,i,t),a=o.processChildren?go(o.segmentGroup,o.index,s.commands):zD(o.segmentGroup,o.index,s.commands);return vp(i,o.segmentGroup,a,n,r)}function Pu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function vo(t){return typeof t=="object"&&t!=null&&t.outlets}function vp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=qD(t,e,n);let a=jD(BD(o));return new er(a,s,i)}function qD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=qD(s,e,n)}),new ne(t.segments,r)}var Ou=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pu(r[0]))throw new b(4003,!1);let i=r.find(vo);if(i&&i!==PD(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ou(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ou(n,e,r)}var Wi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function hk(t,e,n){if(t.isAbsolute)return new Wi(e,!0,0);if(!n)return new Wi(e,!1,NaN);if(n.parent===null)return new Wi(n,!0,0);let r=Pu(t.commands[0])?0:1,i=n.segments.length-1+r;return fk(n,i,t.numberOfDoubleDots)}function fk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Wi(r,!1,i-s)}function pk(t){return vo(t[0])?t[0].outlets:{[V]:t}}function zD(t,e,n){if(t??=new ne([],{}),t.segments.length===0&&t.hasChildren())return go(t,e,n);let r=gk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ne(t.segments.slice(0,r.pathIndex),{});return s.children[V]=new ne(t.segments.slice(r.pathIndex),t.children),go(s,0,i)}else return r.match&&i.length===0?new ne(t.segments,{}):r.match&&!t.hasChildren()?Cp(t,e,n):r.match?go(t,0,i):Cp(t,e,n)}function go(t,e,n){if(n.length===0)return new ne(t.segments,{});{let r=pk(n),i={};if(Object.keys(r).some(s=>s!==V)&&t.children[V]&&t.numberOfChildren===1&&t.children[V].segments.length===0){let s=go(t.children[V],e,n);return new ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=zD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ne(t.segments,i)}}function gk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(vo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!MD(c,u,o))return s;r+=2}else{if(!MD(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Cp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(vo(s)){let c=mk(s.outlets);return new ne(r,c)}if(i===0&&Pu(n[0])){let c=t.segments[e];r.push(new Fr(c.path,RD(n[0]))),i++;continue}let o=vo(s)?s.outlets[V]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Pu(a)?(r.push(new Fr(o,RD(a))),i+=2):(r.push(new Fr(o,{})),i++)}return new ne(r,{})}function mk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Cp(new ne([],{}),0,r))}),e}function RD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function MD(t,e,n){return t==n.path&&rn(e,n.parameters)}var mo="imperative",Oe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Oe||{}),Ct=class{constructor(e,n){this.id=e,this.url=n}},_o=class extends Ct{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Oe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vr=class extends Ct{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Oe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ft=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ft||{}),bp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(bp||{}),tr=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Oe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ur=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Oe.NavigationSkipped}},wo=class extends Ct{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Oe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ku=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ap=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sp=class extends Ct{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Oe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rp=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mp=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Np=class{constructor(e){this.route=e,this.type=Oe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xp=class{constructor(e){this.route=e,this.type=Oe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pp=class{constructor(e){this.snapshot=e,this.type=Oe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Op=class{constructor(e){this.snapshot=e,this.type=Oe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kp=class{constructor(e){this.snapshot=e,this.type=Oe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fp=class{constructor(e){this.snapshot=e,this.type=Oe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Io=class{},Eo=class{constructor(e){this.url=e}};var Lp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bu,this.attachRef=null}},Bu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Lp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Vp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Vp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Up(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Up(e,this._root).map(n=>n.value)}};function Vp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Vp(t,n);if(r)return r}return null}function Up(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Up(t,n);if(r.length)return r.unshift(e),r}return[]}var ht=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Gi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Lu=class extends Fu{constructor(e,n){super(e),this.snapshot=n,Yp(this,e)}toString(){return this.snapshot.toString()}};function GD(t){let e=yk(t),n=new xe([new Fr("",{})]),r=new xe({}),i=new xe({}),s=new xe({}),o=new xe(""),a=new Ji(n,r,s,o,i,V,t,e.root);return a.snapshot=e.root,new Lu(new ht(a,[]),e)}function yk(t){let e={},n={},r={},i="",s=new Do([],e,r,i,n,V,t,null,{});return new Vu("",new ht(s,[]))}var Ji=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(U(u=>u[bo]))??P(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(e=>Qi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(e=>Qi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&KD(i)&&(r.resolve[bo]=i.title),r}var Do=class{get title(){return this.data?.[bo]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Vu=class extends Fu{constructor(e,n){super(n),this.url=e,Yp(this,n)}toString(){return WD(this._root)}};function Yp(t,e){e.value._routerState=t,e.children.forEach(n=>Yp(t,n))}function WD(t){let e=t.children.length>0?` { ${t.children.map(WD).join(", ")} } `:"";return`${t.value}${e}`}function _p(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),rn(e.params,n.params)||t.paramsSubject.next(n.params),GO(e.url,n.url)||t.urlSubject.next(n.url),rn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function jp(t,e){let n=rn(t.params,e.params)&&YO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||jp(t.parent,e.parent))}function KD(t){return typeof t.title=="string"||t.title===null}var vk=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=w(Bu),this.location=w(ji),this.changeDetector=w(Zn),this.environmentInjector=w(_t),this.inputBinder=w(Jp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Bp(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ui]});let t=e;return t})(),Bp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Ji?this.route:e===Bu?this.childContexts:this.parent.get(e,n)}},Jp=new S("");function _k(t,e,n){let r=To(t,e._root,n?n._root:void 0);return new Lu(r,e)}function To(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=wk(t,e,n);return new ht(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>To(t,a)),o}}let r=Ik(e.value),i=e.children.map(s=>To(t,s));return new ht(r,i)}}function wk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return To(t,r,i);return To(t,r)})}function Ik(t){return new Ji(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}var QD="ngNavigationCancelingError";function YD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Yi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JD(!1,ft.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function JD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[QD]=!0,n.cancellationCode=e,n}function Ek(t){return ZD(t)&&Yi(t.url)}function ZD(t){return!!t&&t[QD]}var Dk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Qc({type:e,selectors:[["ng-component"]],standalone:!0,features:[mu],decls:1,vars:0,template:function(i,s){i&1&&ut(0,"router-outlet")},dependencies:[vk],encapsulation:2});let t=e;return t})();function Tk(t,e){return t.providers&&!t._injector&&(t._injector=Gf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Zp(t){let e=t.children&&t.children.map(Zp),n=e?ie(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=Dk),n}function sn(t){return t.outlet||V}function Ck(t,e){let n=t.filter(r=>sn(r)===e);return n.push(...t.filter(r=>sn(r)!==e)),n}function Ao(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var bk=(t,e,n,r)=>U(i=>(new $p(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),$p=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),_p(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Gi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Gi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Gi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Gi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Fp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Op(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(_p(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),_p(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ao(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Uu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ki=class{constructor(e,n){this.component=e,this.route=n}};function Ak(t,e,n){let r=t._root,i=e?e._root:null;return fo(r,i,n,[r.value])}function Sk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Xi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!vw(t)?t:e.get(t):r}function fo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Gi(e);return t.children.forEach(o=>{Rk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>yo(a,n.getContext(o),i)),i}function Rk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Mk(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Uu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?fo(t,e,a?a.children:null,r,i):fo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ki(a.outlet.component,o))}else o&&yo(e,a,i),i.canActivateChecks.push(new Uu(r)),s.component?fo(t,null,a?a.children:null,r,i):fo(t,null,n,r,i);return i}function Mk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Lr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Lr(t.url,e.url)||!rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jp(t,e)||!rn(t.queryParams,e.queryParams);case"paramsChange":default:return!jp(t,e)}}function yo(t,e,n){let r=Gi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?yo(o,e.children.getContext(s),n):yo(o,null,n):yo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ki(e.outlet.component,i)):n.canDeactivateChecks.push(new Ki(null,i)):n.canDeactivateChecks.push(new Ki(null,i))}function So(t){return typeof t=="function"}function Nk(t){return typeof t=="boolean"}function xk(t){return t&&So(t.canLoad)}function Pk(t){return t&&So(t.canActivate)}function Ok(t){return t&&So(t.canActivateChild)}function kk(t){return t&&So(t.canDeactivate)}function Fk(t){return t&&So(t.canMatch)}function XD(t){return t instanceof _n||t?.name==="EmptyError"}var Su=Symbol("INITIAL_VALUE");function Zi(){return vt(t=>ac(t.map(e=>e.pipe(wn(1),dc(Su)))).pipe(U(e=>{for(let n of e)if(n!==!0){if(n===Su)return Su;if(n===!1||n instanceof er)return n}return!0}),it(e=>e!==Su),wn(1)))}function Lk(t,e){return Te(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?P(ie(D({},n),{guardsResult:!0})):Vk(o,r,i,t).pipe(Te(a=>a&&Nk(a)?Uk(r,s,t,e):P(a)),U(a=>ie(D({},n),{guardsResult:a})))})}function Vk(t,e,n,r){return he(t).pipe(Te(i=>qk(i.component,i.route,n,e,r)),Nt(i=>i!==!0,!0))}function Uk(t,e,n,r){return he(e).pipe(wr(i=>Di(Bk(i.route.parent,r),jk(i.route,r),Hk(t,i.path,n),$k(t,i.route,n))),Nt(i=>i!==!0,!0))}function jk(t,e){return t!==null&&e&&e(new kp(t)),P(!0)}function Bk(t,e){return t!==null&&e&&e(new Pp(t)),P(!0)}function $k(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(s=>cc(()=>{let o=Ao(e)??n,a=Xi(s,o),c=Pk(a)?a.canActivate(e,t):Kn(o,()=>a(e,t));return nr(c).pipe(Nt())}));return P(i).pipe(Zi())}function Hk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Sk(o)).filter(o=>o!==null).map(o=>cc(()=>{let a=o.guards.map(c=>{let u=Ao(o.node)??n,l=Xi(c,u),d=Ok(l)?l.canActivateChild(r,t):Kn(u,()=>l(r,t));return nr(d).pipe(Nt())});return P(a).pipe(Zi())}));return P(s).pipe(Zi())}function qk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return P(!0);let o=s.map(a=>{let c=Ao(e)??i,u=Xi(a,c),l=kk(u)?u.canDeactivate(t,e,n,r):Kn(c,()=>u(t,e,n,r));return nr(l).pipe(Nt())});return P(o).pipe(Zi())}function zk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return P(!0);let s=i.map(o=>{let a=Xi(o,t),c=xk(a)?a.canLoad(e,n):Kn(t,()=>a(e,n));return nr(c)});return P(s).pipe(Zi(),eT(r))}function eT(t){return $a(we(e=>{if(Yi(e))throw YD(t,e)}),U(e=>e===!0))}function Gk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return P(!0);let s=i.map(o=>{let a=Xi(o,t),c=Fk(a)?a.canMatch(e,n):Kn(t,()=>a(e,n));return nr(c)});return P(s).pipe(Zi(),eT(r))}var Co=class{constructor(e){this.segmentGroup=e||null}},ju=class extends Error{constructor(e){super(),this.urlTree=e}};function zi(t){return Ei(new Co(t))}function Wk(t){return Ei(new b(4e3,!1))}function Kk(t){return Ei(JD(!1,ft.GuardRejected))}var Hp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[V])return Wk(e.redirectTo);i=i.children[V]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ju(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new er(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},qp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qk(t,e,n,r,i){let s=Xp(t,e,n);return s.matched?(r=Tk(e,r),Gk(r,e,n,i).pipe(U(o=>o===!0?s:D({},qp)))):P(s)}function Xp(t,e,n){if(e.path==="**")return Yk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},qp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zO)(n,t,e);if(!i)return D({},qp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?D(D({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Yk(t){return{matched:!0,parameters:t.length>0?PD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ND(t,e,n,r){return n.length>0&&Xk(t,n,r)?{segmentGroup:new ne(e,Zk(r,new ne(n,t.children))),slicedSegments:[]}:n.length===0&&e1(t,n,r)?{segmentGroup:new ne(t.segments,Jk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ne(t.segments,t.children),slicedSegments:n}}function Jk(t,e,n,r){let i={};for(let s of n)if($u(t,e,s)&&!r[sn(s)]){let o=new ne([],{});i[sn(s)]=o}return D(D({},r),i)}function Zk(t,e){let n={};n[V]=e;for(let r of t)if(r.path===""&&sn(r)!==V){let i=new ne([],{});n[sn(r)]=i}return n}function Xk(t,e,n){return n.some(r=>$u(t,e,r)&&sn(r)!==V)}function e1(t,e,n){return n.some(r=>$u(t,e,r))}function $u(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function t1(t,e,n,r){return sn(t)!==r&&(r===V||!$u(e,n,t))?!1:Xp(e,t,n).matched}function n1(t,e,n){return e.length===0&&!t.children[n]}var zp=class{};function r1(t,e,n,r,i,s,o="emptyOnly"){return new Gp(t,e,n,r,i,o,s).recognize()}var i1=31,Gp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Hp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=ND(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(U(n=>{let r=new Do([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,{},V,this.rootComponentType,null,{}),i=new ht(r,n),s=new Vu("",i),o=lk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,V).pipe(Bn(r=>{if(r instanceof ju)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Co?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Qp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(U(s=>s instanceof ht?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return he(i).pipe(wr(s=>{let o=r.children[s],a=Ck(n,s);return this.processSegmentGroup(e,a,o,s)}),lc((s,o)=>(s.push(...o),s)),$n(null),rh(),Te(s=>{if(s===null)return zi(r);let o=tT(s);return s1(o),P(o)}))}processSegment(e,n,r,i,s,o){return he(n).pipe(wr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Bn(c=>{if(c instanceof Co)return P(null);throw c}))),Nt(a=>!!a),Bn(a=>{if(XD(a))return n1(r,i,s)?P(new zp):zi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return t1(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):zi(i):zi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Xp(n,i,s);if(!a)return zi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>i1&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Te(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=Qk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(vt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Do(l,h,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,a1(r),sn(r),r.component??r._loadedComponent??null,r,c1(r)),{segmentGroup:g,slicedSegments:v}=ND(n,l,d,c);if(v.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(U(T=>T===null?null:new ht(f,T)));if(c.length===0&&v.length===0)return P(new ht(f,[]));let _=sn(r)===s;return this.processSegment(u,c,g,v,_?V:s,!0).pipe(U(T=>new ht(f,T instanceof ht?[T]:[])))}))):zi(n)))}getChildConfig(e,n,r){return n.children?P({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?P({routes:n._loadedRoutes,injector:n._loadedInjector}):zk(e,n,r,this.urlSerializer).pipe(Te(i=>i?this.configLoader.loadChildren(e,n).pipe(we(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Kk(n))):P({routes:[],injector:e})}};function s1(t){t.sort((e,n)=>e.value.outlet===V?-1:n.value.outlet===V?1:e.value.outlet.localeCompare(n.value.outlet))}function o1(t){let e=t.value.routeConfig;return e&&e.path===""}function tT(t){let e=[],n=new Set;for(let r of t){if(!o1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=tT(r.children);e.push(new ht(r.value,i))}return e.filter(r=>!n.has(r))}function a1(t){return t.data||{}}function c1(t){return t.resolve||{}}function u1(t,e,n,r,i,s){return Te(o=>r1(t,e,n,r,o.extractedUrl,i,s).pipe(U(({state:a,tree:c})=>ie(D({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function l1(t,e){return Te(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of nT(c))o.add(u);let a=0;return he(o).pipe(wr(c=>s.has(c)?d1(c,r,t,e):(c.data=Qp(c,c.parent,t).resolve,P(void 0))),we(()=>a++),Ci(1),Te(c=>a===o.size?P(n):rt))})}function nT(t){let e=t.children.map(n=>nT(n)).flat();return[t,...e]}function d1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!KD(i)&&(s[bo]=i.title),h1(s,t,e,r).pipe(U(o=>(t._resolvedData=o,t.data=Qp(t,t.parent,n).resolve,null)))}function h1(t,e,n,r){let i=Ep(t);if(i.length===0)return P({});let s={};return he(i).pipe(Te(o=>f1(t[o],e,n,r).pipe(Nt(),we(a=>{s[o]=a}))),Ci(1),nh(s),Bn(o=>XD(o)?rt:Ei(o)))}function f1(t,e,n,r){let i=Ao(e)??r,s=Xi(t,i),o=s.resolve?s.resolve(e,n):Kn(i,()=>s(e,n));return nr(o)}function wp(t){return vt(e=>{let n=t(e);return n?he(n).pipe(U(()=>e)):P(e)})}var rT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===V);return i}getResolvedTitleForRoute(r){return r.data[bo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(p1),providedIn:"root"});let t=e;return t})(),p1=(()=>{let e=class e extends rT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(z(CD))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eg=new S("",{providedIn:"root",factory:()=>({})}),tg=new S(""),g1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(Jf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=nr(r.loadComponent()).pipe(U(iT),we(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ti(()=>{this.componentLoaders.delete(r)})),s=new vi(i,()=>new We).pipe(yi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return P({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=m1(i,this.compiler,r,this.onLoadEndListener).pipe(Ti(()=>{this.childrenLoaders.delete(i)})),a=new vi(o,()=>new We).pipe(yi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function m1(t,e,n,r){return nr(t.loadChildren()).pipe(U(iT),Te(i=>i instanceof Qs||Array.isArray(i)?P(i):he(e.compileModuleAsync(i))),U(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(tg,[],{optional:!0,self:!0}).flat()),{routes:o.map(Zp),injector:s}}))}function y1(t){return t&&typeof t=="object"&&"default"in t}function iT(t){return y1(t)?t.default:t}var ng=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(v1),providedIn:"root"});let t=e;return t})(),v1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_1=new S("");var w1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new We,this.transitionAbortSubject=new We,this.configLoader=w(g1),this.environmentInjector=w(_t),this.urlSerializer=w(Kp),this.rootContexts=w(Bu),this.location=w(oo),this.inputBindingEnabled=w(Jp,{optional:!0})!==null,this.titleStrategy=w(rT),this.options=w(eg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(ng),this.createViewTransition=w(_1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Np(s)),i=s=>this.events.next(new xp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ie(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new xe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(it(o=>o.id!==0),U(o=>ie(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),vt(o=>{let a=!1,c=!1;return P(o).pipe(vt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ft.SupersededByNewNavigation),rt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ie(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Ur(u.id,this.urlSerializer.serialize(u.rawUrl),h,bp.IgnoredSameUrlNavigation)),u.resolve(null),rt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return P(u).pipe(vt(h=>{let f=this.transitions?.getValue();return this.events.next(new _o(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?rt:Promise.resolve(h)}),u1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),we(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ie(D({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new ku(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:v,extras:_}=u,T=new _o(h,this.urlSerializer.serialize(f),g,v);this.events.next(T);let B=GD(this.rootComponentType).snapshot;return this.currentTransition=o=ie(D({},u),{targetSnapshot:B,urlAfterRedirects:f,extras:ie(D({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,P(o)}else{let h="";return this.events.next(new Ur(u.id,this.urlSerializer.serialize(u.extractedUrl),h,bp.IgnoredByUrlHandlingStrategy)),u.resolve(null),rt}}),we(u=>{let l=new Ap(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),U(u=>(this.currentTransition=o=ie(D({},u),{guards:Ak(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Lk(this.environmentInjector,u=>this.events.next(u)),we(u=>{if(o.guardsResult=u.guardsResult,Yi(u.guardsResult))throw YD(this.urlSerializer,u.guardsResult);let l=new Sp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),it(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ft.GuardRejected),!1)),wp(u=>{if(u.guards.canActivateChecks.length)return P(u).pipe(we(l=>{let d=new Rp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),vt(l=>{let d=!1;return P(l).pipe(l1(this.paramsInheritanceStrategy,this.environmentInjector),we({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ft.NoDataFromResolver)}}))}),we(l=>{let d=new Mp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),wp(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(we(f=>{d.component=f}),U(()=>{})));for(let f of d.children)h.push(...l(f));return h};return ac(l(u.targetSnapshot.root)).pipe($n(null),wn(1))}),wp(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?he(d).pipe(U(()=>o)):P(o)}),U(u=>{let l=_k(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ie(D({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),we(()=>{this.events.next(new Io)}),bk(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),wn(1),we({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ih(this.transitionAbortSubject.pipe(we(u=>{throw u}))),Ti(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ft.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bn(u=>{if(c=!0,ZD(u))this.events.next(new tr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Ek(u)?this.events.next(new Eo(u.url)):o.resolve(!1);else{this.events.next(new wo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return rt}))}))}cancelNavigationTransition(r,i,s){let o=new tr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function I1(t){return t!==mo}var E1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(D1),providedIn:"root"});let t=e;return t})(),Wp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},D1=(()=>{let e=class e extends Wp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pr(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(T1),providedIn:"root"});let t=e;return t})(),T1=(()=>{let e=class e extends sT{constructor(){super(...arguments),this.location=w(oo),this.urlSerializer=w(Kp),this.options=w(eg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(ng),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof _o)this.stateMemento=this.createStateMemento();else if(r instanceof Ur)this.rawUrlTree=i.initialUrl;else if(r instanceof ku){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Io?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof tr&&(r.code===ft.GuardRejected||r.code===ft.NoDataFromResolver)?this.restoreHistory(i):r instanceof wo?this.restoreHistory(i,!0):r instanceof Vr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pr(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),po=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(po||{});function C1(t,e){t.events.pipe(it(n=>n instanceof Vr||n instanceof tr||n instanceof wo||n instanceof Ur),U(n=>n instanceof Vr||n instanceof Ur?po.COMPLETE:(n instanceof tr?n.code===ft.Redirect||n.code===ft.SupersededByNewNavigation:!1)?po.REDIRECTING:po.FAILED),it(n=>n!==po.REDIRECTING),wn(1)).subscribe(()=>{e()})}function b1(t){throw t}var A1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},oT=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(yu),this.stateManager=w(sT),this.options=w(eg,{optional:!0})||{},this.pendingTasks=w(ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(w1),this.urlSerializer=w(Kp),this.location=w(oo),this.urlHandlingStrategy=w(ng),this._events=new We,this.errorHandler=this.options.errorHandler||b1,this.navigated=!1,this.routeReuseStrategy=w(E1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(tg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(Jp,{optional:!0}),this.eventsSubscription=new _e,this.isNgZoneEnabled=w(se)instanceof se&&se.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof tr&&i.code!==ft.Redirect&&i.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Vr)this.navigated=!0;else if(i instanceof Eo){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||I1(s.source)};this.scheduleNavigation(a,mo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}M1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=D({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Zp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=$D(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return HD(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Yi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,mo,null,i)}navigate(r,i={skipLocationChange:!1}){return R1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=D({},A1):i===!1?s=D({},S1):s=i,Yi(r))return AD(this.currentUrlTree,r,s);let o=this.parseUrl(r);return AD(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return C1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function R1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function M1(t){return!(t instanceof Io)&&!(t instanceof Eo)}var N1=new S("");function aT(t,...e){return Nr([{provide:tg,multi:!0,useValue:t},[],{provide:Ji,useFactory:x1,deps:[oT]},{provide:qi,multi:!0,useFactory:P1},e.map(n=>n.\u0275providers)])}function x1(t){return t.routerState.root}function P1(){let t=w(Dt);return e=>{let n=t.get(Jn);if(e!==n.components[0])return;let r=t.get(oT),i=t.get(O1);t.get(k1)===1&&r.initialNavigation(),t.get(F1,null,H.Optional)?.setUpPreloading(),t.get(N1,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var O1=new S("",{factory:()=>new We}),k1=new S("",{providedIn:"root",factory:()=>1});var F1=new S("");var uT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new ig;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ig=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},V1=function(t){let e=uT(t);return lT.encodeByteArray(e,!0)},Ro=function(t){return V1(t).replace(/\./g,"")},og=function(t){try{return lT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function U1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var j1=()=>U1().__FIREBASE_DEFAULTS__,B1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&og(t[1]);return e&&JSON.parse(e)},qu=()=>{try{return j1()||B1()||$1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dT=t=>{var e,n;return(n=(e=qu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hT=t=>{let e=dT(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ag=()=>{var t;return(t=qu())===null||t===void 0?void 0:t.config},fT=t=>{var e;return(e=qu())===null||e===void 0?void 0:e[`_${t}`]};var Hu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function pT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ro(JSON.stringify(n)),Ro(JSON.stringify(o)),""].join(".")}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function H1(){var t;let e=(t=qu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vT(){return!H1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zu(){try{return typeof indexedDB=="object"}catch{return!1}}function _T(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var q1="FirebaseError",bt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=q1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}},xn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?z1(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new bt(i,a,r)}};function z1(t,e){return t.replace(G1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var G1=/\{\$([^}]+)}/g;function es(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(cT(s)&&cT(o)){if(!es(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function cT(t){return t!==null&&typeof t=="object"}function cg(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wT(t,e){let n=new sg(t,e);return n.subscribe.bind(n)}var sg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rg),i.error===void 0&&(i.error=rg),i.complete===void 0&&(i.complete=rg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function W1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rg(){}var vW=4*60*60*1e3;function Ye(t){return t&&t._delegate?t._delegate:t}var At=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var jr="[DEFAULT]";var ug=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Hu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q1(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function K1(t){return t===jr?void 0:t}function Q1(t){return t.instantiationMode==="EAGER"}var Gu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ug(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Y1=[],K=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(K||{}),J1={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},Z1=K.INFO,X1={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},eF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=X1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},rr=class{constructor(e){this.name=e,this._logLevel=Z1,this._logHandler=eF,this._userLogHandler=null,Y1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}};var tF=(t,e)=>e.some(n=>t instanceof n),IT,ET;function nF(){return IT||(IT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rF(){return ET||(ET=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var DT=new WeakMap,dg=new WeakMap,TT=new WeakMap,lg=new WeakMap,fg=new WeakMap;function iF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(on(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DT.set(n,t)}).catch(()=>{}),fg.set(e,t),e}function sF(t){if(dg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dg.set(t,e)}var hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CT(t){hg=t(hg)}function oF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Wu(this),e,...n);return TT.set(r,e.sort?e.sort():[e]),on(r)}:rF().includes(t)?function(...e){return t.apply(Wu(this),e),on(DT.get(this))}:function(...e){return on(t.apply(Wu(this),e))}}function aF(t){return typeof t=="function"?oF(t):(t instanceof IDBTransaction&&sF(t),tF(t,nF())?new Proxy(t,hg):t)}function on(t){if(t instanceof IDBRequest)return iF(t);if(lg.has(t))return lg.get(t);let e=aF(t);return e!==t&&(lg.set(t,e),fg.set(e,t)),e}var Wu=t=>fg.get(t);function AT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=on(o);return r&&o.addEventListener("upgradeneeded",c=>{r(on(o.result),c.oldVersion,c.newVersion,on(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var cF=["get","getKey","getAll","getAllKeys","count"],uF=["put","add","delete","clear"],pg=new Map;function bT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pg.get(e))return pg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=uF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cF.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return pg.set(e,s),s}CT(t=>ie(D({},t),{get:(e,n,r)=>bT(e,n)||t.get(e,n,r),has:(e,n)=>!!bT(e,n)||t.has(e,n)}));var mg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function lF(t){let e=t.getComponent();return e?.type==="VERSION"}var yg="@firebase/app",ST="0.10.1";var Br=new rr("@firebase/app"),dF="@firebase/app-compat",hF="@firebase/analytics-compat",fF="@firebase/analytics",pF="@firebase/app-check-compat",gF="@firebase/app-check",mF="@firebase/auth",yF="@firebase/auth-compat",vF="@firebase/database",_F="@firebase/database-compat",wF="@firebase/functions",IF="@firebase/functions-compat",EF="@firebase/installations",DF="@firebase/installations-compat",TF="@firebase/messaging",CF="@firebase/messaging-compat",bF="@firebase/performance",AF="@firebase/performance-compat",SF="@firebase/remote-config",RF="@firebase/remote-config-compat",MF="@firebase/storage",NF="@firebase/storage-compat",xF="@firebase/firestore",PF="@firebase/firestore-compat",OF="firebase",kF="10.11.0";var vg="[DEFAULT]",FF={[yg]:"fire-core",[dF]:"fire-core-compat",[fF]:"fire-analytics",[hF]:"fire-analytics-compat",[gF]:"fire-app-check",[pF]:"fire-app-check-compat",[mF]:"fire-auth",[yF]:"fire-auth-compat",[vF]:"fire-rtdb",[_F]:"fire-rtdb-compat",[wF]:"fire-fn",[IF]:"fire-fn-compat",[EF]:"fire-iid",[DF]:"fire-iid-compat",[TF]:"fire-fcm",[CF]:"fire-fcm-compat",[bF]:"fire-perf",[AF]:"fire-perf-compat",[SF]:"fire-rc",[RF]:"fire-rc-compat",[MF]:"fire-gcs",[NF]:"fire-gcs-compat",[xF]:"fire-fst",[PF]:"fire-fst-compat","fire-js":"fire-js",[OF]:"fire-js-all"};var Mo=new Map,LF=new Map,_g=new Map;function RT(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sr(t){let e=t.name;if(_g.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;_g.set(e,t);for(let n of Mo.values())RT(n,t);for(let n of LF.values())RT(n,t);return!0}function Dg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ts(t){return t.settings!==void 0}var VF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new xn("app","Firebase",VF);var wg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new At("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}};var ns=kF;function Tg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ir.create("bad-app-name",{appName:String(i)});if(n||(n=ag()),!n)throw ir.create("no-options");let s=Mo.get(i);if(s){if(es(n,s.options)&&es(r,s.config))return s;throw ir.create("duplicate-app",{appName:i})}let o=new Gu(i);for(let c of _g.values())o.addComponent(c);let a=new wg(n,r,o);return Mo.set(i,a),a}function xo(t=vg){let e=Mo.get(t);if(!e&&t===vg&&ag())return Tg();if(!e)throw ir.create("no-app",{appName:t});return e}function Ku(){return Array.from(Mo.values())}function Ae(t,e,n){var r;let i=(r=FF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}sr(new At(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var UF="firebase-heartbeat-database",jF=1,No="firebase-heartbeat-store",gg=null;function PT(){return gg||(gg=AT(UF,jF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(No)}catch(n){console.warn(n)}}}}).catch(t=>{throw ir.create("idb-open",{originalErrorMessage:t.message})})),gg}function BF(t){return p(this,null,function*(){try{let n=(yield PT()).transaction(No),r=yield n.objectStore(No).get(OT(t));return yield n.done,r}catch(e){if(e instanceof bt)Br.warn(e.message);else{let n=ir.create("idb-get",{originalErrorMessage:e?.message});Br.warn(n.message)}}})}function MT(t,e){return p(this,null,function*(){try{let r=(yield PT()).transaction(No,"readwrite");yield r.objectStore(No).put(e,OT(t)),yield r.done}catch(n){if(n instanceof bt)Br.warn(n.message);else{let r=ir.create("idb-set",{originalErrorMessage:n?.message});Br.warn(r.message)}}})}function OT(t){return`${t.name}!${t.options.appId}`}var $F=1024,HF=30*24*60*60*1e3,Ig=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Eg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=NT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=HF}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=NT(),{heartbeatsToSend:r,unsentEntries:i}=qF(this._heartbeatsCache.heartbeats),s=Ro(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function NT(){return new Date().toISOString().substring(0,10)}function qF(t,e=$F){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Eg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return zu()?_T().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield BF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xT(t){return Ro(JSON.stringify({version:2,heartbeats:t})).length}function zF(t){sr(new At("platform-logger",e=>new mg(e),"PRIVATE")),sr(new At("heartbeat",e=>new Ig(e),"PRIVATE")),Ae(yg,ST,t),Ae(yg,ST,"esm2017"),Ae("fire-js","")}zF("");var GF="firebase",WF="10.11.0";Ae(GF,WF,"app");var is=new Cn("ANGULARFIRE2_VERSION");function bg(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Oo=(t,e)=>{let n=e?[e]:Ku(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Po=class{constructor(){return Oo(KF)}},KF="app-check";function rs(){}var Qu=class{zone;delegate;constructor(e,n=Jd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Cg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs)),n.pipe(we({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ko=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Qu(Zone.current)),this.insideAngular=n.run(()=>new Qu(Zone.current,Yd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(z(se))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function QF(t){return Yu().ngZone.runOutsideAngular(()=>t())}function $r(t){return Yu().ngZone.run(()=>t())}function YF(t){return JF(Yu())(t)}function JF(t){return function(n){return n=n.lift(new Cg(t.ngZone)),n.pipe(jn(t.outsideAngular),Un(t.insideAngular))}}var ZF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),$r(()=>t.apply(void 0,r))},qt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=$r(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs))),r[s]=ZF(r[s],n));let i=QF(()=>t.apply(this,r));if(!e)if(i instanceof G){let s=Yu();return i.pipe(jn(s.outsideAngular),Un(s.insideAngular))}else return $r(()=>i);return i instanceof G?i.pipe(YF):i instanceof Promise?$r(()=>new Promise((s,o)=>i.then(a=>$r(()=>s(a)),a=>$r(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:$r(()=>i)};var Hr=class{constructor(e){return e}},Fo=class{constructor(){return Ku()}};function XF(t){return t&&t.length===1?t[0]:new Hr(xo())}var Ag=new S("angularfire2._apps"),eL={provide:Hr,useFactory:XF,deps:[[new Vt,Ag]]},tL={provide:Fo,deps:[[new Vt,Ag]]};function nL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Hr(r)}}var rL=(()=>{class t{constructor(n){Ae("angularfire",is.full,"core"),Ae("angularfire",is.full,"app"),Ae("angular",UE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(z(Tt))};static \u0275mod=Ut({type:t});static \u0275inj=Lt({providers:[eL,tL]})}return t})();function kT(t,...e){return{ngModule:rL,providers:[{provide:Ag,useFactory:nL(t),multi:!0,deps:[se,Dt,ko,...e]}]}}var FT=qt(Tg,!0);function qT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zT=qT,GT=new xn("auth","Firebase",qT());var el=new rr("@firebase/auth");function sL(t,...e){el.logLevel<=K.WARN&&el.warn(`Auth (${ns}): ${t}`,...e)}function Zu(t,...e){el.logLevel<=K.ERROR&&el.error(`Auth (${ns}): ${t}`,...e)}function LT(t,...e){throw Ug(t,...e)}function Vg(t,...e){return Ug(t,...e)}function WT(t,e,n){let r=Object.assign(Object.assign({},zT()),{[e]:n});return new xn("auth","Firebase",r).create(e,{appName:t.name})}function Xu(t){return WT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ug(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GT.create(t,...e)}function X(t,e,...n){if(!t)throw Ug(e,...n)}function Lo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Zu(e),new Error(e)}function tl(t,e){t||Lo(e)}function oL(){return VT()==="http:"||VT()==="https:"}function VT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function aL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oL()||mT()||"connection"in navigator)?navigator.onLine:!0}function cL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var zr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,tl(n>e,"Short delay should be less than long delay!"),this.isMobile=gT()||yT()}get(){return aL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function uL(t,e){tl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var nl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var lL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var dL=new zr(3e4,6e4);function KT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ol(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return QT(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=cg(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),nl.fetch()(YT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function QT(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},lL),e);try{let i=new Mg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ju(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ju(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ju(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WT(t,l,u);LT(t,l)}}catch(i){if(i instanceof bt)throw i;LT(t,"network-request-failed",{message:String(i)})}})}function YT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?uL(t.config,i):`${t.config.apiScheme}://${i}`}var Mg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vg(this.auth,"network-request-failed")),dL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ju(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Vg(t,e,r);return i.customData._tokenResponse=n,i}function hL(t,e){return p(this,null,function*(){return ol(t,"POST","/v1/accounts:delete",e)})}function JT(t,e){return p(this,null,function*(){return ol(t,"POST","/v1/accounts:lookup",e)})}function Vo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jg(t,e=!1){return p(this,null,function*(){let n=Ye(t),r=yield n.getIdToken(e),i=ZT(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Vo(Sg(i.auth_time)),issuedAtTime:Vo(Sg(i.iat)),expirationTime:Vo(Sg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Sg(t){return Number(t)*1e3}function ZT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{let i=og(n);return i?JSON.parse(i):(Zu("Failed to decode base64 JWT payload"),null)}catch(i){return Zu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UT(t){let e=ZT(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ng(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof bt&&fL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function fL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var xg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var jo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function rl(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ng(t,JT(n,{idToken:r}));X(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?XT(s.providerUserInfo):[],a=pL(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jo(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Bg(t){return p(this,null,function*(){let e=Ye(t);yield rl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function pL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XT(t){return t.map(e=>{var{providerId:n}=e,r=Zd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function gL(t,e){return p(this,null,function*(){let n=yield QT(t,{},()=>p(this,null,function*(){let r=cg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function mL(t,e){return p(this,null,function*(){return ol(t,"POST","/v2/accounts:revokeToken",KT(t,e))})}var Uo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");let n=UT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield gL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Lo("not implemented")}};function or(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Bo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Zd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Ng(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return jg(this,e)}reload(){return Bg(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield rl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(ts(this.auth.app))return Promise.reject(Xu(this.auth));let e=yield this.getIdToken();return yield Ng(this,hL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,B=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:$,emailVerified:ce,isAnonymous:Ne,providerData:te,stsTokenManager:Ve}=n;X($&&Ve,e,"internal-error");let Kt=Uo.fromJSON(this.name,Ve);X(typeof $=="string",e,"internal-error"),or(d,e.name),or(h,e.name),X(typeof ce=="boolean",e,"internal-error"),X(typeof Ne=="boolean",e,"internal-error"),or(f,e.name),or(g,e.name),or(v,e.name),or(_,e.name),or(T,e.name),or(B,e.name);let gr=new t({uid:$,auth:e,email:h,emailVerified:ce,displayName:d,isAnonymous:Ne,photoURL:g,phoneNumber:f,tenantId:v,stsTokenManager:Kt,createdAt:T,lastLoginAt:B});return te&&Array.isArray(te)&&(gr.providerData=te.map(di=>Object.assign({},di))),_&&(gr._redirectEventId=_),gr}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Uo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield rl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];X(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?XT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Uo;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new jo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var jT=new Map;function qr(t){tl(t instanceof Function,"Expected a class definition");let e=jT.get(t);return e?(tl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jT.set(t,e),e)}var yL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Pg=yL;function Rg(t,e,n){return`firebase:${t}:${e}:${n}`}var il=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Rg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Bo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(qr(Pg),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||qr(Pg),o=Rg(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Bo._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function BT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DL(e))return"Blackberry";if(TL(e))return"Webos";if(_L(e))return"Safari";if((e.includes("chrome/")||wL(e))&&!e.includes("edge/"))return"Chrome";if(EL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function vL(t=$e()){return/firefox\//i.test(t)}function _L(t=$e()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wL(t=$e()){return/crios\//i.test(t)}function IL(t=$e()){return/iemobile/i.test(t)}function EL(t=$e()){return/android/i.test(t)}function DL(t=$e()){return/blackberry/i.test(t)}function TL(t=$e()){return/webos/i.test(t)}function e0(t,e=[]){let n;switch(t){case"Browser":n=BT($e());break;case"Worker":n=`${BT($e())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ns}/${r}`}var Og=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function CL(n){return p(this,arguments,function*(t,e={}){return ol(t,"GET","/v2/passwordPolicy",KT(t,e))})}var bL=6,kg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:bL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Fg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sl(this),this.idTokenSubscription=new sl(this),this.beforeStateQueue=new Og(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield il.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield JT(this,{idToken:e}),r=yield Bo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(ts(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield rl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=cL()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(ts(this.app))return Promise.reject(Xu(this));let n=e?Ye(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return ts(this.app)?Promise.reject(Xu(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ts(this.app)?Promise.reject(Xu(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(qr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield CL(this),n=new kg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield mL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&qr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=yield il.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&sL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function AL(t){return Ye(t)}var sl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wT(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var SL={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RL(t){SL=t}function ML(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function NL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var f9=ML("rcb"),p9=new zr(3e4,6e4);var g9=new zr(2e3,1e4);var m9=10*60*1e3;var y9=new zr(3e4,6e4);var v9=new zr(5e3,15e3);var _9=encodeURIComponent("fac");var $T="@firebase/auth",HT="1.7.1";var Lg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PL(t){sr(new At("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e0(t)},u=new Fg(r,i,s,c);return NL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sr(new At("auth-internal",e=>{let n=AL(e.getProvider("auth").getImmediate());return(r=>new Lg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ae($T,HT,xL(t)),Ae($T,HT,"esm2017")}var OL=5*60,w9=fT("authIdTokenMaxAge")||OL;function kL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Vg("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PL("Browser");var OV="auth";var al=class{constructor(){return Oo(OV)}};var kV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gt={},I,um=um||{},x=kV||self;function Il(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ta(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function FV(t){return Object.prototype.hasOwnProperty.call(t,$g)&&t[$g]||(t[$g]=++LV)}var $g="closure_uid_"+(1e9*Math.random()>>>0),LV=0;function VV(t,e,n){return t.call.apply(t.bind,arguments)}function UV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function He(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?He=VV:He=UV,He.apply(null,arguments)}function cl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Re(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ar(){this.s=this.s,this.o=this.o}var jV=0;ar.prototype.s=!1;ar.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),jV!=0)&&FV(this)};ar.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var f0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function lm(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function t0(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Il(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var BV=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};x.addEventListener("test",n,e),x.removeEventListener("test",n,e)}catch{}return t}();function Wo(t){return/^[\s\xa0]*$/.test(t)}function El(){var t=x.navigator;return t&&(t=t.userAgent)?t:""}function an(t){return El().indexOf(t)!=-1}function dm(t){return dm[" "](t),t}dm[" "]=function(){};function $V(t,e){var n=MU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var HV=an("Opera"),cs=an("Trident")||an("MSIE"),p0=an("Edge"),Wg=p0||cs,g0=an("Gecko")&&!(El().toLowerCase().indexOf("webkit")!=-1&&!an("Edge"))&&!(an("Trident")||an("MSIE"))&&!an("Edge"),qV=El().toLowerCase().indexOf("webkit")!=-1&&!an("Edge");function m0(){var t=x.document;return t?t.documentMode:void 0}var Kg;e:{if(ul="",ll=function(){var t=El();if(g0)return/rv:([^\);]+)(\)|;)/.exec(t);if(p0)return/Edge\/([\d\.]+)/.exec(t);if(cs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(qV)return/WebKit\/(\S+)/.exec(t);if(HV)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),ll&&(ul=ll?ll[1]:""),cs&&(dl=m0(),dl!=null&&dl>parseFloat(ul))){Kg=String(dl);break e}Kg=ul}var ul,ll,dl,Qg;x.document&&cs?(Hg=m0(),Qg=Hg||parseInt(Kg,10)||void 0):Qg=void 0;var Hg,zV=Qg;function Ko(t,e){if(qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(g0){e:{try{dm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:GV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ko.$.h.call(this)}}Re(Ko,qe);var GV={2:"touch",3:"pen",4:"mouse"};Ko.prototype.h=function(){Ko.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var na="closure_listenable_"+(1e6*Math.random()|0),WV=0;function KV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++WV,this.fa=this.ia=!1}function Dl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function hm(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function QV(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function y0(t){let e={};for(let n in t)e[n]=t[n];return e}var n0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<n0.length;s++)n=n0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tl(t){this.src=t,this.g={},this.h=0}Tl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Jg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new KV(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Yg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=f0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Dl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var fm="closure_lm_"+(1e6*Math.random()|0),qg={};function _0(t,e,n,r,i){if(r&&r.once)return I0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_0(t,e[s],n,r,i);return null}return n=mm(n),t&&t[na]?t.O(e,n,ta(r)?!!r.capture:!!r,i):w0(t,e,n,!1,r,i)}function w0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ta(i)?!!i.capture:!!i,a=gm(t);if(a||(t[fm]=a=new Tl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=YV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BV||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(D0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function YV(){function t(n){return e.call(t.src,t.listener,n)}let e=JV;return t}function I0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)I0(t,e[s],n,r,i);return null}return n=mm(n),t&&t[na]?t.P(e,n,ta(r)?!!r.capture:!!r,i):w0(t,e,n,!0,r,i)}function E0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)E0(t,e[s],n,r,i);else r=ta(r)?!!r.capture:!!r,n=mm(n),t&&t[na]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Jg(s,n,r,i),-1<n&&(Dl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=gm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jg(e,n,r,i)),(n=-1<t?e[t]:null)&&pm(n))}function pm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[na])Yg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(D0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gm(e))?(Yg(n,t),n.h==0&&(n.src=null,e[fm]=null)):Dl(t)}}}function D0(t){return t in qg?qg[t]:qg[t]="on"+t}function JV(t,e){if(t.fa)t=!0;else{e=new Ko(e,this);var n=t.listener,r=t.la||t.src;t.ia&&pm(t),t=n.call(r,e)}return t}function gm(t){return t=t[fm],t instanceof Tl?t:null}var zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function mm(t){return typeof t=="function"?t:(t[zg]||(t[zg]=function(e){return t.handleEvent(e)}),t[zg])}function Se(){ar.call(this),this.i=new Tl(this),this.S=this,this.J=null}Re(Se,ar);Se.prototype[na]=!0;Se.prototype.removeEventListener=function(t,e,n,r){E0(this,t,e,n,r)};function Fe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new qe(e,t);else if(e instanceof qe)e.target=e.target||t;else{var i=e;e=new qe(r,t),v0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=hl(o,r,!0,e)&&i}if(o=e.g=t,i=hl(o,r,!0,e)&&i,i=hl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=hl(o,r,!1,e)&&i}Se.prototype.N=function(){if(Se.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Dl(n[r]);delete t.g[e],t.h--}}this.J=null};Se.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Se.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function hl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Yg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var ym=x.JSON.stringify,Zg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function ZV(){var t=vm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Xg=class{constructor(){this.h=this.g=null}add(e,n){let r=T0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},T0=new Zg(()=>new em,t=>t.reset()),em=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function XV(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function eU(t){x.setTimeout(()=>{throw t},0)}var Qo,Yo=!1,vm=new Xg,C0=()=>{let t=x.Promise.resolve(void 0);Qo=()=>{t.then(tU)}},tU=()=>{for(var t;t=ZV();){try{t.h.call(t.g)}catch(n){eU(n)}var e=T0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yo=!1};function Cl(t,e){Se.call(this),this.h=t||1,this.g=e||x,this.j=He(this.qb,this),this.l=Date.now()}Re(Cl,Se);I=Cl.prototype;I.ga=!1;I.T=null;I.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fe(this,"tick"),this.ga&&(_m(this),this.start()))}};I.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _m(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}I.N=function(){Cl.$.N.call(this),_m(this),delete this.g};function wm(t,e,n){if(typeof t=="function")n&&(t=He(t,n));else if(t&&typeof t.handleEvent=="function")t=He(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:x.setTimeout(t,e||0)}function b0(t){t.g=wm(()=>{t.g=null,t.i&&(t.i=!1,b0(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var tm=class extends ar{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:b0(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Jo(t){ar.call(this),this.h=t,this.g={}}Re(Jo,ar);var r0=[];function A0(t,e,n,r){Array.isArray(n)||(n&&(r0[0]=n.toString()),n=r0);for(var i=0;i<n.length;i++){var s=_0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function S0(t){hm(t.g,function(e,n){this.g.hasOwnProperty(n)&&pm(e)},t),t.g={}}Jo.prototype.N=function(){Jo.$.N.call(this),S0(this)};Jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bl(){this.g=!0}bl.prototype.Ea=function(){this.g=!1};function nU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function rU(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function os(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+sU(t,n)+(r?" "+r:"")})}function iU(t,e){t.info(function(){return"TIMEOUT: "+e})}bl.prototype.info=function(){};function sU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return ym(n)}catch{return e}}var Qr={},i0=null;function Al(){return i0=i0||new Se}Qr.Ta="serverreachability";function R0(t){qe.call(this,Qr.Ta,t)}Re(R0,qe);function Zo(t){let e=Al();Fe(e,new R0(e))}Qr.STAT_EVENT="statevent";function M0(t,e){qe.call(this,Qr.STAT_EVENT,t),this.stat=e}Re(M0,qe);function Je(t){let e=Al();Fe(e,new M0(e,t))}Qr.Ua="timingevent";function N0(t,e){qe.call(this,Qr.Ua,t),this.size=e}Re(N0,qe);function ra(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){t()},e)}var Sl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},x0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Im(){}Im.prototype.h=null;function s0(t){return t.h||(t.h=t.i())}function P0(){}var ia={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Em(){qe.call(this,"d")}Re(Em,qe);function Dm(){qe.call(this,"c")}Re(Dm,qe);var nm;function Rl(){}Re(Rl,Im);Rl.prototype.g=function(){return new XMLHttpRequest};Rl.prototype.i=function(){return{}};nm=new Rl;function sa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Jo(this),this.P=oU,t=Wg?125:void 0,this.V=new Cl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new O0}function O0(){this.i=null,this.g="",this.h=!1}var oU=45e3,k0={},rm={};I=sa.prototype;I.setTimeout=function(t){this.P=t};function im(t,e,n){t.L=1,t.A=Nl(On(e)),t.u=n,t.S=!0,F0(t,null)}function F0(t,e){t.G=Date.now(),oa(t),t.B=On(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),q0(n.i,"t",r),t.o=0,n=t.l.J,t.h=new O0,t.g=dC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new tm(He(t.Pa,t,t.g),t.O)),A0(t.U,t.g,"readystatechange",t.nb),e=t.I?y0(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Zo(),nU(t.j,t.v,t.B,t.m,t.W,t.u)}I.nb=function(t){t=t.target;let e=this.M;e&&cn(t)==3?e.l():this.Pa(t)};I.Pa=function(t){try{if(t==this.g)e:{let l=cn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Wg||this.g&&(this.h.h||this.g.ja()||u0(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Zo(3):Zo(2)),Ml(this);var n=this.g.da();this.ca=n;t:if(L0(this)){var r=u0(this.g);t="";var i=r.length,s=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gr(this),Go(this);var o="";break t}this.h.i=new x.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,rU(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wo(a)){var u=a;break t}}u=null}if(n=u)os(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sm(this,n);else{this.i=!1,this.s=3,Je(12),Gr(this),Go(this);break e}}this.S?(V0(this,l,o),Wg&&this.i&&l==3&&(A0(this.U,this.V,"tick",this.mb),this.V.start())):(os(this.j,this.m,o,null),sm(this,o)),l==4&&Gr(this),this.i&&!this.J&&(l==4?aC(this.l,this):(this.i=!1,oa(this)))}else AU(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),Gr(this),Go(this)}}}catch{}finally{}};function L0(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function V0(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=aU(t,n),i==rm){e==4&&(t.s=4,Je(14),r=!1),os(t.j,t.m,null,"[Incomplete Response]");break}else if(i==k0){t.s=4,Je(15),os(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else os(t.j,t.m,i,null),sm(t,i);L0(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Je(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rm(e),e.M=!0,Je(11))):(os(t.j,t.m,n,"[Invalid Chunked Response]"),Gr(t),Go(t))}I.mb=function(){if(this.g){var t=cn(this.g),e=this.g.ja();this.o<e.length&&(Ml(this),V0(this,t,e),this.i&&t!=4&&oa(this))}};function aU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?rm:(n=Number(e.substring(n,r)),isNaN(n)?k0:(r+=1,r+n>e.length?rm:(e=e.slice(r,r+n),t.o=r+n,e)))}I.cancel=function(){this.J=!0,Gr(this)};function oa(t){t.Y=Date.now()+t.P,U0(t,t.P)}function U0(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ra(He(t.lb,t),e)}function Ml(t){t.C&&(x.clearTimeout(t.C),t.C=null)}I.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(iU(this.j,this.B),this.L!=2&&(Zo(),Je(17)),Gr(this),this.s=2,Go(this)):U0(this,this.Y-t)};function Go(t){t.l.H==0||t.J||aC(t.l,t)}function Gr(t){Ml(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,_m(t.V),S0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function sm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||om(n.i,t))){if(!t.K&&om(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)yl(n),Ol(n);else break e;Sm(n),Je(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ra(He(n.ib,n),6e3));if(1>=W0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wr(n,11)}else if((t.K||n.g==t)&&yl(n),!Wo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Tm(s,s.h),s.h=null))}if(r.F){let v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,de(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=lC(r,r.J?r.pa:null,r.Y),o.K){K0(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Ml(a),oa(a)),r.g=o}else sC(r);0<n.j.length&&kl(n)}else u[0]!="stop"&&u[0]!="close"||Wr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Wr(n,7):Am(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Zo(4)}catch{}}function cU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Il(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function uU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Il(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function j0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Il(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=uU(t),r=cU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var B0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Kr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Kr){this.h=t.h,gl(this,t.j),this.s=t.s,this.g=t.g,ml(this,t.m),this.l=t.l;var e=t.i,n=new Xo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),o0(this,n),this.o=t.o}else t&&(e=String(t).match(B0))?(this.h=!1,gl(this,e[1]||"",!0),this.s=qo(e[2]||""),this.g=qo(e[3]||"",!0),ml(this,e[4]),this.l=qo(e[5]||"",!0),o0(this,e[6]||"",!0),this.o=qo(e[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}Kr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zo(e,a0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zo(e,a0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(zo(n,n.charAt(0)=="/"?fU:hU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zo(n,gU)),t.join("")};function On(t){return new Kr(t)}function gl(t,e,n){t.j=n?qo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ml(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function o0(t,e,n){e instanceof Xo?(t.i=e,mU(t.i,t.h)):(n||(e=zo(e,pU)),t.i=new Xo(e,t.h))}function de(t,e,n){t.i.set(e,n)}function Nl(t){return de(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,dU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var a0=/[#\/\?@]/g,hU=/[#\?:]/g,fU=/[#\?]/g,pU=/[#\?@]/g,gU=/#/g;function Xo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function cr(t){t.g||(t.g=new Map,t.h=0,t.i&&lU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}I=Xo.prototype;I.add=function(t,e){cr(this),this.i=null,t=us(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $0(t,e){cr(t),e=us(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function H0(t,e){return cr(t),e=us(t,e),t.g.has(e)}I.forEach=function(t,e){cr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};I.ta=function(){cr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};I.Z=function(t){cr(this);let e=[];if(typeof t=="string")H0(this,t)&&(e=e.concat(this.g.get(us(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};I.set=function(t,e){return cr(this),this.i=null,t=us(this,t),H0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};I.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function q0(t,e,n){$0(t,e),0<n.length&&(t.i=null,t.g.set(us(t,e),lm(n)),t.h+=n.length)}I.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function us(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function mU(t,e){e&&!t.j&&(cr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($0(this,r),q0(this,i,n))},t)),t.j=e}var yU=class{constructor(t,e){this.g=t,this.map=e}};function z0(t){this.l=t||vU,x.PerformanceNavigationTiming?(t=x.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(x.g&&x.g.Ka&&x.g.Ka()&&x.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vU=10;function G0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function W0(t){return t.h?1:t.g?t.g.size:0}function om(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Tm(t,e){t.g?t.g.add(e):t.h=e}function K0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}z0.prototype.cancel=function(){if(this.i=Q0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Q0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return lm(t.i)}var _U=class{stringify(t){return x.JSON.stringify(t,void 0)}parse(t){return x.JSON.parse(t,void 0)}};function wU(){this.g=new _U}function IU(t,e,n){let r=n||"";try{j0(t,function(i,s){let o=i;ta(i)&&(o=ym(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function EU(t,e){let n=new bl;if(x.Image){let r=new Image;r.onload=cl(fl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cl(fl,n,r,"TestLoadImage: error",!1,e),r.onabort=cl(fl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cl(fl,n,r,"TestLoadImage: timeout",!1,e),x.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function fl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function aa(t){this.l=t.ec||null,this.j=t.ob||!1}Re(aa,Im);aa.prototype.g=function(){return new xl(this.l,this.j)};aa.prototype.i=function(t){return function(){return t}}({});function xl(t,e){Se.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Cm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Re(xl,Se);var Cm=0;I=xl.prototype;I.open=function(t,e){if(this.readyState!=Cm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ea(this)};I.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||x).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};I.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=Cm};I.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Y0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Y0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}I.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ca(this):ea(this),this.readyState==3&&Y0(this)}};I.Za=function(t){this.g&&(this.response=this.responseText=t,ca(this))};I.Ya=function(t){this.g&&(this.response=t,ca(this))};I.ka=function(){this.g&&ca(this)};function ca(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ea(t)}I.setRequestHeader=function(t,e){this.v.append(t,e)};I.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};I.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ea(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var DU=x.JSON.parse;function ge(t){Se.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=J0,this.L=this.M=!1}Re(ge,Se);var J0="",TU=/^https?$/i,CU=["POST","PUT"];I=ge.prototype;I.Oa=function(t){this.M=t};I.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nm.g(),this.C=this.u?s0(this.u):s0(nm),this.g.onreadystatechange=He(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){c0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=x.FormData&&t instanceof x.FormData,!(0<=f0(CU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{eC(this),0<this.B&&((this.L=bU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.ua,this)):this.A=wm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){c0(this,s)}};function bU(t){return cs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}I.ua=function(){typeof um<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fe(this,"timeout"),this.abort(8))};function c0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Z0(t),Pl(t)}function Z0(t){t.F||(t.F=!0,Fe(t,"complete"),Fe(t,"error"))}I.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Fe(this,"complete"),Fe(this,"abort"),Pl(this))};I.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pl(this,!0)),ge.$.N.call(this)};I.La=function(){this.s||(this.G||this.v||this.l?X0(this):this.kb())};I.kb=function(){X0(this)};function X0(t){if(t.h&&typeof um<"u"&&(!t.C[1]||cn(t)!=4||t.da()!=2)){if(t.v&&cn(t)==4)wm(t.La,0,t);else if(Fe(t,"readystatechange"),cn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(B0)[1]||null;!i&&x.self&&x.self.location&&(i=x.self.location.protocol.slice(0,-1)),r=!TU.test(i?i.toLowerCase():"")}n=r}if(n)Fe(t,"complete"),Fe(t,"success");else{t.m=6;try{var s=2<cn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Z0(t)}}finally{Pl(t)}}}}function Pl(t,e){if(t.g){eC(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Fe(t,"ready");try{n.onreadystatechange=r}catch{}}}function eC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(x.clearTimeout(t.A),t.A=null)}I.isActive=function(){return!!this.g};function cn(t){return t.g?t.g.readyState:0}I.da=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}};I.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};I.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),DU(e)}};function u0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case J0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function AU(t){let e={};t=(t.g&&2<=cn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Wo(t[r]))continue;var n=XV(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}QV(e,function(r){return r.join(", ")})}I.Ia=function(){return this.m};I.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function tC(t){let e="";return hm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function bm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):de(t,e,n))}function $o(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nC(t){this.Ga=0,this.j=[],this.l=new bl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$o("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$o("baseRetryDelayMs",5e3,t),this.hb=$o("retryDelaySeedMs",1e4,t),this.eb=$o("forwardChannelMaxRetries",2,t),this.xa=$o("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new z0(t&&t.concurrentRequestLimit),this.Ja=new wU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}I=nC.prototype;I.ra=8;I.H=1;function Am(t){if(rC(t),t.H==3){var e=t.W++,n=On(t.I);if(de(n,"SID",t.K),de(n,"RID",e),de(n,"TYPE","terminate"),ua(t,n),e=new sa(t,t.l,e),e.L=2,e.A=Nl(On(n)),n=!1,x.navigator&&x.navigator.sendBeacon)try{n=x.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&x.Image&&(new Image().src=e.A,n=!0),n||(e.g=dC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),oa(e)}uC(t)}function Ol(t){t.g&&(Rm(t),t.g.cancel(),t.g=null)}function rC(t){Ol(t),t.u&&(x.clearTimeout(t.u),t.u=null),yl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&x.clearTimeout(t.m),t.m=null)}function kl(t){if(!G0(t.i)&&!t.m){t.m=!0;var e=t.Na;Qo||C0(),Yo||(Qo(),Yo=!0),vm.add(e,t),t.C=0}}function SU(t,e){return W0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ra(He(t.Na,t,e),cC(t,t.C)),t.C++,!0)}I.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new sa(this,this.l,t),s=this.s;if(this.U&&(s?(s=y0(s),v0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=iC(this,i,e),n=On(this.I),de(n,"RID",t),de(n,"CVER",22),this.F&&de(n,"X-HTTP-Session-Id",this.F),ua(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(tC(s)))+"&"+e:this.o&&bm(n,this.o,s)),Tm(this.i,i),this.bb&&de(n,"TYPE","init"),this.P?(de(n,"$req",e),de(n,"SID","null"),i.aa=!0,im(i,n,null)):im(i,n,e),this.H=2}}else this.H==3&&(t?l0(this,t):this.j.length==0||G0(this.i)||l0(this))};function l0(t,e){var n;e?n=e.m:n=t.W++;let r=On(t.I);de(r,"SID",t.K),de(r,"RID",n),de(r,"AID",t.V),ua(t,r),t.o&&t.s&&bm(r,t.o,t.s),n=new sa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=iC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Tm(t.i,n),im(n,r,e)}function ua(t,e){t.na&&hm(t.na,function(n,r){de(e,r,n)}),t.h&&j0({},function(n,r){de(e,r,n)})}function iC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?He(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{IU(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function sC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Qo||C0(),Yo||(Qo(),Yo=!0),vm.add(e,t),t.A=0}}function Sm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ra(He(t.Ma,t),cC(t,t.A)),t.A++,!0)}I.Ma=function(){if(this.u=null,oC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ra(He(this.jb,this),t)}};I.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Je(10),Ol(this),oC(this))};function Rm(t){t.B!=null&&(x.clearTimeout(t.B),t.B=null)}function oC(t){t.g=new sa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=On(t.wa);de(e,"RID","rpc"),de(e,"SID",t.K),de(e,"AID",t.V),de(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&de(e,"TO",t.qa),de(e,"TYPE","xmlhttp"),ua(t,e),t.o&&t.s&&bm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Nl(On(e)),n.u=null,n.S=!0,F0(n,t)}I.ib=function(){this.v!=null&&(this.v=null,Ol(this),Sm(this),Je(19))};function yl(t){t.v!=null&&(x.clearTimeout(t.v),t.v=null)}function aC(t,e){var n=null;if(t.g==e){yl(t),Rm(t),t.g=null;var r=2}else if(om(t.i,e))n=e.F,K0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Al(),Fe(r,new N0(r,n)),kl(t)}else sC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&SU(t,e)||r==2&&Sm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wr(t,5);break;case 4:Wr(t,10);break;case 3:Wr(t,6);break;default:Wr(t,2)}}}function cC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=He(t.pb,t);n||(n=new Kr("//www.google.com/images/cleardot.gif"),x.location&&x.location.protocol=="http"||gl(n,"https"),Nl(n)),EU(n.toString(),r)}else Je(2);t.H=0,t.h&&t.h.za(e),uC(t),rC(t)}I.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Je(2)):(this.l.info("Failed to ping google.com"),Je(1))};function uC(t){if(t.H=0,t.ma=[],t.h){let e=Q0(t.i);(e.length!=0||t.j.length!=0)&&(t0(t.ma,e),t0(t.ma,t.j),t.i.i.length=0,lm(t.j),t.j.length=0),t.h.ya()}}function lC(t,e,n){var r=n instanceof Kr?On(n):new Kr(n);if(r.g!="")e&&(r.g=e+"."+r.g),ml(r,r.m);else{var i=x.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Kr(null);r&&gl(s,r),e&&(s.g=e),i&&ml(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&de(r,n,e),de(r,"VER",t.ra),ua(t,r),r}function dC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ge(new aa({ob:n})):new ge(t.va),e.Oa(t.J),e}I.isActive=function(){return!!this.h&&this.h.isActive(this)};function hC(){}I=hC.prototype;I.Ba=function(){};I.Aa=function(){};I.za=function(){};I.ya=function(){};I.isActive=function(){return!0};I.Va=function(){};function vl(){if(cs&&!(10<=Number(zV)))throw Error("Environmental error: no available transport.")}vl.prototype.g=function(t,e){return new pt(t,e)};function pt(t,e){Se.call(this),this.g=new nC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Wo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ls(this)}Re(pt,Se);pt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Je(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lC(t,null,t.Y),kl(t)};pt.prototype.close=function(){Am(this.g)};pt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ym(t),t=n);e.j.push(new yU(e.fb++,t)),e.H==3&&kl(e)};pt.prototype.N=function(){this.g.h=null,delete this.j,Am(this.g),delete this.g,pt.$.N.call(this)};function fC(t){Em.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Re(fC,Em);function pC(){Dm.call(this),this.status=1}Re(pC,Dm);function ls(t){this.g=t}Re(ls,hC);ls.prototype.Ba=function(){Fe(this.g,"a")};ls.prototype.Aa=function(t){Fe(this.g,new fC(t))};ls.prototype.za=function(t){Fe(this.g,new pC)};ls.prototype.ya=function(){Fe(this.g,"b")};function RU(){this.blockSize=-1}function zt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Re(zt,RU);zt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}zt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Gg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Gg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Gg(this,r),i=0;break}}this.h=i,this.i+=e};zt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function re(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var MU={};function Mm(t){return-128<=t&&128>t?$V(t,function(e){return new re([e|0],0>e?-1:0)}):new re([t|0],0>t?-1:0)}function un(t){if(isNaN(t)||!isFinite(t))return as;if(0>t)return ke(un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=am;return new re(e,0)}function gC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ke(gC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=un(Math.pow(e,8)),r=as,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=un(Math.pow(e,s)),r=r.R(s).add(un(o))):(r=r.R(n),r=r.add(un(o)))}return r}var am=4294967296,as=Mm(0),cm=Mm(1),d0=Mm(16777216);I=re.prototype;I.ea=function(){if(St(this))return-ke(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:am+r)*e,e*=am}return t};I.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Pn(this))return"0";if(St(this))return"-"+ke(this).toString(t);for(var e=un(Math.pow(t,6)),n=this,r="";;){var i=wl(n,e).g;n=_l(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Pn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};I.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Pn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function St(t){return t.h==-1}I.X=function(t){return t=_l(this,t),St(t)?-1:Pn(t)?0:1};function ke(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new re(n,~t.h).add(cm)}I.abs=function(){return St(this)?ke(this):this};I.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new re(n,n[n.length-1]&-2147483648?-1:0)};function _l(t,e){return t.add(ke(e))}I.R=function(t){if(Pn(this)||Pn(t))return as;if(St(this))return St(t)?ke(this).R(ke(t)):ke(ke(this).R(t));if(St(t))return ke(this.R(ke(t)));if(0>this.X(d0)&&0>t.X(d0))return un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,pl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,pl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,pl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,pl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new re(n,0)};function pl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ho(t,e){this.g=t,this.h=e}function wl(t,e){if(Pn(e))throw Error("division by zero");if(Pn(t))return new Ho(as,as);if(St(t))return e=wl(ke(t),e),new Ho(ke(e.g),ke(e.h));if(St(e))return e=wl(t,ke(e)),new Ho(ke(e.g),e.h);if(30<t.g.length){if(St(t)||St(e))throw Error("slowDivide_ only works with positive integers.");for(var n=cm,r=e;0>=r.X(t);)n=h0(n),r=h0(r);var i=ss(n,1),s=ss(r,1);for(r=ss(r,2),n=ss(n,2);!Pn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ss(r,1),n=ss(n,1)}return e=_l(t,i.R(e)),new Ho(i,e)}for(i=as;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=un(n),o=s.R(e);St(o)||0<o.X(t);)n-=r,s=un(n),o=s.R(e);Pn(s)&&(s=cm),i=i.add(s),t=_l(t,o)}return new Ho(i,t)}I.gb=function(t){return wl(this,t).h};I.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new re(n,this.h&t.h)};I.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new re(n,this.h|t.h)};I.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new re(n,this.h^t.h)};function h0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new re(n,t.h)}function ss(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new re(i,t.h)}vl.prototype.createWebChannel=vl.prototype.g;pt.prototype.send=pt.prototype.u;pt.prototype.open=pt.prototype.m;pt.prototype.close=pt.prototype.close;Sl.NO_ERROR=0;Sl.TIMEOUT=8;Sl.HTTP_ERROR=6;x0.COMPLETE="complete";P0.EventType=ia;ia.OPEN="a";ia.CLOSE="b";ia.ERROR="c";ia.MESSAGE="d";Se.prototype.listen=Se.prototype.O;ge.prototype.listenOnce=ge.prototype.P;ge.prototype.getLastError=ge.prototype.Sa;ge.prototype.getLastErrorCode=ge.prototype.Ia;ge.prototype.getStatus=ge.prototype.da;ge.prototype.getResponseJson=ge.prototype.Wa;ge.prototype.getResponseText=ge.prototype.ja;ge.prototype.send=ge.prototype.ha;ge.prototype.setWithCredentials=ge.prototype.Oa;zt.prototype.digest=zt.prototype.l;zt.prototype.reset=zt.prototype.reset;zt.prototype.update=zt.prototype.j;re.prototype.add=re.prototype.add;re.prototype.multiply=re.prototype.R;re.prototype.modulo=re.prototype.gb;re.prototype.compare=re.prototype.X;re.prototype.toNumber=re.prototype.ea;re.prototype.toString=re.prototype.toString;re.prototype.getBits=re.prototype.D;re.fromNumber=un;re.fromString=gC;var mC=Gt.createWebChannelTransport=function(){return new vl},yC=Gt.getStatEventTarget=function(){return Al()},Fl=Gt.ErrorCode=Sl,vC=Gt.EventType=x0,_C=Gt.Event=Qr,Nm=Gt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},l5=Gt.FetchXmlHttpFactory=aa,la=Gt.WebChannel=P0,wC=Gt.XhrIo=ge,IC=Gt.Md5=zt,Yr=Gt.Integer=re;var EC="@firebase/firestore";var Me=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Me.UNAUTHENTICATED=new Me(null),Me.GOOGLE_CREDENTIALS=new Me("google-credentials-uid"),Me.FIRST_PARTY=new Me("first-party-uid"),Me.MOCK_USER=new Me("mock-user");var Ns="10.11.0";var ni=new rr("@firebase/firestore");function da(){return ni.logLevel}function E(t,...e){if(ni.logLevel<=K.DEBUG){let n=e.map(yv);ni.debug(`Firestore (${Ns}): ${t}`,...n)}}function gn(t,...e){if(ni.logLevel<=K.ERROR){let n=e.map(yv);ni.error(`Firestore (${Ns}): ${t}`,...n)}}function ys(t,...e){if(ni.logLevel<=K.WARN){let n=e.map(yv);ni.warn(`Firestore (${Ns}): ${t}`,...n)}}function yv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function R(t="Unexpected state"){let e=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+t;throw gn(e),new Error(e)}function ue(t,e){t||R()}function k(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var dn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Bl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Fm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Me.UNAUTHENTICATED))}shutdown(){}},Lm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Vm=class{constructor(e){this.t=e,this.currentUser=Me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string"),new Bl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new Me(e)}},Um=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Me.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},jm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Um(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Me.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Bm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$m=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new Bm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function NU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var $l=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=NU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ee(t,e){return t<e?-1:t>e?1:0}function vs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Le=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var L=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Le(0,0))}static max(){return new t(new Le(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&R(),r===void 0?r=e.length-n:r>e.length-n&&R(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ye=class t extends Hl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new C(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},xU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mt=class t extends Hl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return xU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new C(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new C(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var A=class t{constructor(e){this.path=e}static fromPath(e){return new t(ye.fromString(e))}static fromName(e){return new t(ye.fromString(e).popFirst(5))}static empty(){return new t(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ye(e.slice()))}};var Hm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Hm.UNKNOWN_ID=-1;function PU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=L.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new ri(i,A.empty(),e)}function OU(t){return new ri(t.readTime,t.key,-1)}var ri=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(L.min(),A.empty(),-1)}static max(){return new t(L.max(),A.empty(),-1)}};function kU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=A.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}var FU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Sa(t){return p(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==FU)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var zm=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new dn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ti(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=vv(r.target.error);this.V.reject(new ti(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new ti(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Wm(n)}},ql=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S($e())===12.2&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return E("SimpleDb","Removing database:",e),Jr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!zu())return!1;if(t.C())return!0;let e=$e(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return p(this,null,function*(){return this.db||(E("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new ti(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new C(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(m.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ti(e,o))},i.onupgradeneeded=s=>{E("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{E("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return p(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=zm.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),y.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(E("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Gm=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Jr(this.k.delete())}},ti=class extends C{constructor(e,n){super(m.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Ra(t){return t.name==="IndexedDbTransactionError"}var Wm=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(E("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Jr(r)}add(e){return E("SimpleDb","ADD",this.store.name,e,e),Jr(this.store.add(e))}get(e){return Jr(this.store.get(e)).next(n=>(n===void 0&&(n=null),E("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return E("SimpleDb","DELETE",this.store.name,e),Jr(this.store.delete(e))}count(){return E("SimpleDb","COUNT",this.store.name),Jr(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new y((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new y((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){E("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new y((r,i)=>{n.onerror=s=>{let o=vv(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new y((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new Gm(a),u=n(a.primaryKey,a.value,c);if(u instanceof y){let l=u.catch(d=>(c.done(),y.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Jr(t){return new y((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=vv(r.target.error);n(i)}})}var DC=!1;function vv(t){let e=ql.S($e());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DC||(DC=!0,setTimeout(()=>{throw r},0)),r}}return t}var XC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function _d(t){return t==null}function ya(t){return t===0&&1/t==-1/0}function LU(t){return typeof t=="number"&&Number.isInteger(t)&&!ya(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var VU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],w5=[...VU,"documentOverlays"],UU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jU=UU,I5=[...jU,"indexConfiguration","indexState","indexEntries"];function TC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ci(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ve=class t{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ps(this.root,e,this.comparator,!0)}},ps=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},hn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();let e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}};hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(e,n,r,i,s){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ge=class t{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zl(this.data.getIterator())}getIteratorFrom(e){return new zl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},zl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Rt=class t{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ge(mt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Gl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ze=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ze.EMPTY_BYTE_STRING=new Ze("");var BU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fn(t){if(ue(!!t),typeof t=="string"){let e=0,n=BU.exec(t);if(ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(t.seconds),nanos:me(t.nanos)}}function me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dr(t){return typeof t=="string"?Ze.fromBase64String(t):Ze.fromUint8Array(t)}function _v(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wv(t){let e=t.mapValue.fields.__previous_value__;return _v(e)?wv(e):e}function va(t){let e=Fn(t.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}var Km=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Wl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ll={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_v(t)?4:tb(t)?9007199254740991:10:R()}function mn(t,e){if(t===e)return!0;let n=ii(t);if(n!==ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return va(t).isEqual(va(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Fn(i.timestampValue),a=Fn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return dr(i.bytesValue).isEqual(dr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return me(i.geoPointValue.latitude)===me(s.geoPointValue.latitude)&&me(i.geoPointValue.longitude)===me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return me(i.integerValue)===me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=me(i.doubleValue),a=me(s.doubleValue);return o===a?ya(o)===ya(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return vs(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(TC(o)!==TC(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!mn(o[c],a[c])))return!1;return!0}(t,e);default:return R()}}function _a(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function _s(t,e){if(t===e)return 0;let n=ii(t),r=ii(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=me(s.integerValue||s.doubleValue),c=me(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return CC(t.timestampValue,e.timestampValue);case 4:return CC(va(t),va(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(s,o){let a=dr(s),c=dr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ee(a[u],c[u]);if(l!==0)return l}return ee(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ee(me(s.latitude),me(o.latitude));return a!==0?a:ee(me(s.longitude),me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=_s(a[u],c[u]);if(l)return l}return ee(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ll.mapValue&&o===Ll.mapValue)return 0;if(s===Ll.mapValue)return 1;if(o===Ll.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ee(c[d],l[d]);if(h!==0)return h;let f=_s(a[c[d]],u[l[d]]);if(f!==0)return f}return ee(c.length,l.length)}(t.mapValue,e.mapValue);default:throw R()}}function CC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);let n=Fn(t),r=Fn(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function ws(t){return Qm(t)}function Qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Fn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return A.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Qm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Qm(n.fields[o])}`;return i+"}"}(t.mapValue):R()}function Ym(t){return!!t&&"integerValue"in t}function Iv(t){return!!t&&"arrayValue"in t}function bC(t){return!!t&&"nullValue"in t}function AC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ul(t){return!!t&&"mapValue"in t}function fa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ci(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ul(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fa(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fa(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Ul(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ul(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ci(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(fa(this.value))}};function nb(t){let e=[];return ci(t.fields,(n,r)=>{let i=new mt([n]);if(Ul(r)){let s=nb(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Rt(e)}var Wt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,L.min(),L.min(),L.min(),gt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,L.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,L.min(),L.min(),gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,L.min(),L.min(),gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(L.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=L.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Is=class{constructor(e,n){this.position=e,this.inclusive=n}};function SC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=A.comparator(A.fromName(o.referenceValue),n.key):r=_s(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function RC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}var Es=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function $U(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Kl=class{},be=class t extends Kl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Zm(e,n,r):n==="array-contains"?new ty(e,r):n==="in"?new ny(e,r):n==="not-in"?new ry(e,r):n==="array-contains-any"?new iy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Xm(e,r):new ey(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_s(n,this.value)):n!==null&&ii(this.value)===ii(n)&&this.matchesComparison(_s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return R()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},yn=class t extends Kl{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return rb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function rb(t){return t.op==="and"}function ib(t){return HU(t)&&rb(t)}function HU(t){for(let e of t.filters)if(e instanceof yn)return!1;return!0}function Jm(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+ws(t.value);if(ib(t))return t.filters.map(e=>Jm(e)).join(",");{let e=t.filters.map(n=>Jm(n)).join(",");return`${t.op}(${e})`}}function sb(t,e){return t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(t,e):t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&sb(o,i.filters[a]),!0):!1}(t,e):void R()}function ob(t){return t instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${ws(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(ob).join(" ,")+"}"}(t):"Filter"}var Zm=class extends be{constructor(e,n,r){super(e,n,r),this.key=A.fromName(r.referenceValue)}matches(e){let n=A.comparator(e.key,this.key);return this.matchesComparison(n)}},Xm=class extends be{constructor(e,n){super(e,"in",n),this.keys=ab("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ey=class extends be{constructor(e,n){super(e,"not-in",n),this.keys=ab("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ab(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>A.fromName(r.referenceValue))}var ty=class extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Iv(n)&&_a(n.arrayValue,this.value)}},ny=class extends be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&_a(this.value.arrayValue,n)}},ry=class extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(_a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!_a(this.value.arrayValue,n)}},iy=class extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_a(this.value.arrayValue,r))}};var sy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function MC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new sy(t,e,n,r,i,s,o)}function Ev(t){let e=k(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ws(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ws(r)).join(",")),e.ce=n}return e.ce}function Dv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$U(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RC(t.startAt,e.startAt)&&RC(t.endAt,e.endAt)}function oy(t){return A.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ds=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function qU(t,e,n,r,i,s,o,a){return new Ds(t,e,n,r,i,s,o,a)}function Tv(t){return new Ds(t)}function NC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zU(t){return t.collectionGroup!==null}function pa(t){let e=k(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ge(mt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Es(s,r))}),n.has(mt.keyField().canonicalString())||e.le.push(new Es(mt.keyField(),r))}return e.le}function fn(t){let e=k(t);return e.he||(e.he=GU(e,pa(t))),e.he}function GU(t,e){if(t.limitType==="F")return MC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Es(i.field,s)});let n=t.endAt?new Is(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Is(t.startAt.position,t.startAt.inclusive):null;return MC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ay(t,e,n){return new Ds(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wd(t,e){return Dv(fn(t),fn(e))&&t.limitType===e.limitType}function cb(t){return`${Ev(fn(t))}|lt:${t.limitType}`}function ds(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ob(i)).join(", ")}]`),_d(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ws(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ws(i)).join(",")),`Target(${r})`}(fn(t))}; limitType=${t.limitType})`}function Id(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):A.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of pa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=SC(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,pa(r),i)||r.endAt&&!function(o,a,c){let u=SC(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,pa(r),i))}(t,e)}function WU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ub(t){return(e,n)=>{let r=!1;for(let i of pa(t)){let s=KU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function KU(t,e,n){let r=t.field.isKeyField()?A.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?_s(c,u):R()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}var hr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ci(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return eb(this.inner)}size(){return this.innerSize}};var QU=new ve(A.comparator);function Ln(){return QU}var lb=new ve(A.comparator);function ha(...t){let e=lb;for(let n of t)e=e.insert(n.key,n);return e}function db(t){let e=lb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zr(){return ga()}function hb(){return ga()}function ga(){return new hr(t=>t.toString(),(t,e)=>t.isEqual(e))}var YU=new ve(A.comparator),JU=new Ge(A.comparator);function Q(...t){let e=JU;for(let n of t)e=e.add(n);return e}var ZU=new Ge(ee);function XU(){return ZU}function fb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ya(e)?"-0":e}}function pb(t){return{integerValue:""+t}}function ej(t,e){return LU(e)?pb(e):fb(t,e)}var Ts=class{constructor(){this._=void 0}};function tj(t,e,n){return t instanceof Cs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_v(s)&&(s=wv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof si?mb(t,e):t instanceof oi?yb(t,e):function(i,s){let o=gb(i,s),a=xC(o)+xC(i.Ie);return Ym(o)&&Ym(i.Ie)?pb(a):fb(i.serializer,a)}(t,e)}function nj(t,e,n){return t instanceof si?mb(t,e):t instanceof oi?yb(t,e):n}function gb(t,e){return t instanceof bs?function(r){return Ym(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Cs=class extends Ts{},si=class extends Ts{constructor(e){super(),this.elements=e}};function mb(t,e){let n=vb(e);for(let r of t.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}var oi=class extends Ts{constructor(e){super(),this.elements=e}};function yb(t,e){let n=vb(e);for(let r of t.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}var bs=class extends Ts{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function xC(t){return me(t.integerValue||t.doubleValue)}function vb(t){return Iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof si&&i instanceof si||r instanceof oi&&i instanceof oi?vs(r.elements,i.elements,mn):r instanceof bs&&i instanceof bs?mn(r.Ie,i.Ie):r instanceof Cs&&i instanceof Cs}(t.transform,e.transform)}var cy=class{constructor(e,n){this.version=e,this.transformResults=n}},kn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function jl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var As=class{};function _b(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wa(t.key,kn.none()):new ai(t.key,t.data,kn.none());{let n=t.data,r=gt.empty(),i=new Ge(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new vn(t.key,r,new Rt(i.toArray()),kn.none())}}function ij(t,e,n){t instanceof ai?function(i,s,o){let a=i.value.clone(),c=OC(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vn?function(i,s,o){if(!jl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=OC(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(wb(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ma(t,e,n,r){return t instanceof ai?function(s,o,a,c){if(!jl(s.precondition,o))return a;let u=s.value.clone(),l=kC(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof vn?function(s,o,a,c){if(!jl(s.precondition,o))return a;let u=kC(s.fieldTransforms,c,o),l=o.data;return l.setAll(wb(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return jl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function sj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=gb(r.transform,i||null);s!=null&&(n===null&&(n=gt.empty()),n.set(r.field,s))}return n||null}function PC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vs(r,i,(s,o)=>rj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ai=class extends As{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},vn=class extends As{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function wb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function OC(t,e,n){let r=new Map;ue(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nj(o,a,n[i]))}return r}function kC(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,tj(s,o,e))}return r}var wa=class extends As{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},uy=class extends As{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ly=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&ij(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=hb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=_b(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(L.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Q())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(n,r)=>PC(n,r))&&vs(this.baseMutations,e.baseMutations,(n,r)=>PC(n,r))}},dy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length);let i=function(){return YU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var hy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ee,J;function oj(t){switch(t){default:return R();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function Ib(t){if(t===void 0)return gn("GRPC error has no .code"),m.UNKNOWN;switch(t){case Ee.OK:return m.OK;case Ee.CANCELLED:return m.CANCELLED;case Ee.UNKNOWN:return m.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return m.INTERNAL;case Ee.UNAVAILABLE:return m.UNAVAILABLE;case Ee.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Ee.NOT_FOUND:return m.NOT_FOUND;case Ee.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Ee.ABORTED:return m.ABORTED;case Ee.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Ee.DATA_LOSS:return m.DATA_LOSS;default:return R()}}(J=Ee||(Ee={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";var FC=null;function aj(){return new TextEncoder}var cj=new Yr([4294967295,4294967295],0);function LC(t){let e=aj().encode(t),n=new IC;return n.update(e),new Uint8Array(n.digest())}function VC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yr([n,r],0),new Yr([i,s],0)]}var py=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xr(`Invalid padding: ${n}`);if(r<0)throw new Xr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Yr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Yr.fromNumber(r)));return i.compare(cj)===1&&(i=new Yr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=LC(e),[r,i]=VC(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=LC(e),[r,i]=VC(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Xr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ql=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(L.min(),i,new ve(ee),Ln(),Q())}},Ia=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Q(),Q(),Q())}};var gs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Yl=class{constructor(e,n){this.targetId=e,this.fe=n}},Jl=class{constructor(e,n,r=Ze.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Zl=class{constructor(){this.ge=0,this.pe=jC(),this.ye=Ze.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Q(),n=Q(),r=Q();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:R()}}),new Ia(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=jC()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ue(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},gy=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Ln(),this.Qe=UC(),this.Ke=new ve(ee)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:R()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(oy(s))if(r===0){let o=new A(s.path);this.We(n,o,Wt.newNoDocument(o,L.min()))}else ue(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}FC?.tt(function(l,d,h,f,g){var v,_,T,B,$,ce;let Ne={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},te=d.unchangedNames;return te&&(Ne.bloomFilter={applied:g===0,hashCount:(v=te?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(B=(T=(_=te?.bits)===null||_===void 0?void 0:_.bitmap)===null||T===void 0?void 0:T.length)!==null&&B!==void 0?B:0,padding:(ce=($=te?.bits)===null||$===void 0?void 0:$.padding)!==null&&ce!==void 0?ce:0,mightContain:Ve=>{var Kt;return(Kt=f?.mightContain(Ve))!==null&&Kt!==void 0&&Kt}}),Ne}(o,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=dr(r).toUint8Array()}catch(c){if(c instanceof Gl)return ys("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new py(o,i,s)}catch(c){return ys(c instanceof Xr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&oy(a.target)){let c=new A(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Wt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Q();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Ql(e,n,this.Ke,this.qe,r);return this.qe=Ln(),this.Qe=UC(),this.Ke=new ve(ee),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Zl,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ge(ee),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||E("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Zl),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function UC(){return new ve(A.comparator)}function jC(){return new ve(A.comparator)}var uj={asc:"ASCENDING",desc:"DESCENDING"},lj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dj={and:"AND",or:"OR"},my=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function yy(t,e){return t.useProto3Json||_d(e)?e:{value:e}}function Xl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hj(t,e){return Xl(t,e.toTimestamp())}function pn(t){return ue(!!t),L.fromTimestamp(function(n){let r=Fn(n);return new Le(r.seconds,r.nanos)}(t))}function Cv(t,e){return vy(t,e).canonicalString()}function vy(t,e){let n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Db(t){let e=ye.fromString(t);return ue(Sb(e)),e}function _y(t,e){return Cv(t.databaseId,e.path)}function xm(t,e){let n=Db(e);if(n.get(1)!==t.databaseId.projectId)throw new C(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new A(Cb(n))}function Tb(t,e){return Cv(t.databaseId,e)}function fj(t){let e=Db(t);return e.length===4?ye.emptyPath():Cb(e)}function wy(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cb(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function BC(t,e,n){return{name:_y(t,e),fields:n.value.mapValue.fields}}function pj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:R()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(ue(l===void 0||typeof l=="string"),Ze.fromBase64String(l||"")):(ue(l===void 0||l instanceof Buffer||l instanceof Uint8Array),Ze.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:Ib(u.code);return new C(l,u.message||"")}(o);n=new Jl(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=xm(t,r.document.name),s=pn(r.document.updateTime),o=r.document.createTime?pn(r.document.createTime):L.min(),a=new gt({mapValue:{fields:r.document.fields}}),c=Wt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new gs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=xm(t,r.document),s=r.readTime?pn(r.readTime):L.min(),o=Wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new gs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=xm(t,r.document),s=r.removedTargetIds||[];n=new gs([],s,i,null)}else{if(!("filter"in e))return R();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new fy(i,s),a=r.targetId;n=new Yl(a,o)}}return n}function gj(t,e){let n;if(e instanceof ai)n={update:BC(t,e.key,e.value)};else if(e instanceof wa)n={delete:_y(t,e.key)};else if(e instanceof vn)n={update:BC(t,e.key,e.data),updateMask:Tj(e.fieldMask)};else{if(!(e instanceof uy))return R();n={verify:_y(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Cs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof si)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof oi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bs)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw R()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:hj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:R()}(t,e.precondition)),n}function mj(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?pn(i.updateTime):pn(s);return o.isEqual(L.min())&&(o=pn(s)),new cy(o,i.transformResults||[])}(n,e))):[]}function yj(t,e){return{documents:[Tb(t,e.path)]}}function vj(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Tb(t,i);let s=function(u){if(u.length!==0)return Ab(yn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:hs(h.field),direction:Ij(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=yy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function _j(t){let e=fj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ue(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=bb(d);return h instanceof yn&&ib(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Es(fs(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,_d(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Is(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Is(f,h)}(n.endAt)),qU(e,i,o,s,a,"F",c,u)}function wj(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return R()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=fs(n.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fs(n.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=fs(n.unaryFilter.field);return be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=fs(n.unaryFilter.field);return be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return R()}}(t):t.fieldFilter!==void 0?function(n){return be.create(fs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(r=>bb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return R()}}(n.compositeFilter.op))}(t):R()}function Ij(t){return uj[t]}function Ej(t){return lj[t]}function Dj(t){return dj[t]}function hs(t){return{fieldPath:t.canonicalString()}}function fs(t){return mt.fromServerFormat(t.fieldPath)}function Ab(t){return t instanceof be?function(n){if(n.op==="=="){if(AC(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NAN"}};if(bC(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AC(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NAN"}};if(bC(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(n.field),op:Ej(n.op),value:n.value}}}(t):t instanceof yn?function(n){let r=n.getFilters().map(i=>Ab(i));return r.length===1?r[0]:{compositeFilter:{op:Dj(n.op),filters:r}}}(t):R()}function Tj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Sb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ea=class t{constructor(e,n,r,i,s=L.min(),o=L.min(),a=Ze.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Iy=class{constructor(e){this.ct=e}};function Cj(t){let e=_j({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ay(e,e.limit,"L"):e}var ed=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(me(e.integerValue));else if("doubleValue"in e){let r=me(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),ya(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Fn(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(dr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?tb(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):R()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),A.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};ed.bt=new ed;var Ey=class{constructor(){this._n=new Dy}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(ri.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},Dy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(ye.comparator)).toArray()}};var D5=new Uint8Array(0);var ln=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var Da=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Ty=class{constructor(){this.changes=new hr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Cy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var by=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ma(r.mutation,i,Rt.empty(),Le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Q()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Q()){let i=Zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ha();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Q()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ln(),o=ga(),a=function(){return ga()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof vn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),ma(l.mutation,u,l.mutation.getFieldMask(),Le.now())):o.set(u.key,Rt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Cy(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ga(),i=new ve((o,a)=>o-a),s=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Rt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Q()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=hb();l.forEach(h=>{if(!s.has(h)){let f=_b(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return A.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Zr()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Q())).next(l=>({batchId:a,changes:db(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new A(n)).next(r=>{let i=ha();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ha();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new Ds(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Wt.newInvalidDocument(l)))});let a=ha();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&ma(l.mutation,u,Rt.empty(),Le.now()),Id(n,u)&&(a=a.insert(c,u))}),a})}};var Ay=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pn(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Cj(i.bundledQuery),readTime:pn(i.readTime)}}(n)),y.resolve()}};var Sy=class{constructor(){this.overlays=new ve(A.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Zr();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Zr(),s=n.length+1,o=new A(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ve((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Zr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Zr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hy(n,r));let s=this.hr.get(n);s===void 0&&(s=Q(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Ta=class{constructor(){this.Pr=new Ge(De.Ir),this.Tr=new Ge(De.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new De(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new De(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new A(new ye([])),r=new De(n,e),i=new De(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new A(new ye([])),r=new De(n,e),i=new De(n,e+1),s=Q();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new De(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},De=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return A.comparator(e.key,n.key)||ee(e.pr,n.pr)}static Er(e,n){return ee(e.pr,n.pr)||A.comparator(e.key,n.key)}};var Ry=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ge(De.Ir)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ly(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new De(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new De(n,0),i=new De(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(ee);return n.forEach(i=>{let s=new De(i,0),o=new De(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;A.isDocumentKey(s)||(s=s.child(""));let o=new De(new A(s),0),a=new Ge(ee);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),y.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return y.forEach(n.mutations,i=>{let s=new De(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new De(n,0),i=this.wr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var My=class{constructor(e){this.vr=e,this.docs=function(){return new ve(A.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ln(),o=n.path,a=new A(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kU(OU(l),r)<=0||(i.has(l.key)||Id(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){R()}Fr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ny(this)}getSize(e){return y.resolve(this.size)}},Ny=class extends Ty{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var xy=class{constructor(e){this.persistence=e,this.Mr=new hr(n=>Ev(n),Dv),this.lastRemoteSnapshotVersion=L.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ta,this.targetCount=0,this.Lr=Da.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Da(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}};var Py=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new XC(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new xy(this),this.indexManager=new Ey,this.remoteDocumentCache=function(i){return new My(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Iy(n),this.$r=new Ay(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Ry(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new Oy(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Oy=class extends qm{constructor(e){super(),this.currentSequenceNumber=e}},ky=class t{constructor(e){this.persistence=e,this.zr=new Ta,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw R()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,r=>{let i=A.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,L.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Fy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Q(),i=Q();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Ly=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Vy=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return vT()?8:ql.v($e())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Ly;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(da()<=K.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(da()<=K.DEBUG&&E("QueryEngine","Query:",ds(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(da()<=K.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(n))):y.resolve())}ji(e,n){if(NC(n))return y.resolve(null);let r=fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ay(n,null,"F"),r=fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Q(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,ay(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return NC(n)||i.isEqual(L.min())?y.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?y.resolve(null):(da()<=K.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ds(n)),this.es(e,o,n,PU(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ge(ub(e));return n.forEach((i,s)=>{Id(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return da()<=K.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",ds(n)),this.zi.getDocumentsMatchingQuery(e,n,ri.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Uy=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ve(ee),this.rs=new hr(s=>Ev(s),Dv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new by(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function bj(t,e,n,r){return new Uy(t,e,n,r)}function Rb(t,e){return p(this,null,function*(){let n=k(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Q();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function Aj(t,e){let n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=y.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(c,g)).next(v=>{let _=u.docVersions.get(g);ue(_!==null),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),l.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Q();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Mb(t){let e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Sj(t,e){let n=k(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Ze.EMPTY_BYTE_STRING,L.min()).withLastLimboFreeSnapshotVersion(L.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(v,_,T){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=Ln(),u=Q();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(Rj(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(L.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function Rj(t,e,n){let r=Q(),i=Q();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ln();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(L.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):E("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function Mj(t,e){let n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nj(t,e){let n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ea(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function jy(t,e,n){return p(this,null,function*(){let r=k(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ra(o))throw o;E("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function $C(t,e,n){let r=k(t),i=L.min(),s=Q();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=k(c),h=d.rs.get(l);return h!==void 0?y.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:L.min(),n?s:Q())).next(a=>(xj(r,WU(e),a),{documents:a,hs:s})))}function xj(t,e,n){let r=t.ss.get(e)||L.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var td=class{constructor(){this.activeTargetIds=XU()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var By=class{constructor(){this.no=new td,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new td,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var $y=class{io(e){}shutdown(){}};var nd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Vl=null;function Pm(){return Vl===null?Vl=function(){return 268435456+Math.round(2147483648*Math.random())}():Vl++,"0x"+Vl.toString(16)}var Pj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Hy=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var ze="WebChannelConnection",qy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Pm(),c=this.bo(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ys("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=Pj[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Pm();return new Promise((o,a)=>{let c=new wC;c.setWithCredentials(!0),c.listenOnce(vC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Fl.NO_ERROR:let l=c.getResponseJson();E(ze,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Fl.TIMEOUT:E(ze,`RPC '${e}' ${s} timed out`),a(new C(m.DEADLINE_EXCEEDED,"Request time out"));break;case Fl.HTTP_ERROR:let d=c.getStatus();if(E(ze,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(_){let T=_.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(T)>=0?T:m.UNKNOWN}(f.status);a(new C(g,f.message))}else a(new C(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(m.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{E(ze,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(ze,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Pm(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mC(),a=yC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(ze,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new Hy({lo:_=>{f?E(ze,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(E(ze,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),E(ze,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),v=(_,T,B)=>{_.listen(T,$=>{try{B($)}catch(ce){setTimeout(()=>{throw ce},0)}})};return v(d,la.EventType.OPEN,()=>{f||E(ze,`RPC '${e}' stream ${i} transport opened.`)}),v(d,la.EventType.CLOSE,()=>{f||(f=!0,E(ze,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),v(d,la.EventType.ERROR,_=>{f||(f=!0,ys(ze,`RPC '${e}' stream ${i} transport errored:`,_),g.Vo(new C(m.UNAVAILABLE,"The operation could not be completed")))}),v(d,la.EventType.MESSAGE,_=>{var T;if(!f){let B=_.data[0];ue(!!B);let $=B,ce=$.error||((T=$[0])===null||T===void 0?void 0:T.error);if(ce){E(ze,`RPC '${e}' stream ${i} received error:`,ce);let Ne=ce.status,te=function(gr){let di=Ee[gr];if(di!==void 0)return Ib(di)}(Ne),Ve=ce.message;te===void 0&&(te=m.INTERNAL,Ve="Unknown error status: "+Ne+" with message "+ce.message),f=!0,g.Vo(new C(te,Ve)),d.close()}else E(ze,`RPC '${e}' stream ${i} received:`,B),g.mo(B)}}),v(a,_C.STAT_EVENT,_=>{_.stat===Nm.PROXY?E(ze,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Nm.NOPROXY&&E(ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}};function Om(){return typeof document<"u"?document:null}function Ed(t){return new my(t,!0)}var rd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var id=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new rd(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return p(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return p(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return p(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new C(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>p(this,null,function*(){this.state=0,this.start()}))}__(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},zy=class extends id{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=pj(this.serializer,e),r=function(s){if(!("targetChange"in s))return L.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?L.min():o.readTime?pn(o.readTime):L.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=wy(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=oy(c)?{documents:yj(s,c)}:{query:vj(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Eb(s,o.resumeToken);let u=yy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(L.min())>0){a.readTime=Xl(s,o.snapshotVersion.toTimestamp());let u=yy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=wj(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=wy(this.serializer),n.removeTarget=e,this.t_(n)}},Gy=class extends id{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=mj(e.writeResults,e.commitTime),r=pn(e.commitTime);return this.listener.T_(r,n)}return ue(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=wy(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>gj(this.serializer,r))};this.t_(n)}};var Wy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new C(m.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,vy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(m.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,vy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(m.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Ky=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(gn(n),this.g_=!1):E("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Qy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>p(this,null,function*(){ui(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=k(c);u.v_.add(4),yield Ma(u),u.x_.set("Unknown"),u.v_.delete(4),yield Dd(u)})}(this))}))}),this.x_=new Ky(r,i)}};function Dd(t){return p(this,null,function*(){if(ui(t))for(let e of t.F_)yield e(!0)})}function Ma(t){return p(this,null,function*(){for(let e of t.F_)yield e(!1)})}function Nb(t,e){let n=k(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Rv(n)?Sv(n):xs(n).Jo()&&Av(n,e))}function bv(t,e){let n=k(t),r=xs(n);n.C_.delete(e),r.Jo()&&xb(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ui(n)&&n.x_.set("Unknown"))}function Av(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(L.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xs(t).c_(e)}function xb(t,e){t.O_.Oe(e),xs(t).l_(e)}function Sv(t){t.O_=new gy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),xs(t).start(),t.x_.p_()}function Rv(t){return ui(t)&&!xs(t).Ho()&&t.C_.size>0}function ui(t){return k(t).v_.size===0}function Pb(t){t.O_=void 0}function Oj(t){return p(this,null,function*(){t.C_.forEach((e,n)=>{Av(t,e)})})}function kj(t,e){return p(this,null,function*(){Pb(t),Rv(t)?(t.x_.S_(e),Sv(t)):t.x_.set("Unknown")})}function Fj(t,e,n){return p(this,null,function*(){if(t.x_.set("Online"),e instanceof Jl&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){E("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sd(t,r)}else if(e instanceof gs?t.O_.$e(e):e instanceof Yl?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(L.min()))try{let r=yield Mb(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(Ze.EMPTY_BYTE_STRING,l.snapshotVersion)),xb(s,c);let d=new Ea(l.target,c,u,l.sequenceNumber);Av(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){E("RemoteStore","Failed to raise snapshot:",r),yield sd(t,r)}})}function sd(t,e,n){return p(this,null,function*(){if(!Ra(e))throw e;t.v_.add(1),yield Ma(t),t.x_.set("Offline"),n||(n=()=>Mb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Dd(t)}))})}function Ob(t,e){return e().catch(n=>sd(t,n,e))}function Td(t){return p(this,null,function*(){let e=k(t),n=fr(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Lj(e);)try{let i=yield Mj(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Vj(e,i)}catch(i){yield sd(e,i)}kb(e)&&Fb(e)})}function Lj(t){return ui(t)&&t.D_.length<10}function Vj(t,e){t.D_.push(e);let n=fr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function kb(t){return ui(t)&&!fr(t).Ho()&&t.D_.length>0}function Fb(t){fr(t).start()}function Uj(t){return p(this,null,function*(){fr(t).d_()})}function jj(t){return p(this,null,function*(){let e=fr(t);for(let n of t.D_)e.I_(n.mutations)})}function Bj(t,e,n){return p(this,null,function*(){let r=t.D_.shift(),i=dy.from(r,e,n);yield Ob(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Td(t)})}function $j(t,e){return p(this,null,function*(){e&&fr(t).P_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return oj(o)&&o!==m.ABORTED}(i.code)){let s=r.D_.shift();fr(r).Zo(),yield Ob(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Td(r)}})}(t,e)),kb(t)&&Fb(t)})}function HC(t,e){return p(this,null,function*(){let n=k(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=ui(n);n.v_.add(3),yield Ma(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Dd(n)})}function Hj(t,e){return p(this,null,function*(){let n=k(t);e?(n.v_.delete(2),yield Dd(n)):e||(n.v_.add(2),yield Ma(n),n.x_.set("Unknown"))})}function xs(t){return t.N_||(t.N_=function(n,r,i){let s=k(n);return s.R_(),new zy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Oj.bind(null,t),To:kj.bind(null,t),u_:Fj.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.N_.Zo(),Rv(t)?Sv(t):t.x_.set("Unknown")):(yield t.N_.stop(),Pb(t))}))),t.N_}function fr(t){return t.L_||(t.L_=function(n,r,i){let s=k(n);return s.R_(),new Gy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Uj.bind(null,t),To:$j.bind(null,t),E_:jj.bind(null,t),T_:Bj.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.L_.Zo(),yield Td(t)):(yield t.L_.stop(),t.D_.length>0&&(E("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var Yy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Mv(t,e){if(gn("AsyncQueue",`${e}: ${t}`),Ra(t))return new C(m.UNAVAILABLE,`${e}: ${t}`);throw t}var od=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||A.comparator(n.key,r.key):(n,r)=>A.comparator(n.key,r.key),this.keyedMap=ha(),this.sortedSet=new ve(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ad=class{constructor(){this.B_=new ve(A.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):R():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ss=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,od.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Jy=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},Zy=class{constructor(){this.queries=new hr(e=>cb(e),wd),this.onlineState="Unknown",this.W_=new Set}};function qj(t,e){return p(this,null,function*(){let n=k(t),r=3,i=e.query,s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new Jy,r=e.U_()?0:1);try{switch(r){case 0:s.q_=yield n.onListen(i,!0);break;case 1:s.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=Mv(o,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&Nv(n)})}function zj(t,e){return p(this,null,function*(){let n=k(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Gj(t,e){let n=k(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&Nv(n)}function Wj(t,e,n){let r=k(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function Nv(t){t.W_.forEach(e=>{e.next()})}var Xy,qC;(qC=Xy||(Xy={})).j_="default",qC.Cache="cache";var ev=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ss(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Xy.Cache}};var cd=class{constructor(e){this.key=e}},ud=class{constructor(e){this.key=e}},tv=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Q(),this.mutatedKeys=Q(),this.ha=ub(e),this.Pa=new od(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new ad,i=n?n.Pa:this.Pa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=Id(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),_=!1;h&&f?h.data.isEqual(f.data)?g!==v&&(r.track({type:3,doc:f}),_=!0):this.da(h,f)||(r.track({type:2,doc:f}),_=!0,(c&&this.ha(f,c)>0||u&&this.ha(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(c||u)&&(a=!0)),_&&(f?(o=o.add(f),s=v?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let o=e.Ea.k_();o.sort((l,d)=>function(f,g){let v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return v(f)-v(g)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,u=c!==this.ca;return this.ca=c,o.length!==0||u?{snapshot:new Ss(this.query,e.Pa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new ad,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=Q(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new ud(r))}),this.la.forEach(r=>{e.has(r)||n.push(new cd(r))}),n}fa(e){this.ua=e.hs,this.la=Q();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Ss.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},nv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},rv=class{constructor(e){this.key=e,this.pa=!1}},iv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new hr(a=>cb(a),wd),this.Sa=new Map,this.ba=new Set,this.Da=new ve(A.comparator),this.Ca=new Map,this.va=new Ta,this.Fa={},this.Ma=new Map,this.xa=Da.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function Kj(t,e,n=!0){return p(this,null,function*(){let r=$b(t),i,s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=yield Lb(r,e,n,!0),i})}function Qj(t,e){return p(this,null,function*(){let n=$b(t);yield Lb(n,e,!0,!1)})}function Lb(t,e,n,r){return p(this,null,function*(){let i=yield Nj(t.localStore,fn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield Yj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Nb(t.remoteStore,i),a})}function Yj(t,e,n,r,i){return p(this,null,function*(){t.Na=(d,h,f)=>function(v,_,T,B){return p(this,null,function*(){let $=_.view.Ta(T);$.Xi&&($=yield $C(v.localStore,_.query,!1).then(({documents:Ve})=>_.view.Ta(Ve,$)));let ce=B&&B.targetChanges.get(_.targetId),Ne=B&&B.targetMismatches.get(_.targetId)!=null,te=_.view.applyChanges($,v.isPrimaryClient,ce,Ne);return GC(v,_.targetId,te.Va),te.snapshot})}(t,d,h,f);let s=yield $C(t.localStore,e,!0),o=new tv(e,s.hs),a=o.Ta(s.documents),c=Ia.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);GC(t,n,u.Va);let l=new nv(e,n,o);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot})}function Jj(t,e,n){return p(this,null,function*(){let r=k(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!wd(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield jy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bv(r.remoteStore,i.targetId),sv(r,i.targetId)}).catch(Sa))):(sv(r,i.targetId),yield jy(r.localStore,i.targetId,!0))})}function Zj(t,e){return p(this,null,function*(){let n=k(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bv(n.remoteStore,r.targetId))})}function Xj(t,e,n){return p(this,null,function*(){let r=o2(t);try{let i=yield function(o,a){let c=k(o),u=Le.now(),l=a.reduce((f,g)=>f.add(g.key),Q()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Ln(),v=Q();return c.os.getEntries(f,l).next(_=>{g=_,g.forEach((T,B)=>{B.isValidDocument()||(v=v.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(_=>{d=_;let T=[];for(let B of a){let $=sj(B,d.get(B.key).overlayedDocument);$!=null&&T.push(new vn(B.key,$,nb($.value.mapValue),kn.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,T,a)}).next(_=>{h=_;let T=_.applyToLocalDocumentSet(d,v);return c.documentOverlayCache.saveOverlays(f,_.batchId,T)})}).then(()=>({batchId:h.batchId,changes:db(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Fa[o.currentUser.toKey()];u||(u=new ve(ee)),u=u.insert(a,c),o.Fa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Na(r,i.changes),yield Td(r.remoteStore)}catch(i){let s=Mv(i,"Failed to persist write");n.reject(s)}})}function Vb(t,e){return p(this,null,function*(){let n=k(t);try{let r=yield Sj(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Ca.get(s);o&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?ue(o.pa):i.removedDocuments.size>0&&(ue(o.pa),o.pa=!1))}),yield Na(n,r,e)}catch(r){yield Sa(r)}})}function zC(t,e,n){let r=k(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((s,o)=>{let a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=k(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(u=!0)}),u&&Nv(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function e2(t,e,n){return p(this,null,function*(){let r=k(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),s=i&&i.key;if(s){let o=new ve(A.comparator);o=o.insert(s,Wt.newNoDocument(s,L.min()));let a=Q().add(s),c=new Ql(L.min(),new Map,new ve(ee),o,a);yield Vb(r,c),r.Da=r.Da.remove(s),r.Ca.delete(e),xv(r)}else yield jy(r.localStore,e,!1).then(()=>sv(r,e,n)).catch(Sa)})}function t2(t,e){return p(this,null,function*(){let n=k(t),r=e.batch.batchId;try{let i=yield Aj(n.localStore,e);jb(n,r,null),Ub(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Na(n,i)}catch(i){yield Sa(i)}})}function n2(t,e,n){return p(this,null,function*(){let r=k(t);try{let i=yield function(o,a){let c=k(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(ue(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);jb(r,e,n),Ub(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Na(r,i)}catch(i){yield Sa(i)}})}function Ub(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function jb(t,e,n){let r=k(t),i=r.Fa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function sv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||Bb(t,r)})}function Bb(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(bv(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),xv(t))}function GC(t,e,n){for(let r of n)r instanceof cd?(t.va.addReference(r.key,e),r2(t,r)):r instanceof ud?(E("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||Bb(t,r.key)):R()}function r2(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(E("SyncEngine","New document in limbo: "+n),t.ba.add(r),xv(t))}function xv(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new A(ye.fromString(e)),r=t.xa.next();t.Ca.set(r,new rv(n)),t.Da=t.Da.insert(n,r),Nb(t.remoteStore,new Ea(fn(Tv(n.path)),r,"TargetPurposeLimboResolution",XC._e))}}function Na(t,e,n){return p(this,null,function*(){let r=k(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{o.push(r.Na(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Fy.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.ya.u_(i),yield function(c,u){return p(this,null,function*(){let l=k(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>y.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ra(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);l.ns=l.ns.insert(h,v)}}})}(r.localStore,s))})}function i2(t,e){return p(this,null,function*(){let n=k(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield Rb(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(c=>{c.reject(new C(m.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Na(n,r.us)}})}function s2(t,e){let n=k(t),r=n.Ca.get(e);if(r&&r.pa)return Q().add(r.key);{let i=Q(),s=n.Sa.get(e);if(!s)return i;for(let o of s){let a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function $b(t){let e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e2.bind(null,e),e.ya.u_=Gj.bind(null,e.eventManager),e.ya.La=Wj.bind(null,e.eventManager),e}function o2(t){let e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n2.bind(null,e),e}var ld=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return bj(this.persistence,new Vy,e.initialUser,this.serializer)}createPersistence(e){return new Py(ky.Hr,this.serializer)}createSharedClientState(e){return new By}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var ov=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=i2.bind(null,this.syncEngine),yield Hj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Zy}()}createDatastore(e){let n=Ed(e.databaseInfo.databaseId),r=function(s){return new qy(s)}(e.databaseInfo);return function(s,o,a,c){return new Wy(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Qy(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zC(this.syncEngine,n,0),function(){return nd.D()?new nd:new $y}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new iv(i,s,o,a,c,u);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(r){return p(this,null,function*(){let i=k(r);E("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Ma(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var av=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var cv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Me.UNAUTHENTICATED,this.clientId=$l.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Mv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function km(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield Rb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function WC(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield c2(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>HC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>HC(e.remoteStore,i)),t._onlineComponents=e})}function a2(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function c2(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield km(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!a2(n))throw n;ys("Error using user provided cache. Falling back to memory cache: "+n),yield km(t,new ld)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield km(t,new ld);return t._offlineComponents})}function Hb(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield WC(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield WC(t,new ov))),t._onlineComponents})}function u2(t){return Hb(t).then(e=>e.syncEngine)}function KC(t){return p(this,null,function*(){let e=yield Hb(t),n=e.eventManager;return n.onListen=Kj.bind(null,e.syncEngine),n.onUnlisten=Jj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Qj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Zj.bind(null,e.syncEngine),n})}function qb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var QC=new Map;function zb(t,e,n){if(!n)throw new C(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function l2(t,e,n,r){if(e===!0&&r===!0)throw new C(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YC(t){if(!A.isDocumentKey(t))throw new C(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JC(t){if(A.isDocumentKey(t))throw new C(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":R()}function ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Pv(t);throw new C(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var dd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Rs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Fm;switch(r.type){case"firstParty":return new jm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=QC.get(n);r&&(E("ComponentProvider","Removing Datastore"),QC.delete(n),r.terminate())}(this),Promise.resolve()}};function Gb(t,e,n,r={}){var i;let s=(t=ur(t,Rs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Me.MOCK_USER;else{a=pT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Me(u)}t._authCredentials=new Lm(new Bl(a,c))}}var hd=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},yt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},lr=class t extends hd{constructor(e,n,r){super(e,n,Tv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new A(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Wb(t,e,...n){if(t=Ye(t),zb("collection","path",e),t instanceof Rs){let r=ye.fromString(e,...n);return JC(r),new lr(t,null,r)}{if(!(t instanceof yt||t instanceof lr))throw new C(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return JC(r),new lr(t.firestore,null,r)}}function Ov(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=$l.newId()),zb("doc","path",e),t instanceof Rs){let r=ye.fromString(e,...n);return YC(r),new yt(t,null,new A(r))}{if(!(t instanceof yt||t instanceof lr))throw new C(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return YC(r),new yt(t.firestore,t instanceof lr?t.converter:null,new A(r))}}var uv=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new rd(this,"async_queue_retry"),this.cu=()=>{let n=Om();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Om();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new dn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return p(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Ra(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw gn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=Yy.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&R()}verifyOperationInProgress(){}Tu(){return p(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};function ZC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var pr=class extends Rs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new uv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yb(this),this._firestoreClient.terminate()}};function Kb(t,e){let n=typeof t=="object"?t:xo(),r=typeof t=="string"?t:e||"(default)",i=Dg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=hT("firestore");s&&Gb(i,...s)}return i}function Qb(t){return t._firestoreClient||Yb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Yb(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Km(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,qb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new cv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ca=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ze.fromBase64String(e))}catch(n){throw new C(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ms=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ba=class{constructor(e){this._methodName=e}};var Aa=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}};var d2=/^__.*__$/,lv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ai(e,this.data,n,this.fieldTransforms)}},fd=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Jb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}var dv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return gd(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(Jb(this.Vu)&&d2.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},hv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ed(e)}Cu(e,n,r,i=!1){return new dv({Vu:e,methodName:n,Du:r,path:mt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Zb(t){let e=t._freezeSettings(),n=Ed(t._databaseId);return new hv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h2(t,e,n,r,i,s={}){let o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);kv("Data must be an object, but it was:",o,r);let a=Xb(r,o),c,u;if(s.merge)c=new Rt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=fv(e,d,n);if(!o.contains(h))throw new C(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tA(l,h)||l.push(h)}c=new Rt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new lv(new gt(a),c,u)}var pd=class t extends ba{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function f2(t,e,n,r){let i=t.Cu(1,e,n);kv("Data must be an object, but it was:",i,r);let s=[],o=gt.empty();ci(r,(c,u)=>{let l=Fv(e,c,n);u=Ye(u);let d=i.yu(l);if(u instanceof pd)s.push(l);else{let h=Cd(u,d);h!=null&&(s.push(l),o.set(l,h))}});let a=new Rt(s);return new fd(o,a,i.fieldTransforms)}function p2(t,e,n,r,i,s){let o=t.Cu(1,e,n),a=[fv(e,r,n)],c=[i];if(s.length%2!=0)throw new C(m.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(fv(e,s[h])),c.push(s[h+1]);let u=[],l=gt.empty();for(let h=a.length-1;h>=0;--h)if(!tA(u,a[h])){let f=a[h],g=c[h];g=Ye(g);let v=o.yu(f);if(g instanceof pd)u.push(f);else{let _=Cd(g,v);_!=null&&(u.push(f),l.set(f,_))}}let d=new Rt(u);return new fd(l,d,o.fieldTransforms)}function Cd(t,e){if(eA(t=Ye(t)))return kv("Unsupported field value:",e,t),Xb(t,e);if(t instanceof ba)return function(r,i){if(!Jb(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Cd(a,i.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ej(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Le.fromDate(r);return{timestampValue:Xl(i.serializer,s)}}if(r instanceof Le){let s=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xl(i.serializer,s)}}if(r instanceof Aa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ca)return{bytesValue:Eb(i.serializer,r._byteString)};if(r instanceof yt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Cv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Pv(r)}`)}(t,e)}function Xb(t,e){let n={};return eb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ci(t,(r,i)=>{let s=Cd(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function eA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof Aa||t instanceof Ca||t instanceof yt||t instanceof ba)}function kv(t,e,n){if(!eA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Pv(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function fv(t,e,n){if((e=Ye(e))instanceof Ms)return e._internalPath;if(typeof e=="string")return Fv(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}var g2=new RegExp("[~\\*/\\[\\]]");function Fv(t,e,n){if(e.search(g2)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ms(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(m.INVALID_ARGUMENT,a+t+c)}function tA(t,e){return t.some(n=>n.isEqual(e))}var md=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new pv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(nA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},pv=class extends md{data(){return super.data()}};function nA(t,e){return typeof e=="string"?Fv(t,e):e instanceof Ms?e._internalPath:e._delegate._internalPath}function m2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gv=class{convertValue(e,n="none"){switch(ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw R()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ci(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Aa(me(e.latitude),me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=wv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){let n=Fn(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ye.fromString(e);ue(Sb(r));let i=new Wl(r.get(1),r.get(3)),s=new A(r.popFirst(5));return i.isEqual(n)||gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function y2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ei=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},yd=class extends md{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ms(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(nA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ms=class extends yd{data(e={}){return super.data(e)}},mv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ei(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ms(this._firestore,this._userDataWriter,r.key,r,new ei(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:v2(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function v2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}var vd=class extends gv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}};function rA(t,e,n,...r){t=ur(t,yt);let i=ur(t.firestore,pr),s=Zb(i),o;return o=typeof(e=Ye(e))=="string"||e instanceof Ms?p2(s,"updateDoc",t._key,e,n,r):f2(s,"updateDoc",t._key,e),Vv(i,[o.toMutation(t._key,kn.exists(!0))])}function iA(t){return Vv(ur(t.firestore,pr),[new wa(t._key,kn.none())])}function sA(t,e){let n=ur(t.firestore,pr),r=Ov(t),i=y2(t.converter,e);return Vv(n,[h2(Zb(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function Lv(t,...e){var n,r,i;t=Ye(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||ZC(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(ZC(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof yt)u=ur(t.firestore,pr),l=Tv(t._key.path),c={next:d=>{e[o]&&e[o](_2(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=ur(t,hd);u=ur(d.firestore,pr),l=d._query;let h=new vd(u);c={next:f=>{e[o]&&e[o](new mv(u,h,d,f))},error:e[o+1],complete:e[o+2]},m2(t._query)}return function(h,f,g,v){let _=new av(v),T=new ev(f,_,g);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return qj(yield KC(h),T)})),()=>{_.Qa(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return zj(yield KC(h),T)}))}}(Qb(u),l,a,c)}function Vv(t,e){return function(r,i){let s=new dn;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return Xj(yield u2(r),i,s)})),s.promise}(Qb(t),e)}function _2(t,e,n){let r=n.docs.get(e._key),i=new vd(t);return new yd(t,i,e._key,r,new ei(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ns=i})(ns),sr(new At("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new pr(new Vm(r.getProvider("auth-internal")),new $m(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ae(EC,"4.6.0",e),Ae(EC,"4.6.0","esm2017")})();var bd=function(){return bd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bd.apply(this,arguments)};var E2={includeMetadataChanges:!1};function oA(t,e){return e===void 0&&(e=E2),new G(function(n){var r=Lv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function aA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:bd(bd({},r),(n={},n[e.idField]=t.id,n))}function cA(t){return oA(t,{includeMetadataChanges:!0}).pipe(U(function(e){return e.docs}))}function uA(t,e){return e===void 0&&(e={}),cA(t).pipe(U(function(n){return n.map(function(r){return aA(r,e)})}))}var li=class{constructor(e){return e}},lA="firestore",Uv=class{constructor(){return Oo(lA)}};var jv=new S("angularfire2.firestore-instances");function D2(t,e){let n=bg(lA,t,e);return n&&new li(n)}function T2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new li(r)}}var C2={provide:Uv,deps:[[new Vt,jv]]},b2={provide:li,useFactory:D2,deps:[[new Vt,jv],Hr]},A2=(()=>{class t{constructor(){Ae("angularfire",is.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ut({type:t});static \u0275inj=Lt({providers:[b2,C2]})}return t})();function dA(t,...e){return{ngModule:A2,providers:[{provide:jv,useFactory:T2(t),multi:!0,deps:[se,Dt,ko,Fo,[new Vt,al],[new Vt,Po],...e]}]}}var Bv=qt(uA,!0);var hA=qt(sA,!0);var $v=qt(Wb,!0);var fA=qt(iA,!0);var Hv=qt(Ov,!0);var pA=qt(Kb,!0);var gA=qt(rA,!0);var mA=[];var R2={apiKey:"AIzaSyCB6oI5JJf-uSP9-0dNuOjfsNArydtK3P4",authDomain:"furdy-fire.firebaseapp.com",projectId:"furdy-fire",storageBucket:"furdy-fire.appspot.com",messagingSenderId:"330431681247",appId:"1:330431681247:web:1d15c84ed49f19bff08f6a"},yA={providers:[aT(mA),bD(),Yc(kT(()=>FT(R2))),Yc(dA(()=>pA()))]};var bA=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(j(Rn),j(tn))},e.\u0275dir=Ce({type:e});let t=e;return t})(),zv=(()=>{let e=class e extends bA{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pr(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,features:[nn]});let t=e;return t})(),Pd=new S("");var M2={provide:Pd,useExisting:Wn(()=>Od),multi:!0};function N2(){let t=Nn()?Nn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var x2=new S(""),Od=(()=>{let e=class e extends bA{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!N2())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(j(Rn),j(tn),j(x2,8))},e.\u0275dir=Ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Be("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Hi([M2]),nn]});let t=e;return t})();var AA=new S(""),SA=new S("");function RA(t){return t!=null}function MA(t){return Yn(t)?he(t):t}function NA(t){let e={};return t.forEach(n=>{e=n!=null?D(D({},e),n):e}),Object.keys(e).length===0?null:e}function xA(t,e){return e.map(n=>n(t))}function P2(t){return!t.validate}function PA(t){return t.map(e=>P2(e)?e:n=>e.validate(n))}function O2(t){if(!t)return null;let e=t.filter(RA);return e.length==0?null:function(n){return NA(xA(n,e))}}function Gv(t){return t!=null?O2(PA(t)):null}function k2(t){if(!t)return null;let e=t.filter(RA);return e.length==0?null:function(n){let r=xA(n,e).map(MA);return th(r).pipe(U(NA))}}function Wv(t){return t!=null?k2(PA(t)):null}function vA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function F2(t){return t._rawValidators}function L2(t){return t._rawAsyncValidators}function qv(t){return t?Array.isArray(t)?t:[t]:[]}function Sd(t,e){return Array.isArray(t)?t.includes(e):t===e}function _A(t,e){let n=qv(e);return qv(t).forEach(i=>{Sd(n,i)||n.push(i)}),n}function wA(t,e){return qv(e).filter(n=>!Sd(t,n))}var Rd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Os=class extends Rd{get formDirective(){return null}get path(){return null}},ka=class extends Rd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Md=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},V2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},C8=ie(D({},V2),{"[class.ng-submitted]":"isSubmitted"}),OA=(()=>{let e=class e extends Md{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(ka,2))},e.\u0275dir=Ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&$i("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[nn]});let t=e;return t})(),kA=(()=>{let e=class e extends Md{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(Os,10))},e.\u0275dir=Ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&$i("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[nn]});let t=e;return t})();var xa="VALID",Ad="INVALID",Ps="PENDING",Pa="DISABLED";function FA(t){return(kd(t)?t.validators:t)||null}function U2(t){return Array.isArray(t)?Gv(t):t||null}function LA(t,e){return(kd(e)?e.asyncValidators:t)||null}function j2(t){return Array.isArray(t)?Wv(t):t||null}function kd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function B2(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function $2(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var Nd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xa}get invalid(){return this.status===Ad}get pending(){return this.status==Ps}get disabled(){return this.status===Pa}get enabled(){return this.status!==Pa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_A(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_A(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wA(e,this._rawAsyncValidators))}hasValidator(e){return Sd(this._rawValidators,e)}hasAsyncValidator(e){return Sd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ps,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pa,this.errors=null,this._forEachChild(r=>{r.disable(ie(D({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xa,this._forEachChild(r=>{r.enable(ie(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xa||this.status===Ps)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pa:xa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ps,this._hasOwnPendingAsyncValidator=!0;let n=MA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?Pa:this.errors?Ad:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ps)?Ps:this._anyControlsHaveStatus(Ad)?Ad:xa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=U2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=j2(this._rawAsyncValidators)}},xd=class extends Nd{constructor(e,n,r){super(FA(n),LA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){$2(this,!0,e),Object.keys(e).forEach(r=>{B2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Kv=new S("CallSetDisabledState",{providedIn:"root",factory:()=>Qv}),Qv="always";function H2(t,e){return[...e.path,t]}function VA(t,e,n=Qv){UA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),z2(t,e),W2(t,e),G2(t,e),q2(t,e)}function IA(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function q2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function UA(t,e){let n=F2(t);e.validator!==null?t.setValidators(vA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=L2(t);e.asyncValidator!==null?t.setAsyncValidators(vA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();IA(e._rawValidators,i),IA(e._rawAsyncValidators,i)}function z2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&jA(t,e)})}function G2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&jA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function jA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function W2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function K2(t,e){t==null,UA(t,e)}function Q2(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Y2(t){return Object.getPrototypeOf(t.constructor)===zv}function J2(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Z2(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Od?n=s:Y2(s)?r=s:i=s}),i||r||n||null}var X2={provide:Os,useExisting:Wn(()=>Yv)},Oa=Promise.resolve(),Yv=(()=>{let e=class e extends Os{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ue,this.form=new xd({},Gv(r),Wv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Oa.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),VA(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Oa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Oa.then(()=>{let i=this._findContainer(r.path),s=new xd({});K2(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Oa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Oa.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,J2(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(j(AA,10),j(SA,10),j(Kv,8))},e.\u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&Be("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[tt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hi([X2]),nn]});let t=e;return t})();function EA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function DA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var eB=class extends Nd{constructor(e=null,n,r){super(FA(n),LA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(DA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var tB={provide:ka,useExisting:Wn(()=>Jv)},TA=Promise.resolve(),Jv=(()=>{let e=class e extends ka{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new eB,this._registered=!1,this.name="",this.update=new Ue,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Z2(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Q2(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){VA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){TA.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&vu(i);TA.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?H2(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(j(Os,9),j(AA,10),j(SA,10),j(Pd,10),j(Zn,8),j(Kv,8))},e.\u0275dir=Ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"],options:[tt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Hi([tB]),nn,Ui]});let t=e;return t})(),BA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var nB={provide:Pd,useExisting:Wn(()=>HA),multi:!0};function $A(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function rB(t){return t.split(":")[0]}var HA=(()=>{let e=class e extends zv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=$A(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=rB(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pr(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&Be("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Hi([nB]),nn]});let t=e;return t})(),qA=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue($A(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(tn),j(Rn),j(HA,9))},e.\u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),iB={provide:Pd,useExisting:Wn(()=>zA),multi:!0};function CA(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function sB(t){return t.split(":")[0]}var zA=(()=>{let e=class e extends zv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],l=this._getOptionValue(u.value);s.push(l)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let l=this._getOptionValue(u.value);s.push(l)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=sB(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pr(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&Be("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Hi([iB]),nn]});let t=e;return t})(),GA=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(CA(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(CA(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(tn),j(Rn),j(zA,9))},e.\u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var oB=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ut({type:e}),e.\u0275inj=Lt({});let t=e;return t})();var WA=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Kv,useValue:r.callSetDisabledState??Qv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ut({type:e}),e.\u0275inj=Lt({imports:[oB]});let t=e;return t})();var Fd=t=>({disabled:t});function cB(t,e){t&1&&(ae(0,"div",16),ut(1,"div",17),fe())}function uB(t,e){t&1&&ut(0,"div",30)}function lB(t,e){if(t&1){let n=gu();ae(0,"li",18)(1,"div",19)(2,"div",20),lt(3),fe(),ae(4,"div",21)(5,"select",22,1),Be("change",function(){let i=bn(n).$implicit,s=Mn(6),o=Ht();return An(o.togglePasswordChanging(s.value,i.id,i.password))}),ae(7,"option",23),lt(8,"Name"),fe(),ae(9,"option",24),lt(10,"Email"),fe(),ae(11,"option",25),lt(12,"Password"),fe()(),ut(13,"input",26,2),ae(15,"button",27),Be("click",function(){let i=bn(n).$implicit,s=Mn(6),o=Mn(14),a=Ht();return An(a.updateData(i.id,s.value,o.value,i.password))}),lt(16,"Edit"),fe(),ae(17,"button",28),Be("click",function(){let i=bn(n).$implicit,s=Ht();return An(s.deleteData(i.id))}),lt(18,"Delete"),fe(),Bi(19,uB,1,0,"div",29),fe()()()}if(t&2){let n=e.$implicit,r=Ht();ct(3),Kf(" ",n.name," | ",n.email," "),ct(),$i("blocked",r.isUpdating),ct(),$t("disabled",r.isUpdating)("ngClass",so(13,Fd,r.isUpdating)),ct(8),$t("disabled",r.isUpdating)("ngClass",so(15,Fd,r.isUpdating)),ct(2),$t("disabled",r.isUpdating)("ngClass",so(17,Fd,r.isUpdating)),ct(2),$t("disabled",r.isUpdating)("ngClass",so(19,Fd,r.isUpdating)),ct(2),$t("ngIf",r.isUpdating)}}function dB(t,e){if(t&1&&(ae(0,"div",47),lt(1),fe()),t&2){let n=Ht(2);ct(),Wf(n.passwordChangeMessage)}}function hB(t,e){if(t&1){let n=gu();ae(0,"div",31)(1,"div",32)(2,"h3",33),lt(3,"Current Password:"),fe(),ae(4,"div",34),ut(5,"input",35,3),ae(7,"span",36),Be("click",function(){bn(n);let i=Mn(6),s=Ht();return An(s.showPassword(i))}),eu(),ae(8,"svg",37),ut(9,"path",38)(10,"path",39),fe()()(),Df(),ae(11,"h3",40),lt(12,"New Password:"),fe(),ae(13,"div",34),ut(14,"input",41,4),ae(16,"span",36),Be("click",function(){bn(n);let i=Mn(15),s=Ht();return An(s.showPassword(i))}),eu(),ae(17,"svg",37),ut(18,"path",38)(19,"path",39),fe()()(),Df(),ae(20,"button",42),Be("click",function(){bn(n);let i=Mn(6),s=Mn(15),o=Ht();return An(o.currentUserId?o.updateData(o.currentUserId,"password",s.value,i==null?null:i.value):null)}),lt(21,"Change Password"),fe(),ae(22,"button",43),Be("click",function(){bn(n);let i=Ht();return An(i.closePasswordPopup())}),eu(),ae(23,"svg",44),ut(24,"path",45),fe()(),Bi(25,dB,2,1,"div",46),fe()()}if(t&2){let n=Ht();ct(25),$t("ngIf",n.passwordChangeMessage)}}var KA=(()=>{let e=class e{constructor(r){this.firestore=r,this.title="furdy-fire",this.isUpdating=!1,this.isUserDataLoading=!0,this.isPasswordChanging=!1,this.passwordChangeMessage=null,this.getData()}addData(r){let i=$v(this.firestore,"users");hA(i,r.value).then(()=>console.log("Data Saved Successfully")).catch(console.error)}getData(){let r=$v(this.firestore,"users");this.isUserDataLoading=!0,Bv(r,{idField:"id"}).subscribe({next:()=>{this.isUserDataLoading=!1},complete:()=>{},error:i=>{console.error(i),this.isUserDataLoading=!1}}),this.userData=Bv(r,{idField:"id"})}updateData(r,i,s,o){return p(this,null,function*(){this.isUpdating=!0;let a=Hv(this.firestore,"users",r),c={[i]:s};try{i==="password"&&o!==this.currentPass?this.passwordChangeMessage="Current password does not match":(yield gA(a,c),i==="password"&&(this.passwordChangeMessage="Password Updated"))}catch(u){console.error(u)}finally{this.isUpdating=!1}})}deleteData(r){let i=Hv(this.firestore,"users",r);fA(i).then(()=>console.log("Data Deleted")).catch(console.error)}showPassword(r){r.type=r.type==="password"?"text":"password"}togglePasswordChanging(r,i,s){r==="password"&&(this.isPasswordChanging=!0,this.currentUserId=i,this.currentPass=s)}closePasswordPopup(){this.isPasswordChanging=!1}};e.\u0275fac=function(i){return new(i||e)(j(li))},e.\u0275cmp=Qc({type:e,selectors:[["app-root"]],standalone:!0,features:[mu],decls:15,vars:5,consts:[["f","ngForm"],["selectValue",""],["updatedValue",""],["currentPassword",""],["newPassword",""],[1,"page","bg-black","min-h-screen","p-4","flex","flex-col","font-mono"],[1,"bg-gradient-to-br","from-gray-900","to-red-800","bg-opacity-90","p-6","rounded-lg","shadow-lg","mb-4","flex","flex-col","items-center",3,"ngSubmit"],[1,"text-white","text-3xl","mb-8"],["ngModel","","type","text","name","name","placeholder","Name",1,"block","mb-4","p-2","border","border-white","rounded-md","w-full","text-white","bg-transparent","focus:outline-none","focus:border-red-500","focus:ring","focus:ring-red-500","h-12"],["ngModel","","type","email","name","email","placeholder","Email",1,"block","mb-4","p-2","border","border-white","rounded-md","w-full","text-white","bg-transparent","focus:outline-none","focus:border-red-500","focus:ring","focus:ring-red-500","h-12"],["ngModel","","type","password","name","password","placeholder","Password",1,"block","mb-4","p-2","border","border-white","rounded-md","w-full","text-white","bg-transparent","focus:outline-none","focus:border-red-500","focus:ring","focus:ring-red-500","h-12"],["type","submit",1,"block","w-full","bg-red-600","hover:bg-red-800","text-white","font-semibold","p-3","rounded-md","transition","duration-300","h-12"],[1,"flex-1","min-h-0","overflow-auto","bg-gradient-to-br","from-gray-900","to-red-800","bg-opacity-90","p-6","rounded-lg","shadow-lg","relative"],["class","loading-overlay absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-60 rounded-lg",4,"ngIf"],["class","mb-4 bg-gray-900 rounded-lg p-4",4,"ngFor","ngForOf"],["class","password-popup absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-60 rounded-lg",4,"ngIf"],[1,"loading-overlay","absolute","inset-0","flex","items-center","justify-center","bg-gray-900","bg-opacity-60","rounded-lg"],[1,"spinner"],[1,"mb-4","bg-gray-900","rounded-lg","p-4"],[1,"flex","justify-between","items-center"],[1,"text-white","font-semibold"],[1,"user-data","relative"],[1,"border","border-white","rounded-md","p-2","mr-2","bg-white","focus:outline-none","focus:border-red-500","focus:ring","focus:ring-red-500",3,"change","disabled","ngClass"],["value","name"],["value","email"],["value","password"],["type","text","name","newValue",1,"border","border-white","rounded-md","p-2","mr-2","text-white","bg-transparent","focus:outline-none","focus:border-red-500","focus:ring","focus:ring-red-500",3,"disabled","ngClass"],[1,"bg-red-600","hover:bg-red-700","text-white","font-semibold","py-2","px-4","rounded-md","mr-2","transition","duration-300",3,"click","disabled","ngClass"],[1,"bg-red-600","hover:bg-red-800","text-white","font-semibold","py-2","px-4","rounded-md","transition","duration-300",3,"click","disabled","ngClass"],["class","absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 rounded-lg pointer-events-none",4,"ngIf"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-gray-900","bg-opacity-50","rounded-lg","pointer-events-none"],[1,"password-popup","absolute","inset-0","flex","items-center","justify-center","bg-gray-900","bg-opacity-60","rounded-lg"],[1,"flex","flex-col","items-center","bg-gray-900","relative","p-4","pt-12","rounded-lg","shadow-lg"],[1,"text-white","text-lg","mb-2"],[1,"relative"],["type","password","name","currentPassword","placeholder","Current Password",1,"border","border-white","rounded-md","p-2","mr-2","text-white","bg-transparent","focus:outline-none","focus:border-red-500","focus:ring","focus:ring-red-500"],[1,"absolute","top-3","right-3","cursor-pointer","text-gray-300","hover:text-gray-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-gray-500","hover:text-red-700","transition","duration-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 16.25a3.756 3.756 0 01-2-2.75c.042-.652.426-1.309 1-1.75a1.714 1.714 0 011-1c.674-.441 1.29-.166 1.374.086.284.671.186 1.413-.126 2.164-.165.48-.39.919-.614 1.25a3.726 3.726 0 01-1.634 1.15zm2.857-5.679a9.086 9.086 0 00-1.654-2.179c-.548-.473-1.118-.821-1.704-1.059-.625-.248-1.195-.375-1.74-.375-.545 0-1.116.127-1.74.375-.586.238-1.155.586-1.703 1.059-.567.489-1.1 1.102-1.583 1.813M9.5 10.75a1.25 1.25 0 11.002-2.502A1.25 1.25 0 019.5 10.75z"],[1,"text-white","text-lg","mt-4","mb-2"],["type","password","name","newPassword","placeholder","New Password",1,"border","border-white","rounded-md","p-2","mr-2","text-white","bg-transparent","focus:outline-none","focus:border-red-500","focus:ring","focus:ring-red-500"],[1,"bg-red-600","hover:bg-red-700","text-white","font-semibold","mt-8","py-2","px-4","rounded-md","transition","duration-300",3,"click"],[1,"absolute","top-2","right-2","mt-1","mr-1","text-gray-500","hover:text-red-700","transition","duration-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["class","text-white mt-8",4,"ngIf"],[1,"text-white","mt-8"]],template:function(i,s){if(i&1){let o=gu();ae(0,"div",5)(1,"form",6,0),Be("ngSubmit",function(){bn(o);let c=Mn(2);return An(s.addData(c))}),ae(3,"h1",7),lt(4,"User Database Simulator"),fe(),ut(5,"input",8)(6,"input",9)(7,"input",10),ae(8,"button",11),lt(9,"Add User"),fe()(),ae(10,"ul",12),Bi(11,cB,2,0,"div",13)(12,lB,20,21,"li",14),LE(13,"async"),fe(),Bi(14,hB,26,1,"div",15),fe()}i&2&&(ct(11),$t("ngIf",s.isUserDataLoading),ct(),$t("ngForOf",VE(13,3,s.userData)),ct(2),$t("ngIf",s.isPasswordChanging))},dependencies:[ap,nD,rD,iD,sD,WA,BA,qA,GA,Od,OA,kA,Jv,Yv],styles:["body[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.disabled[_ngcontent-%COMP%]{transition:opacity .3s ease-in-out,background-color .3s ease-in-out;opacity:.7}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-radius:50%;border-top:4px solid #ffffff;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]});let t=e;return t})();TD(KA,yA).catch(t=>console.error(t));
